/*! For license information please see main.830a4fc3.js.LICENSE.txt */
(()=>{var t={219:(t,e,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&t(e,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(e),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=h(n,y);try{c(e,y,v)}catch(x){}}}}return e}},983:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case u:case d:case o:case s:case a:case p:return t;default:switch(t=t&&t.$$typeof){case c:case h:case g:case m:case l:return t;default:return e}}case i:return e}}}function S(t){return w(t)===d}e.AsyncMode=u,e.ConcurrentMode=d,e.ContextConsumer=c,e.ContextProvider=l,e.Element=r,e.ForwardRef=h,e.Fragment=o,e.Lazy=g,e.Memo=m,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return S(t)||w(t)===u},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===h},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===d||t===s||t===a||t===p||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===l||t.$$typeof===c||t.$$typeof===h||t.$$typeof===v||t.$$typeof===x||t.$$typeof===b||t.$$typeof===y)},e.typeOf=w},763:(t,e,n)=>{"use strict";t.exports=n(983)},497:(t,e,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(t,e,n)=>{t.exports=n(497)()},218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(t,e,n)=>{"use strict";var r=n(43),i=n(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function x(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(f,t)||!d.call(p,t)&&(h.test(t)?f[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var M,L=Object.assign;function F(t){if(void 0===M)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);M=e&&e[1]||""}return"\n"+M+t}var z=!1;function U(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function V(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function q(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case j:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case P:return null!==(e=t.displayName||null)?e:q(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return q(t(e))}catch(n){}}return null}function B(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var n=e.checked;return L({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&x(t,"checked",e,!1)}function X(t,e){J(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return L({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function ot(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,dt=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function ht(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(pt).forEach((function(t){ft.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var yt=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function xt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var St=null,kt=null,Et=null;function _t(t){if(t=xi(t)){if("function"!==typeof St)throw Error(o(280));var e=t.stateNode;e&&(e=wi(e),St(t.stateNode,t.type,e))}}function Ct(t){kt?Et?Et.push(t):Et=[t]:kt=t}function Tt(){if(kt){var t=kt,e=Et;if(Et=kt=null,_t(t),e)for(t=0;t<e.length;t++)_t(e[t])}}function It(t,e){return t(e)}function At(){}var jt=!1;function Pt(t,e,n){if(jt)return t(e,n);jt=!0;try{return It(t,e,n)}finally{jt=!1,(null!==kt||null!==Et)&&(At(),Tt())}}function Rt(t,e){var n=t.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Nt=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ut){Nt=!1}function Dt(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Mt=!1,Lt=null,Ft=!1,zt=null,Ut={onError:function(t){Mt=!0,Lt=t}};function Vt(t,e,n,r,i,o,a,s,l){Mt=!1,Lt=null,Dt.apply(Ut,arguments)}function qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Bt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(qt(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=qt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ht(i),t;if(a===r)return Ht(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Qt=i.unstable_cancelCallback,$t=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Jt=i.unstable_now,Xt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ce=64,ue=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=de(s):0!==(o&=a)&&(r=de(o))}else 0!==(a=n&~i)?r=de(a):0!==o&&(r=de(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,Se,ke,Ee,_e,Ce=!1,Te=[],Ie=null,Ae=null,je=null,Pe=new Map,Re=new Map,Ne=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":je=null;break;case"pointerover":case"pointerout":Pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function Me(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=xi(e))&&Se(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Le(t){var e=vi(t.target);if(null!==e){var n=qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Bt(n)))return t.blockedOn=e,void _e(t.priority,(function(){ke(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=xi(n))&&Se(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);bt=r,n.target.dispatchEvent(r),bt=null,e.shift()}return!0}function ze(t,e,n){Fe(t)&&n.delete(e)}function Ue(){Ce=!1,null!==Ie&&Fe(Ie)&&(Ie=null),null!==Ae&&Fe(Ae)&&(Ae=null),null!==je&&Fe(je)&&(je=null),Pe.forEach(ze),Re.forEach(ze)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ue)))}function qe(t){function e(e){return Ve(e,t)}if(0<Te.length){Ve(Te[0],t);for(var n=1;n<Te.length;n++){var r=Te[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ie&&Ve(Ie,t),null!==Ae&&Ve(Ae,t),null!==je&&Ve(je,t),Pe.forEach(e),Re.forEach(e),n=0;n<Ne.length;n++)(r=Ne[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ne.length&&null===(n=Ne[0]).blockedOn;)Le(n),null===n.blockedOn&&Ne.shift()}var Be=b.ReactCurrentBatchConfig,He=!0;function We(t,e,n,r){var i=xe,o=Be.transition;Be.transition=null;try{xe=1,Ge(t,e,n,r)}finally{xe=i,Be.transition=o}}function Ke(t,e,n,r){var i=xe,o=Be.transition;Be.transition=null;try{xe=4,Ge(t,e,n,r)}finally{xe=i,Be.transition=o}}function Ge(t,e,n,r){if(He){var i=$e(t,e,n,r);if(null===i)Hr(t,e,r,Qe,n),De(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ie=Me(Ie,t,e,n,r,i),!0;case"dragenter":return Ae=Me(Ae,t,e,n,r,i),!0;case"mouseover":return je=Me(je,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pe.set(o,Me(Pe.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Re.set(o,Me(Re.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(De(t,r),4&e&&-1<Oe.indexOf(t)){for(;null!==i;){var o=xi(i);if(null!==o&&we(o),null===(o=$e(t,e,n,r))&&Hr(t,e,r,Qe,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(t,e,r,null,n)}}var Qe=null;function $e(t,e,n,r){if(Qe=null,null!==(t=vi(t=wt(r))))if(null===(e=qt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Bt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Je=null,Xe=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Xe,r=n.length,i="value"in Je?Je.value:Je.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),fn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xn=on(vn),bn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function _n(){return En}var Cn=L({},dn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=on(Cn),In=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),jn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),Nn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Dn,Ln=u&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),zn=!1;function Un(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Bn[t.type]:"textarea"===e}function Wn(t,e,n,r){Ct(r),0<(e=Kr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Qn(t){Fr(t,0)}function $n(t){if(G(bi(t)))return t}function Yn(t,e){if("change"===t)return e}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(t){if("value"===t.propertyName&&$n(Gn)){var e=[];Wn(e,Gn,t,wt(t)),Pt(Qn,e)}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return $n(Gn)}function or(t,e){if("click"===t)return $n(e)}function ar(t,e){if("input"===t||"change"===t)return $n(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function dr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hr(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function pr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fr(t){var e=hr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function _r(t){if(kr[t])return kr[t];if(!Sr[t])return t;var e,n=Sr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Er)return kr[t]=n[e];return t}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=_r("animationend"),Tr=_r("animationiteration"),Ir=_r("animationstart"),Ar=_r("transitionend"),jr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){jr.set(t,e),l(e,[t])}for(var Nr=0;Nr<Pr.length;Nr++){var Or=Pr[Nr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,c){if(Vt.apply(this,arguments),Mt){if(!Mt)throw Error(o(198));var u=Lt;Mt=!1,Lt=null,Ft||(Ft=!0,zt=u)}}(r,e,void 0,t),t.currentTarget=null}function Fr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Lr(i,s,c),o=l}}}if(Ft)throw t=zt,Ft=!1,zt=null,t}function zr(t,e){var n=e[mi];void 0===n&&(n=e[mi]=new Set);var r=t+"__bubble";n.has(r)||(Br(e,t,2,!1),n.add(r))}function Ur(t,e,n){var r=0;e&&(r|=4),Br(n,t,r,e)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(t){if(!t[Vr]){t[Vr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Mr.has(e)||Ur(e,!1,t),Ur(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Vr]||(e[Vr]=!0,Ur("selectionchange",!1,e))}}function Br(t,e,n,r){switch(Ye(e)){case 1:var i=We;break;case 4:i=Ke;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}Pt((function(){var r=o,i=wt(n),a=[];t:{var s=jr.get(t);if(void 0!==s){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Cr:case Tr:case Ir:l=yn;break;case Ar:l=jn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&e),d=!u&&"scroll"===t,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Rt(f,h))&&u.push(Wr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===bt||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:bi(l),p=null==c?s:bi(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,vi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)t:{for(h=c,f=0,p=u=l;p;p=Gr(p))f++;for(p=0,m=h;m;m=Gr(m))p++;for(;0<f-p;)u=Gr(u),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break t;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,s,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Hn(s))if(Jn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(t,r))?Wn(a,g,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&tt(s,"number",s.value)),y=r?bi(r):window,t){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(On)t:{switch(t){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else qn?Un(t,n)&&(x="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==x?"onCompositionEnd"===x&&qn&&(v=tn()):(Xe="value"in(Je=i)?Je.value:Je.textContent,qn=!0)),0<(y=Kr(r,x)).length&&(x=new bn(x,t,null,n,i),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=Vn(n))&&(x.data=v))),(v=Mn?function(t,e){switch(t){case"compositionend":return Vn(e);case"keypress":return 32!==e.which?null:(zn=!0,Fn);case"textInput":return(t=e.data)===Fn&&zn?null:t;default:return null}}(t,n):function(t,e){if(qn)return"compositionend"===t||!On&&Un(t,e)?(t=tn(),Ze=Xe=Je=null,qn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ln&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,e)}))}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Rt(t,n))&&r.unshift(Wr(t,o,i)),null!=(o=Rt(t,e))&&r.push(Wr(t,o,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Rt(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Rt(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(t){return("string"===typeof t?t:""+t).replace($r,"\n").replace(Yr,"")}function Xr(t,e,n){if(e=Jr(e),Jr(t)!==e&&n)throw Error(o(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void qe(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qe(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(t){var e=t[hi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[hi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[hi])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function xi(t){return!(t=t[hi]||t[fi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wi(t){return t[pi]||null}var Si=[],ki=-1;function Ei(t){return{current:t}}function _i(t){0>ki||(t.current=Si[ki],Si[ki]=null,ki--)}function Ci(t,e){ki++,Si[ki]=t.current,t.current=e}var Ti={},Ii=Ei(Ti),Ai=Ei(!1),ji=Ti;function Pi(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ni(){_i(Ai),_i(Ii)}function Oi(t,e,n){if(Ii.current!==Ti)throw Error(o(168));Ci(Ii,e),Ci(Ai,n)}function Di(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,B(t)||"Unknown",i));return L({},n,r)}function Mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,ji=Ii.current,Ci(Ii,t),Ci(Ai,Ai.current),!0}function Li(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Di(t,e,ji),r.__reactInternalMemoizedMergedChildContext=t,_i(Ai),_i(Ii),Ci(Ii,t)):_i(Ai),Ci(Ai,n)}var Fi=null,zi=!1,Ui=!1;function Vi(t){null===Fi?Fi=[t]:Fi.push(t)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var t=0,e=xe;try{var n=Fi;for(xe=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(t+1)),Gt(Zt,qi),i}finally{xe=e,Ui=!1}}return null}var Bi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(t,e){Bi[Hi++]=Ki,Bi[Hi++]=Wi,Wi=t,Ki=e}function Zi(t,e,n){Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=$i,$i=t;var r=Yi;t=Ji;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-ae(e)+i|n<<i|r,Ji=o+t}else Yi=1<<o|n<<i|r,Ji=t}function to(t){null!==t.return&&(Xi(t,1),Zi(t,1,0))}function eo(t){for(;t===Wi;)Wi=Bi[--Hi],Bi[Hi]=null,Ki=Bi[--Hi],Bi[Hi]=null;for(;t===$i;)$i=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return uo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw po(),Error(o(418));for(;e;)ao(t,e),e=ci(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function po(){for(var t=ro;t;)t=ci(t.nextSibling)}function fo(){ro=no=null,io=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var go=b.ReactCurrentBatchConfig;function yo(t,e){if(t&&t.defaultProps){for(var n in e=L({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vo=Ei(null),xo=null,bo=null,wo=null;function So(){wo=bo=xo=null}function ko(t){var e=vo.current;_i(vo),t._currentValue=e}function Eo(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){xo=t,wo=bo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function Co(t){var e=t._currentValue;if(wo!==t)if(t={context:t,memoizedValue:e,next:null},null===bo){if(null===xo)throw Error(o(308));bo=t,xo.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var To=null;function Io(t){null===To?To=[t]:To.push(t)}function Ao(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Io(e)):(n.next=i.next,i.next=n),e.interleaved=n,jo(t,r)}function jo(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ro(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jo(t,n)}return null===(i=r.interleaved)?(e.next=e,Io(r)):(e.next=i.next,i.next=e),r.interleaved=e,jo(t,n)}function Mo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Lo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fo(t,e,n,r){var i=t.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var f=t,m=s;switch(h=e,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break t}d=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break t;d=L({},d,h);break t;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Ll|=a,t.lanes=a,t.memoizedState=d}}function zo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Vo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:L({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var qo={isMounted:function(t){return!!(t=t._reactInternals)&&qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ec(),i=nc(t),o=Oo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Do(t,o,i))&&(rc(e,t,i,r),Mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ec(),i=nc(t),o=Oo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Do(t,o,i))&&(rc(e,t,i,r),Mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),r=nc(t),i=Oo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Do(t,i,r))&&(rc(e,t,r,n),Mo(e,t,r))}};function Bo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Ho(t,e,n){var r=!1,i=Ti,o=e.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Ri(e)?ji:Ii.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Pi(t,i):Ti),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=qo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qo.enqueueReplaceState(e,e.state,null)}function Ko(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Uo,Ro(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Ri(e)?ji:Ii.current,i.context=Pi(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Vo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&qo.enqueueReplaceState(i,i.state,null),Fo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Go(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Uo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Qo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $o(t){return(0,t._init)(t._payload)}function Yo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Oc(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Fc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===k?d(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&$o(o)===e.type)?((r=i(e,n.props)).ref=Go(t,e,n),r.return=t,r):((r=Dc(n.type,n.key,n.props,null,t.mode,r)).ref=Go(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=zc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function d(t,e,n,r,o){return null===e||7!==e.tag?((e=Mc(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Dc(e.type,e.key,e.props,null,t.mode,n)).ref=Go(t,null,e),n.return=t,n;case S:return(e=zc(e,t.mode,n)).return=t,e;case R:return h(t,(0,e._init)(e._payload),n)}if(et(e)||D(e))return(e=Mc(e,t.mode,n,null)).return=t,e;Qo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(t,e,n,r):null;case S:return n.key===i?u(t,e,n,r):null;case R:return p(t,e,(i=n._init)(n._payload),r)}if(et(n)||D(n))return null!==i?null:d(t,e,n,r,null);Qo(t,n)}return null}function f(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case S:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case R:return f(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||D(r))return d(e,t=t.get(n)||null,r,i,null);Qo(e,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(i,d,s[m],l);if(null===y){null===d&&(d=g);break}t&&d&&null===y.alternate&&e(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(t&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return t&&d.forEach((function(t){return e(i,t)})),io&&Xi(i,m),c}function g(i,s,l,c){var u=D(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=p(i,m,v.value,c);if(null===x){null===m&&(m=y);break}t&&m&&null===x.alternate&&e(i,m),s=a(x,s,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Xi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,c))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return t&&m.forEach((function(t){return e(i,t)})),io&&Xi(i,g),u}return function t(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&$o(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Go(r,u,a),o.return=r,r=o;break t}n(r,u);break}e(r,u),u=u.sibling}a.type===k?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=Go(r,o,a),l.return=r,r=l)}return s(r);case S:t:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=zc(a,r.mode,l)).return=r,r=o}return s(r);case R:return t(r,o,(u=a._init)(a._payload),l)}if(et(a))return m(r,o,a,l);if(D(a))return g(r,o,a,l);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Jo=Yo(!0),Xo=Yo(!1),Zo={},ta=Ei(Zo),ea=Ei(Zo),na=Ei(Zo);function ra(t){if(t===Zo)throw Error(o(174));return t}function ia(t,e){switch(Ci(na,e),Ci(ea,t),Ci(ta,Zo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}_i(ta),Ci(ta,e)}function oa(){_i(ta),_i(ea),_i(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=lt(e,t.type);e!==n&&(Ci(ea,t),Ci(ta,n))}function sa(t){ea.current===t&&(_i(ta),_i(ea))}var la=Ei(0);function ca(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ua=[];function da(){for(var t=0;t<ua.length;t++)ua[t]._workInProgressVersionPrimary=null;ua.length=0}var ha=b.ReactCurrentDispatcher,pa=b.ReactCurrentBatchConfig,fa=0,ma=null,ga=null,ya=null,va=!1,xa=!1,ba=0,wa=0;function Sa(){throw Error(o(321))}function ka(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ea(t,e,n,r,i,a){if(fa=a,ma=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ha.current=null===t||null===t.memoizedState?ss:ls,t=n(r,i),xa){a=0;do{if(xa=!1,ba=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,e.updateQueue=null,ha.current=cs,t=n(r,i)}while(xa)}if(ha.current=as,e=null!==ga&&null!==ga.next,fa=0,ya=ga=ma=null,va=!1,e)throw Error(o(300));return t}function _a(){var t=0!==ba;return ba=0,t}function Ca(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=t:ya=ya.next=t,ya}function Ta(){if(null===ga){var t=ma.alternate;t=null!==t?t.memoizedState:null}else t=ga.next;var e=null===ya?ma.memoizedState:ya.next;if(null!==e)ya=e,ga=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ga=t).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=t:ya=ya.next=t}return ya}function Ia(t,e){return"function"===typeof e?e(t):e}function Aa(t){var e=Ta(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ma.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ma.lanes|=a,Ll|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ja(t){var e=Ta(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(bs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Ra(t,e){var n=ma,r=Ta(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ha(Da.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,za(9,Oa.bind(null,n,r,i,e),void 0,null),null===jl)throw Error(o(349));0!==(30&fa)||Na(n,e,i)}return i}function Na(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Oa(t,e,n,r){e.value=n,e.getSnapshot=r,Ma(e)&&La(t)}function Da(t,e,n){return n((function(){Ma(e)&&La(t)}))}function Ma(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function La(t){var e=jo(t,1);null!==e&&rc(e,t,1,-1)}function Fa(t){var e=Ca();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ma,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ua(){return Ta().memoizedState}function Va(t,e,n,r){var i=Ca();ma.flags|=t,i.memoizedState=za(1|e,n,void 0,void 0===r?null:r)}function qa(t,e,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&ka(r,a.deps))return void(i.memoizedState=za(e,n,o,r))}ma.flags|=t,i.memoizedState=za(1|e,n,o,r)}function Ba(t,e){return Va(8390656,8,t,e)}function Ha(t,e){return qa(2048,8,t,e)}function Wa(t,e){return qa(4,2,t,e)}function Ka(t,e){return qa(4,4,t,e)}function Ga(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Qa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,qa(4,4,Ga.bind(null,e,t),n)}function $a(){}function Ya(t,e){var n=Ta();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ka(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ja(t,e){var n=Ta();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ka(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xa(t,e,n){return 0===(21&fa)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(sr(n,e)||(n=me(),ma.lanes|=n,Ll|=n,t.baseState=!0),e)}function Za(t,e){var n=xe;xe=0!==n&&4>n?n:4,t(!0);var r=pa.transition;pa.transition={};try{t(!1),e()}finally{xe=n,pa.transition=r}}function ts(){return Ta().memoizedState}function es(t,e,n){var r=nc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t))is(e,n);else if(null!==(n=Ao(t,e,n,r))){rc(n,t,r,ec()),os(n,e,r)}}function ns(t,e,n){var r=nc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,Io(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=Ao(t,e,i,r))&&(rc(n,t,r,i=ec()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ma||null!==e&&e===ma}function is(t,e){xa=va=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var as={readContext:Co,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:Co,useCallback:function(t,e){return Ca().memoizedState=[t,void 0===e?null:e],t},useContext:Co,useEffect:Ba,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Va(4194308,4,Ga.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var n=Ca();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ca();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ma,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ca().memoizedState=t},useState:Fa,useDebugValue:$a,useDeferredValue:function(t){return Ca().memoizedState=t},useTransition:function(){var t=Fa(!1),e=t[0];return t=Za.bind(null,t[1]),Ca().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ma,i=Ca();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===jl)throw Error(o(349));0!==(30&fa)||Na(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ba(Da.bind(null,r,a,t),[t]),r.flags|=2048,za(9,Oa.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ca(),e=jl.identifierPrefix;if(io){var n=Ji;e=":"+e+"R"+(n=(Yi&~(1<<32-ae(Yi)-1)).toString(32)+n),0<(n=ba++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=wa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:Co,useCallback:Ya,useContext:Co,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:Ja,useReducer:Aa,useRef:Ua,useState:function(){return Aa(Ia)},useDebugValue:$a,useDeferredValue:function(t){return Xa(Ta(),ga.memoizedState,t)},useTransition:function(){return[Aa(Ia)[0],Ta().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:ts,unstable_isNewReconciler:!1},cs={readContext:Co,useCallback:Ya,useContext:Co,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:Ja,useReducer:ja,useRef:Ua,useState:function(){return ja(Ia)},useDebugValue:$a,useDeferredValue:function(t){var e=Ta();return null===ga?e.memoizedState=t:Xa(e,ga.memoizedState,t)},useTransition:function(){return[ja(Ia)[0],Ta().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:ts,unstable_isNewReconciler:!1};function us(t,e){try{var n="",r=e;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function ds(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function hs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),hs(0,e)},n}function ms(t,e,n){(n=Oo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,e),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function gs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ps;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Cc.bind(null,t,e,n),e.then(t,t))}function ys(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vs(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Oo(-1,1)).tag=2,Do(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var xs=b.ReactCurrentOwner,bs=!1;function ws(t,e,n,r){e.child=null===t?Xo(e,null,n,r):Jo(e,t.child,n,r)}function Ss(t,e,n,r,i){n=n.render;var o=e.ref;return _o(e,i),r=Ea(t,e,n,r,o,i),n=_a(),null===t||bs?(io&&n&&to(e),e.flags|=1,ws(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function ks(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Nc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Dc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Es(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,(t=Oc(o,r)).ref=e.ref,t.return=e,e.child=t}function Es(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(bs=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Ws(t,e,i);0!==(131072&t.flags)&&(bs=!0)}}return Ts(t,e,n,r,i)}function _s(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ol,Nl),Nl|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ci(Ol,Nl),Nl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Ol,Nl),Nl|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ci(Ol,Nl),Nl|=r;return ws(t,e,i,n),e.child}function Cs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ts(t,e,n,r,i){var o=Ri(n)?ji:Ii.current;return o=Pi(e,o),_o(e,i),n=Ea(t,e,n,r,o,i),r=_a(),null===t||bs?(io&&r&&to(e),e.flags|=1,ws(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Is(t,e,n,r,i){if(Ri(n)){var o=!0;Mi(e)}else o=!1;if(_o(e,i),null===e.stateNode)Hs(t,e),Ho(e,n,r),Ko(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Pi(e,c=Ri(n)?ji:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Wo(e,a,r,c),Po=!1;var h=e.memoizedState;a.state=h,Fo(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Ai.current||Po?("function"===typeof u&&(Vo(e,n,u,r),l=e.memoizedState),(s=Po||Bo(e,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,No(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:yo(e.type,s),a.props=c,d=e.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Co(l):l=Pi(e,l=Ri(n)?ji:Ii.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Wo(e,a,r,l),Po=!1,h=e.memoizedState,a.state=h,Fo(e,r,a,i);var f=e.memoizedState;s!==d||h!==f||Ai.current||Po?("function"===typeof p&&(Vo(e,n,p,r),f=e.memoizedState),(c=Po||Bo(e,n,c,r,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return As(t,e,n,r,o,i)}function As(t,e,n,r,i,o){Cs(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&Li(e,n,!1),Ws(t,e,o);r=e.stateNode,xs.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Jo(e,t.child,null,o),e.child=Jo(e,null,s,o)):ws(t,e,s,o),e.memoizedState=r.state,i&&Li(e,n,!0),e.child}function js(t){var e=t.stateNode;e.pendingContext?Oi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oi(0,e.context,!1),ia(t,e.containerInfo)}function Ps(t,e,n,r,i){return fo(),mo(i),e.flags|=256,ws(t,e,n,r),e.child}var Rs,Ns,Os,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fs(t,e,n){var r,i=e.pendingProps,a=la.current,s=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ci(la,1&a),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,i,0,null),t=Mc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ls(n),e.memoizedState=Ms,t):zs(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Us(t,e,s,r=ds(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&Jo(e,t.child,null,s),e.child.memoizedState=Ls(s),e.memoizedState=Ms,a);if(0===(1&e.mode))return Us(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(t,e,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&t.childLanes),bs||l){if(null!==(r=jl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,jo(t,i),rc(r,t,i,-1))}return gc(),Us(t,e,s,r=ds(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Ic.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=$i,Yi=t.id,Ji=t.overflow,$i=e),e=zs(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Ms,i}return t=(s=t.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function zs(t,e){return(e=Lc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Us(t,e,n,r){return null!==r&&mo(r),Jo(e,t.child,null,n),(t=zs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Vs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Eo(t.return,e,n)}function qs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ws(t,e,r.children,n),0!==(2&(r=la.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Vs(t,n,e);else if(19===t.tag)Vs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ci(la,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ca(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ca(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qs(e,!0,n,null,o);break;case"together":qs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ll|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Oc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Oc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ks(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qs(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(e),null;case 1:case 17:return Ri(e.type)&&Ni(),Gs(e),null;case 3:return r=e.stateNode,oa(),_i(Ai),_i(Ii),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ns(t,e),Gs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)Os(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Gs(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[hi]=e,r[pi]=a,t=0!==(1&e.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":it(r,a),zr("invalid",r)}for(var l in vt(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,t),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[hi]=e,t[pi]=r,Rs(t,e,!1,!1),e.stateNode=t;t:{switch(l=xt(n,r),n){case"dialog":zr("cancel",t),zr("close",t),i=r;break;case"iframe":case"object":case"embed":zr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],t);i=r;break;case"source":zr("error",t),i=r;break;case"img":case"image":case"link":zr("error",t),zr("load",t),i=r;break;case"details":zr("toggle",t),i=r;break;case"input":Y(t,r),i=$(t,r),zr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),zr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),zr("invalid",t)}for(a in vt(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?gt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&dt(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",t):null!=u&&x(t,a,u,l))}switch(n){case"input":K(t),Z(t,r,!1);break;case"textarea":K(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Gs(e),null;case 6:if(t&&null!=e.stateNode)Ds(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[hi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Xr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=e,e.stateNode=r}return Gs(e),null;case 13:if(_i(la),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))po(),fo(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=e}else fo(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Gs(e),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&la.current)?0===Dl&&(Dl=3):gc())),null!==e.updateQueue&&(e.flags|=4),Gs(e),null);case 4:return oa(),Ns(t,e),null===t&&qr(e.stateNode.containerInfo),Gs(e),null;case 10:return ko(e.type._context),Gs(e),null;case 19:if(_i(la),null===(a=e.memoizedState))return Gs(e),null;if(r=0!==(128&e.flags),null===(l=a.rendering))if(r)Ks(a,!1);else{if(0!==Dl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ca(t))){for(e.flags|=128,Ks(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ci(la,1&la.current|2),e.child}t=t.sibling}null!==a.tail&&Jt()>Bl&&(e.flags|=128,r=!0,Ks(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ca(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(e),null}else 2*Jt()-a.renderingStartTime>Bl&&1073741824!==n&&(e.flags|=128,r=!0,Ks(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Jt(),e.sibling=null,n=la.current,Ci(la,r?1&n|2:1&n),e):(Gs(e),null);case 22:case 23:return hc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Nl)&&(Gs(e),6&e.subtreeFlags&&(e.flags|=8192)):Gs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function $s(t,e){switch(eo(e),e.tag){case 1:return Ri(e.type)&&Ni(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),_i(Ai),_i(Ii),da(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(_i(la),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));fo()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return _i(la),null;case 4:return oa(),null;case 10:return ko(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Os=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=$(t,i),r=$(t,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(u in vt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Ds=function(t,e,n,r){n!==r&&(e.flags|=4)};var Ys=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(t,e,r)}else n.current=null}function el(t,e,n){try{n()}catch(r){_c(t,e,r)}}var nl=!1;function rl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(e,n,o)}i=i.next}while(i!==r)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function al(t){var e=t.alternate;null!==e&&(t.alternate=null,al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[hi],delete e[pi],delete e[mi],delete e[gi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var dl=null,hl=!1;function pl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Js||tl(n,e);case 6:var r=dl,i=hl;dl=null,pl(t,e,n),hl=i,null!==(dl=r)&&(hl?(t=dl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(t=dl,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),qe(t)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,pl(t,e,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,e,a),i=i.next}while(i!==r)}pl(t,e,n);break;case 1:if(!Js&&(tl(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,e,s)}pl(t,e,n);break;case 21:pl(t,e,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,pl(t,e,n),Js=r):pl(t,e,n);break;default:pl(t,e,n)}}function ml(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Xs),e.forEach((function(e){var r=Ac.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break t;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===dl)throw Error(o(160));fl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){_c(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),vl(t),4&r){try{rl(3,t,t.return),il(3,t)}catch(g){_c(t,t.return,g)}try{rl(5,t,t.return)}catch(g){_c(t,t.return,g)}}break;case 1:gl(e,t),vl(t),512&r&&null!==n&&tl(n,n.return);break;case 5:if(gl(e,t),vl(t),512&r&&null!==n&&tl(n,n.return),32&t.flags){var i=t.stateNode;try{ht(i,"")}catch(g){_c(t,t.return,g)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),xt(l,s);var u=xt(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?gt(i,h):"dangerouslySetInnerHTML"===d?dt(i,h):"children"===d?ht(i,h):x(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":ot(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?nt(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){_c(t,t.return,g)}}break;case 6:if(gl(e,t),vl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){_c(t,t.return,g)}}break;case 3:if(gl(e,t),vl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qe(e.containerInfo)}catch(g){_c(t,t.return,g)}break;case 4:default:gl(e,t),vl(t);break;case 13:gl(e,t),vl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Jt())),4&r&&ml(t);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&t.mode?(Js=(u=Js)||d,gl(e,t),Js=u):gl(e,t),vl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!d&&0!==(1&t.mode))for(Zs=t,d=t.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(f=(p=Zs).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:tl(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:tl(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(h);continue}}null!==f?(f.return=p,Zs=f):Sl(h)}d=d.sibling}t:for(d=null,h=t;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=mt("display",s))}catch(g){_c(t,t.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(t,t.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(e,t),vl(t),4&r&&ml(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ht(i,""),r.flags&=-33),ul(t,ll(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(t,ll(t),a);break;default:throw Error(o(161))}}catch(s){_c(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function xl(t,e,n){Zs=t,bl(t,e,n)}function bl(t,e,n){for(var r=0!==(1&t.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Ys;var c=Js;if(Ys=a,(Js=l)&&!c)for(Zs=i;null!==Zs;)l=(a=Zs).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Zs=l):kl(i);for(;null!==o;)Zs=o,bl(o,e,n),o=o.sibling;Zs=i,Ys=s,Js=c}wl(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):wl(t)}}function wl(t){for(;null!==Zs;){var e=Zs;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Js||il(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Js)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&zo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}zo(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qe(h)}}}break;default:throw Error(o(163))}Js||512&e.flags&&ol(e)}catch(p){_c(e,e.return,p)}}if(e===t){Zs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Zs=n;break}Zs=e.return}}function Sl(t){for(;null!==Zs;){var e=Zs;if(e===t){Zs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Zs=n;break}Zs=e.return}}function kl(t){for(;null!==Zs;){var e=Zs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){_c(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){_c(e,i,l)}}var o=e.return;try{ol(e)}catch(l){_c(e,o,l)}break;case 5:var a=e.return;try{ol(e)}catch(l){_c(e,a,l)}}}catch(l){_c(e,e.return,l)}if(e===t){Zs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Zs=s;break}Zs=e.return}}var El,_l=Math.ceil,Cl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Il=b.ReactCurrentBatchConfig,Al=0,jl=null,Pl=null,Rl=0,Nl=0,Ol=Ei(0),Dl=0,Ml=null,Ll=0,Fl=0,zl=0,Ul=null,Vl=null,ql=0,Bl=1/0,Hl=null,Wl=!1,Kl=null,Gl=null,Ql=!1,$l=null,Yl=0,Jl=0,Xl=null,Zl=-1,tc=0;function ec(){return 0!==(6&Al)?Jt():-1!==Zl?Zl:Zl=Jt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==go.transition?(0===tc&&(tc=me()),tc):0!==(t=xe)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function rc(t,e,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(o(185));ye(t,n,r),0!==(2&Al)&&t===jl||(t===jl&&(0===(2&Al)&&(Fl|=n),4===Dl&&lc(t,Rl)),ic(t,r),1===n&&0===Al&&0===(1&e.mode)&&(Bl=Jt()+500,zi&&qi()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=pe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=he(t,t===jl?Rl:0);if(0===r)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){zi=!0,Vi(t)}(cc.bind(null,t)):Vi(cc.bind(null,t)),ai((function(){0===(6&Al)&&qi()})),n=null;else{switch(be(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=jc(n,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oc(t,e){if(Zl=-1,tc=0,0!==(6&Al))throw Error(o(327));var n=t.callbackNode;if(kc()&&t.callbackNode!==n)return null;var r=he(t,t===jl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=yc(t,r);else{e=r;var i=Al;Al|=2;var a=mc();for(jl===t&&Rl===e||(Hl=null,Bl=Jt()+500,pc(t,e));;)try{xc();break}catch(l){fc(t,l)}So(),Cl.current=a,Al=i,null!==Pl?e=0:(jl=null,Rl=0,e=Dl)}if(0!==e){if(2===e&&(0!==(i=fe(t))&&(r=i,e=ac(t,i))),1===e)throw n=Ml,pc(t,0),lc(t,r),ic(t,Jt()),n;if(6===e)lc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=yc(t,r))&&(0!==(a=fe(t))&&(r=a,e=ac(t,a))),1===e))throw n=Ml,pc(t,0),lc(t,r),ic(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(t,Vl,Hl);break;case 3:if(lc(t,r),(130023424&r)===r&&10<(e=ql+500-Jt())){if(0!==he(t,0))break;if(((i=t.suspendedLanes)&r)!==r){ec(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(Sc.bind(null,t,Vl,Hl),e);break}Sc(t,Vl,Hl);break;case 4:if(lc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){t.timeoutHandle=ri(Sc.bind(null,t,Vl,Hl),r);break}Sc(t,Vl,Hl);break;default:throw Error(o(329))}}}return ic(t,Jt()),t.callbackNode===n?oc.bind(null,t):null}function ac(t,e){var n=Ul;return t.current.memoizedState.isDehydrated&&(pc(t,e).flags|=256),2!==(t=yc(t,e))&&(e=Vl,Vl=n,null!==e&&sc(e)),t}function sc(t){null===Vl?Vl=t:Vl.push.apply(Vl,t)}function lc(t,e){for(e&=~zl,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function cc(t){if(0!==(6&Al))throw Error(o(327));kc();var e=he(t,0);if(0===(1&e))return ic(t,Jt()),null;var n=yc(t,e);if(0!==t.tag&&2===n){var r=fe(t);0!==r&&(e=r,n=ac(t,r))}if(1===n)throw n=Ml,pc(t,0),lc(t,e),ic(t,Jt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sc(t,Vl,Hl),ic(t,Jt()),null}function uc(t,e){var n=Al;Al|=1;try{return t(e)}finally{0===(Al=n)&&(Bl=Jt()+500,zi&&qi())}}function dc(t){null!==$l&&0===$l.tag&&0===(6&Al)&&kc();var e=Al;Al|=1;var n=Il.transition,r=xe;try{if(Il.transition=null,xe=1,t)return t()}finally{xe=r,Il.transition=n,0===(6&(Al=e))&&qi()}}function hc(){Nl=Ol.current,_i(Ol)}function pc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:oa(),_i(Ai),_i(Ii),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:_i(la);break;case 10:ko(r.type._context);break;case 22:case 23:hc()}n=n.return}if(jl=t,Pl=t=Oc(t.current,null),Rl=Nl=e,Dl=0,Ml=null,zl=Fl=Ll=0,Vl=Ul=null,null!==To){for(e=0;e<To.length;e++)if(null!==(r=(n=To[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}To=null}return t}function fc(t,e){for(;;){var n=Pl;try{if(So(),ha.current=as,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ya=ga=ma=null,xa=!1,ba=0,Tl.current=null,null===n||null===n.return){Dl=1,Ml=e,Pl=null;break}t:{var a=t,s=n.return,l=n,c=e;if(e=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ys(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,e),1&f.mode&&gs(a,u,e),c=u;var m=(e=f).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(0===(1&e)){gs(a,u,e),gc();break t}c=Error(o(426))}else if(io&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vs(y,s,l,0,e),mo(us(c,l));break t}}a=c=us(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Lo(a,fs(0,c,e));break t;case 1:l=c;var v=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e,Lo(a,ms(a,l,e));break t}}a=a.return}while(null!==a)}wc(n)}catch(b){e=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var t=Cl.current;return Cl.current=as,null===t?as:t}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===jl||0===(268435455&Ll)&&0===(268435455&Fl)||lc(jl,Rl)}function yc(t,e){var n=Al;Al|=2;var r=mc();for(jl===t&&Rl===e||(Hl=null,pc(t,e));;)try{vc();break}catch(i){fc(t,i)}if(So(),Al=n,Cl.current=r,null!==Pl)throw Error(o(261));return jl=null,Rl=0,Dl}function vc(){for(;null!==Pl;)bc(Pl)}function xc(){for(;null!==Pl&&!$t();)bc(Pl)}function bc(t){var e=El(t.alternate,t,Nl);t.memoizedProps=t.pendingProps,null===e?wc(t):Pl=e,Tl.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Qs(n,e,Nl)))return void(Pl=n)}else{if(null!==(n=$s(n,e)))return n.flags&=32767,void(Pl=n);if(null===t)return Dl=6,void(Pl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Pl=e);Pl=e=t}while(null!==e);0===Dl&&(Dl=5)}function Sc(t,e,n){var r=xe,i=Il.transition;try{Il.transition=null,xe=1,function(t,e,n,r){do{kc()}while(null!==$l);if(0!==(6&Al))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===jl&&(Pl=jl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,jc(ee,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var s=xe;xe=1;var l=Al;Al|=4,Tl.current=null,function(t,e){if(ti=He,pr(t=hr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break t}var s=0,l=-1,c=-1,u=0,d=0,h=t,p=null;e:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===t)break e;if(p===n&&++u===i&&(l=s),p===a&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},He=!1,Zs=e;null!==Zs;)if(t=(e=Zs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Zs=t;else for(;null!==Zs;){e=Zs;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:yo(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){_c(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,Zs=t;break}Zs=e.return}m=nl,nl=!1}(t,n),yl(n,t),fr(ei),He=!!ti,ei=ti=null,t.current=n,xl(n,t,i),Yt(),Al=l,xe=s,Il.transition=a}else t.current=n;if(Ql&&(Ql=!1,$l=t,Yl=i),a=t.pendingLanes,0===a&&(Gl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ic(t,Jt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,t=Kl,Kl=null,t;0!==(1&Yl)&&0!==t.tag&&kc(),a=t.pendingLanes,0!==(1&a)?t===Xl?Jl++:(Jl=0,Xl=t):Jl=0,qi()}(t,e,n,r)}finally{Il.transition=i,xe=r}return null}function kc(){if(null!==$l){var t=be(Yl),e=Il.transition,n=xe;try{if(Il.transition=null,xe=16>t?16:t,null===$l)var r=!1;else{if(t=$l,$l=null,Yl=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Zs=t.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var p=(d=Zs).sibling,f=d.return;if(al(d),d===u){Zs=null;break}if(null!==p){p.return=f,Zs=p;break}Zs=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else t:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zs=v;break t}Zs=a.return}}var x=t.current;for(Zs=x;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else t:for(s=x;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){_c(l,l.return,S)}if(l===s){Zs=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Zs=w;break t}Zs=l.return}}if(Al=i,qi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(S){}r=!0}return r}finally{xe=n,Il.transition=e}}return!1}function Ec(t,e,n){t=Do(t,e=fs(0,e=us(n,e),1),1),e=ec(),null!==t&&(ye(t,1,e),ic(t,e))}function _c(t,e,n){if(3===t.tag)Ec(t,t,n);else for(;null!==e;){if(3===e.tag){Ec(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){e=Do(e,t=ms(e,t=us(n,t),1),1),t=ec(),null!==e&&(ye(e,1,t),ic(e,t));break}}e=e.return}}function Cc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,jl===t&&(Rl&n)===n&&(4===Dl||3===Dl&&(130023424&Rl)===Rl&&500>Jt()-ql?pc(t,0):zl|=n),ic(t,e)}function Tc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=ec();null!==(t=jo(t,e))&&(ye(t,e,n),ic(t,n))}function Ic(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tc(t,n)}function Ac(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Tc(t,n)}function jc(t,e){return Gt(t,e)}function Pc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(t,e,n,r){return new Pc(t,e,n,r)}function Nc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Oc(t,e){var n=t.alternate;return null===n?((n=Rc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Nc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case k:return Mc(n.children,i,a,e);case E:s=8,i|=8;break;case _:return(t=Rc(12,n,e,2|i)).elementType=_,t.lanes=a,t;case A:return(t=Rc(13,n,e,i)).elementType=A,t.lanes=a,t;case j:return(t=Rc(19,n,e,i)).elementType=j,t.lanes=a,t;case N:return Lc(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:s=10;break t;case T:s=9;break t;case I:s=11;break t;case P:s=14;break t;case R:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Rc(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Mc(t,e,n,r){return(t=Rc(7,t,r,e)).lanes=n,t}function Lc(t,e,n,r){return(t=Rc(22,t,r,e)).elementType=N,t.lanes=n,t.stateNode={isHidden:!1},t}function Fc(t,e,n){return(t=Rc(6,t,null,e)).lanes=n,t}function zc(t,e,n){return(e=Rc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(t,e,n,r,i,o,a,s,l){return t=new Uc(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Rc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),t}function qc(t){if(!t)return Ti;t:{if(qt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Ri(n))return Di(t,n,e)}return e}function Bc(t,e,n,r,i,o,a,s,l){return(t=Vc(n,r,!0,t,0,o,0,s,l)).context=qc(null),n=t.current,(o=Oo(r=ec(),i=nc(n))).callback=void 0!==e&&null!==e?e:null,Do(n,o,i),t.current.lanes=i,ye(t,i,r),ic(t,r),t}function Hc(t,e,n,r){var i=e.current,o=ec(),a=nc(i);return n=qc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Oo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Do(i,e,a))&&(rc(t,i,a,o),Mo(t,i,a)),a}function Wc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gc(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}El=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ai.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:js(e),fo();break;case 5:aa(e);break;case 1:Ri(e.type)&&Mi(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ci(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ci(la,1&la.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Fs(t,e,n):(Ci(la,1&la.current),null!==(t=Ws(t,e,n))?t.sibling:null);Ci(la,1&la.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Bs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(la,la.current),r)break;return null;case 22:case 23:return e.lanes=0,_s(t,e,n)}return Ws(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,io&&0!==(1048576&e.flags)&&Zi(e,Ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hs(t,e),t=e.pendingProps;var i=Pi(e,Ii.current);_o(e,n),i=Ea(null,e,r,t,i,n);var a=_a();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ri(r)?(a=!0,Mi(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(e),i.updater=qo,e.stateNode=i,i._reactInternals=e,Ko(e,r,t,n),e=As(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),ws(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Hs(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Nc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===P)return 14}return 2}(r),t=yo(r,t),i){case 0:e=Ts(null,e,r,t,n);break t;case 1:e=Is(null,e,r,t,n);break t;case 11:e=Ss(null,e,r,t,n);break t;case 14:e=ks(null,e,r,yo(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ts(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 1:return r=e.type,i=e.pendingProps,Is(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 3:t:{if(js(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,No(t,e),Fo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ps(t,e,r,n,i=us(Error(o(423)),e));break t}if(r!==i){e=Ps(t,e,r,n,i=us(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Xo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){e=Ws(t,e,n);break t}ws(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&co(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Cs(t,e),ws(t,e,s,n),e.child;case 6:return null===t&&co(e),null;case 13:return Fs(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Jo(e,null,r,n):ws(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ss(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 7:return ws(t,e,e.pendingProps,n),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ci(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_o(e,n),r=r(i=Co(i)),e.flags|=1,ws(t,e,r,n),e.child;case 14:return i=yo(r=e.type,e.pendingProps),ks(t,e,r,i=yo(r.type,i),n);case 15:return Es(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),Hs(t,e),e.tag=1,Ri(r)?(t=!0,Mi(e)):t=!1,_o(e,n),Ho(e,r,i),Ko(e,r,i,n),As(null,e,r,!0,t,n);case 19:return Bs(t,e,n);case 22:return _s(t,e,n)}throw Error(o(156,e.tag))};var Qc="function"===typeof reportError?reportError:function(t){console.error(t)};function $c(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Wc(a);s.call(t)}}Hc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Wc(a);o.call(t)}}var a=Bc(e,r,t,0,null,!1,0,"",Zc);return t._reactRootContainer=a,t[fi]=a.current,qr(8===t.nodeType?t.parentNode:t),dc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Wc(l);s.call(t)}}var l=Vc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=l,t[fi]=l.current,qr(8===t.nodeType?t.parentNode:t),dc((function(){Hc(e,l,n,r)})),l}(n,e,t,i,r);return Wc(a)}Yc.prototype.render=$c.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Hc(t,e,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;dc((function(){Hc(null,t,null,null)})),e[fi]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ne.length&&0!==e&&e<Ne[n].priority;n++);Ne.splice(n,0,t),0===n&&Le(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=de(e.pendingLanes);0!==n&&(ve(e,1|n),ic(e,Jt()),0===(6&Al)&&(Bl=Jt()+500,qi()))}break;case 13:dc((function(){var e=jo(t,1);if(null!==e){var n=ec();rc(e,t,1,n)}})),Gc(t,1)}},Se=function(t){if(13===t.tag){var e=jo(t,134217728);if(null!==e)rc(e,t,134217728,ec());Gc(t,134217728)}},ke=function(t){if(13===t.tag){var e=nc(t),n=jo(t,e);if(null!==n)rc(n,t,e,ec());Gc(t,e)}},Ee=function(){return xe},_e=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}},St=function(t,e,n){switch(e){case"input":if(X(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wi(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=uc,At=dc;var eu={usingClientEntryPoint:!1,Events:[xi,bi,wi,Ct,Tt,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ie=iu.inject(ru),oe=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Jc(t))throw Error(o(299));var n=!1,r="",i=Qc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Vc(t,1,!1,null,0,n,0,r,i),t[fi]=e.current,qr(8===t.nodeType?t.parentNode:t),new $c(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return dc(t)},e.hydrate=function(t,e,n){if(!Xc(e))throw Error(o(200));return tu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Jc(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Bc(e,null,t,1,null!=n?n:null,i,0,a,s),t[fi]=e.current,qr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yc(e)},e.render=function(t,e,n){if(!Xc(e))throw Error(o(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Xc(t))throw Error(o(40));return!!t._reactRootContainer&&(dc((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[fi]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tu(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},391:(t,e,n)=>{"use strict";var r=n(950);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},82:(t,e)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case h:case p:return t;default:switch(t=t&&t.$$typeof){case u:case c:case d:case m:case f:case l:return t;default:return e}}case i:return e}}}n=Symbol.for("react.module.reference")},86:(t,e,n)=>{"use strict";n(82)},153:(t,e,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}function v(){}function x(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:k.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===o?"."+I(l,0):o,w(a)?(i="",null!=t&&(i=t.replace(T,"$&/")+"/"),A(a,e,i,"",(function(t){return t}))):null!=a&&(C(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",w(t))for(var c=0;c<t.length;c++){var u=o+I(s=t[c],c);l+=A(s,e,i,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=A(s=s.value,e,i,u=o+I(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function j(t,e,n){if(null==t)return t;var r=[],i=0;return A(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function P(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},N={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};e.Children={map:j,forEach:function(t,e,n){j(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return j(t,(function(){e++})),e},toArray:function(t){return j(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=a,e.PureComponent=x,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=k.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)S.call(e,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=_,e.createFactory=function(t){var e=_.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,n){return R.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,n){return R.current.useReducer(t,e,n)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return R.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.2.0"},43:(t,e,n)=>{"use strict";t.exports=n(202)},579:(t,e,n)=>{"use strict";t.exports=n(153)},234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,n))c<i&&0>o(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function w(t){if(g=!1,b(t),!m)if(null!==r(c))m=!0,N(S);else{var e=r(u);null!==e&&O(w,e.startTime-t)}}function S(t,n){m=!1,g&&(g=!1,v(C),C=-1),f=!0;var o=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||t&&!A());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,_=null,C=-1,T=5,I=-1;function A(){return!(e.unstable_now()-I<T)}function j(){if(null!==_){var t=e.unstable_now();I=t;var n=!0;try{n=_(!0,t)}finally{n?k():(E=!1,_=null)}}else E=!1}if("function"===typeof x)k=function(){x(j)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=j,k=function(){R.postMessage(null)}}else k=function(){y(j,0)};function N(t){_=t,E||(E=!0,k())}function O(t,n){C=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,N(S))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:d++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(u,t),null===r(c)&&t===r(u)&&(g?(v(C),C=-1):g=!0,O(w,o-a))):(t.sortIndex=s,n(c,t),m||f||(m=!0,N(S))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)},956:(t,e,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=e,c(i)&&u({inst:i})}),[t,n,e]),a((function(){return c(i)&&u({inst:i}),t((function(){c(i)&&u({inst:i})}))}),[t]),l(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},39:(t,e,n)=>{"use strict";var r=n(43),i=n(461);var o="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function t(t){if(!l){if(l=!0,a=t,t=r(t),void 0!==i&&h.hasValue){var e=h.value;if(i(e,t))return s=e}return s=t}if(e=s,o(a,t))return e;var n=r(t);return void 0!==i&&i(e,n)?e:(a=t,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return t(e())},null===c?void 0:function(){return t(c())}]}),[e,n,r,i]);var p=a(t,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=p}),[p]),u(p),p}},461:(t,e,n)=>{"use strict";t.exports=n(956)},443:(t,e,n)=>{"use strict";t.exports=n(39)},752:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/profilePicture.2fda6558cd58b877e14f.png"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&r;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>r[t]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[])),n.u=t=>"static/js/"+t+".51850cd8.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="myPropertyManager:";n.l=(r,i,o,a)=>{if(t[r])t[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var h=(e,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(n))),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/propertyManagerWebApp/",(()=>{var t={792:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=t[e]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=(e,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((e=>0!==t[e]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(e&&e(r);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkmyPropertyManager=self.webpackChunkmyPropertyManager||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var t=n(43),e=n.t(t,2),r=n(391);const i=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then((e=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=e;n(t),r(t),i(t),o(t),a(t)}))};var o=n(461),a=n(443),s=n(950),l=n.t(s,2);let c=function(t){t()};const u=()=>c,d=Symbol.for("react-redux-context"),h="undefined"!==typeof globalThis?globalThis:{};function p(){var e;if(!t.createContext)return{};const n=null!=(e=h[d])?e:h[d]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}const f=p();function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return function(){return(0,t.useContext)(e)}}const g=m();let y=()=>{throw new Error("uSES not initialized!")};const v=(t,e)=>t===e;function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const n=e===f?g:m(e);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=v,stabilityCheck:o,noopCheck:a}="function"===typeof r?{equalityFn:r}:r;const{store:s,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=n(),h=((0,t.useRef)(!0),(0,t.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,o])),p=y(l.addNestedSub,s.getState,c||s.getState,h,i);return(0,t.useDebugValue)(p),p}}const b=x();n(219),n(86);const w={notify(){},get:()=>[]};function S(t,e){let n,r=w,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=e?e.addNestedSub(a):t.subscribe(a),r=function(){const t=u();let e=null,n=null;return{clear(){e=null,n=null},notify(){t((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=w)}const c={addNestedSub:function(t){s();const e=r.subscribe(t);let n=!1;return()=>{n||(n=!0,e(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}const k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;let E=null;const _=function(e){let{store:n,context:r,children:i,serverState:o,stabilityCheck:a="once",noopCheck:s="once"}=e;const l=t.useMemo((()=>{const t=S(n);return{store:n,subscription:t,getServerState:o?()=>o:void 0,stabilityCheck:a,noopCheck:s}}),[n,o,a,s]),c=t.useMemo((()=>n.getState()),[n]);k((()=>{const{subscription:t}=l;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),c!==n.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[l,c]);const u=r||f;return t.createElement(u.Provider,{value:l},i)};function C(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const e=t===f?g:m(t);return function(){const{store:t}=e();return t}}const T=C();function I(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const e=t===f?T:C(t);return function(){return e().dispatch}}const A=I();function j(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function P(t,e){if(j(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!j(t[n[i]],e[n[i]]))return!1;return!0}var R;function N(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function O(t){return!!t&&!!t[Et]}function D(t){var e;return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===_t}(t)||Array.isArray(t)||!!t[kt]||!!(null===(e=t.constructor)||void 0===e?void 0:e[kt])||q(t)||B(t))}function M(t,e,n){void 0===n&&(n=!1),0===L(t)?(n?Object.keys:Ct)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function L(t){var e=t[Et];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:q(t)?2:B(t)?3:0}function F(t,e){return 2===L(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function z(t,e){return 2===L(t)?t.get(e):t[e]}function U(t,e,n){var r=L(t);2===r?t.set(e,n):3===r?t.add(n):t[e]=n}function V(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function q(t){return xt&&t instanceof Map}function B(t){return bt&&t instanceof Set}function H(t){return t.o||t.t}function W(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Tt(t);delete e[Et];for(var n=Ct(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function K(t,e){return void 0===e&&(e=!1),Q(t)||O(t)||!D(t)||(L(t)>1&&(t.set=t.add=t.clear=t.delete=G),Object.freeze(t),e&&M(t,(function(t,e){return K(e,!0)}),!0)),t}function G(){N(2)}function Q(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function $(t){var e=It[t];return e||N(18,t),e}function Y(t,e){It[t]||(It[t]=e)}function J(){return yt}function X(t,e){e&&($("Patches"),t.u=[],t.s=[],t.v=e)}function Z(t){tt(t),t.p.forEach(nt),t.p=null}function tt(t){t===yt&&(yt=t.l)}function et(t){return yt={p:[],l:yt,h:t,m:!0,_:0}}function nt(t){var e=t[Et];0===e.i||1===e.i?e.j():e.g=!0}function rt(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.O||$("ES5").S(e,t,r),r?(n[Et].P&&(Z(e),N(4)),D(t)&&(t=it(e,t),e.l||at(e,t)),e.u&&$("Patches").M(n[Et].t,t,e.u,e.s)):t=it(e,n,[]),Z(e),e.u&&e.v(e.u,e.s),t!==St?t:void 0}function it(t,e,n){if(Q(e))return e;var r=e[Et];if(!r)return M(e,(function(i,o){return ot(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return at(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=W(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),M(o,(function(e,o){return ot(t,r,i,e,o,n,a)})),at(t,i,!1),n&&t.u&&$("Patches").N(r,n,t.u,t.s)}return r.o}function ot(t,e,n,r,i,o,a){if(O(i)){var s=it(t,i,o&&e&&3!==e.i&&!F(e.R,r)?o.concat(r):void 0);if(U(n,r,s),!O(s))return;t.m=!1}else a&&n.add(i);if(D(i)&&!Q(i)){if(!t.h.D&&t._<1)return;it(t,i),e&&e.A.l||at(t,i)}}function at(t,e,n){void 0===n&&(n=!1),!t.l&&t.h.D&&t.m&&K(e,n)}function st(t,e){var n=t[Et];return(n?H(n):t)[e]}function lt(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ct(t){t.P||(t.P=!0,t.l&&ct(t.l))}function ut(t){t.o||(t.o=W(t.t))}function dt(t,e,n){var r=q(e)?$("MapSet").F(e,n):B(e)?$("MapSet").T(e,n):t.O?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:J(),P:!1,I:!1,R:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=r,o=At;n&&(i=[r],o=jt);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(e,n):$("ES5").J(e,n);return(n?n.A:J()).p.push(r),r}function ht(t){return O(t)||N(22,t),function t(e){if(!D(e))return e;var n,r=e[Et],i=L(e);if(r){if(!r.P&&(r.i<4||!$("ES5").K(r)))return r.t;r.I=!0,n=pt(e,i),r.I=!1}else n=pt(e,i);return M(n,(function(e,i){r&&z(r.t,e)===i||U(n,e,t(i))})),3===i?new Set(n):n}(t)}function pt(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return W(t)}function ft(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[Et];return At.get(e,t)},set:function(e){var n=this[Et];At.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][Et];if(!i.P)switch(i.i){case 5:r(i)&&ct(i);break;case 4:n(i)&&ct(i)}}}function n(t){for(var e=t.t,n=t.k,r=Ct(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Et){var a=e[o];if(void 0===a&&!F(e,o))return!0;var s=n[o],l=s&&s[Et];if(l?l.t!==a:!V(s,a))return!0}}var c=!!e[Et];return r.length!==Ct(e).length+(c?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var r=0;r<e.length;r++)if(!e.hasOwnProperty(r))return!0;return!1}var i={};Y("ES5",{J:function(e,n){var r=Array.isArray(e),i=function(e,n){if(e){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,t(i,!0));return r}var o=Tt(n);delete o[Et];for(var a=Ct(o),s=0;s<a.length;s++){var l=a[s];o[l]=t(l,e||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,e),o={i:r?5:4,A:n?n.A:J(),P:!1,I:!1,R:{},l:n,t:e,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Et,{value:o,writable:!0}),i},S:function(t,n,i){i?O(n)&&n[Et].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[Et];if(n){var i=n.t,o=n.k,a=n.R,s=n.i;if(4===s)M(o,(function(e){e!==Et&&(void 0!==i[e]||F(i,e)?a[e]||t(o[e]):(a[e]=!0,ct(n)))})),M(i,(function(t){void 0!==o[t]||F(o,t)||(a[t]=!1,ct(n))}));else if(5===s){if(r(n)&&(ct(n),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var u=Math.min(o.length,i.length),d=0;d<u;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&t(o[d])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}function mt(){function t(e){if(!D(e))return e;if(Array.isArray(e))return e.map(t);if(q(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],t(e[1])]})));if(B(e))return new Set(Array.from(e).map(t));var n=Object.create(Object.getPrototypeOf(e));for(var r in e)n[r]=t(e[r]);return F(e,kt)&&(n[kt]=e[kt]),n}function e(e){return O(e)?t(e):e}var n="add";Y("Patches",{$:function(e,r){return r.forEach((function(r){for(var i=r.path,o=r.op,a=e,s=0;s<i.length-1;s++){var l=L(a),c=i[s];"string"!=typeof c&&"number"!=typeof c&&(c=""+c),0!==l&&1!==l||"__proto__"!==c&&"constructor"!==c||N(24),"function"==typeof a&&"prototype"===c&&N(24),"object"!=typeof(a=z(a,c))&&N(15,i.join("/"))}var u=L(a),d=t(r.value),h=i[i.length-1];switch(o){case"replace":switch(u){case 2:return a.set(h,d);case 3:N(16);default:return a[h]=d}case n:switch(u){case 1:return"-"===h?a.push(d):a.splice(h,0,d);case 2:return a.set(h,d);case 3:return a.add(d);default:return a[h]=d}case"remove":switch(u){case 1:return a.splice(h,1);case 2:return a.delete(h);case 3:return a.delete(r.value);default:return delete a[h]}default:N(17,o)}})),e},N:function(t,r,i,o){switch(t.i){case 0:case 4:case 2:return function(t,r,i,o){var a=t.t,s=t.o;M(t.R,(function(t,l){var c=z(a,t),u=z(s,t),d=l?F(a,t)?"replace":n:"remove";if(c!==u||"replace"!==d){var h=r.concat(t);i.push("remove"===d?{op:d,path:h}:{op:d,path:h,value:u}),o.push(d===n?{op:"remove",path:h}:"remove"===d?{op:n,path:h,value:e(c)}:{op:"replace",path:h,value:e(c)})}}))}(t,r,i,o);case 5:case 1:return function(t,r,i,o){var a=t.t,s=t.R,l=t.o;if(l.length<a.length){var c=[l,a];a=c[0],l=c[1];var u=[o,i];i=u[0],o=u[1]}for(var d=0;d<a.length;d++)if(s[d]&&l[d]!==a[d]){var h=r.concat([d]);i.push({op:"replace",path:h,value:e(l[d])}),o.push({op:"replace",path:h,value:e(a[d])})}for(var p=a.length;p<l.length;p++){var f=r.concat([p]);i.push({op:n,path:f,value:e(l[p])})}a.length<l.length&&o.push({op:"replace",path:r.concat(["length"]),value:a.length})}(t,r,i,o);case 3:return function(t,e,r,i){var o=t.t,a=t.o,s=0;o.forEach((function(t){if(!a.has(t)){var o=e.concat([s]);r.push({op:"remove",path:o,value:t}),i.unshift({op:n,path:o,value:t})}s++})),s=0,a.forEach((function(t){if(!o.has(t)){var a=e.concat([s]);r.push({op:n,path:a,value:t}),i.unshift({op:"remove",path:a,value:t})}s++}))}(t,r,i,o)}},M:function(t,e,n,r){n.push({op:"replace",path:[],value:e===St?void 0:e}),r.push({op:"replace",path:[],value:t})}})}(t=>{y=t})(a.useSyncExternalStoreWithSelector),(t=>{E=t})(o.useSyncExternalStore),R=s.unstable_batchedUpdates,c=R;var gt,yt,vt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),xt="undefined"!=typeof Map,bt="undefined"!=typeof Set,wt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,St=vt?Symbol.for("immer-nothing"):((gt={})["immer-nothing"]=!0,gt),kt=vt?Symbol.for("immer-draftable"):"__$immer_draftable",Et=vt?Symbol.for("immer-state"):"__$immer_state",_t=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ct="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Tt=Object.getOwnPropertyDescriptors||function(t){var e={};return Ct(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},It={},At={get:function(t,e){if(e===Et)return t;var n=H(t);if(!F(n,e))return function(t,e,n){var r,i=lt(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!D(r)?r:r===st(t.t,e)?(ut(t),t.o[e]=dt(t.A.h,r,t)):r},has:function(t,e){return e in H(t)},ownKeys:function(t){return Reflect.ownKeys(H(t))},set:function(t,e,n){var r=lt(H(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=st(H(t),e),o=null==i?void 0:i[Et];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(V(n,i)&&(void 0!==n||F(t.t,e)))return!0;ut(t),ct(t)}return t.o[e]===n&&(void 0!==n||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return void 0!==st(t.t,e)||e in t.t?(t.R[e]=!1,ut(t),ct(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=H(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){N(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){N(12)}},jt={};M(At,(function(t,e){jt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),jt.deleteProperty=function(t,e){return jt.set.call(this,t,e,void 0)},jt.set=function(t,e,n){return At.set.call(this,t[0],e,n,t[0])};var Pt=function(){function t(t){var e=this;this.O=wt,this.D=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var a;if("function"!=typeof n&&N(6),void 0!==r&&"function"!=typeof r&&N(7),D(t)){var s=et(e),l=dt(e,t,void 0),c=!0;try{a=n(l),c=!1}finally{c?Z(s):tt(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return X(s,r),rt(t,s)}),(function(t){throw Z(s),t})):(X(s,r),rt(a,s))}if(!t||"object"!=typeof t){if(void 0===(a=n(t))&&(a=t),a===St&&(a=void 0),e.D&&K(a,!0),r){var u=[],d=[];$("Patches").M(t,a,u,d),r(u,d)}return a}N(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(i))}))};var r,i,o=e.produce(t,n,(function(t,e){r=t,i=e}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return[t,r,i]})):[o,r,i]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){D(t)||N(8),O(t)&&(t=ht(t));var e=et(this),n=dt(this,t,void 0);return n[Et].C=!0,tt(e),n},e.finishDraft=function(t,e){var n=(t&&t[Et]).A;return X(n,e),rt(void 0,n)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!wt&&N(20),this.O=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var i=$("Patches").$;return O(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}(),Rt=new Pt,Nt=Rt.produce,Ot=Rt.produceWithPatches.bind(Rt),Dt=(Rt.setAutoFreeze.bind(Rt),Rt.setUseProxies.bind(Rt),Rt.applyPatches.bind(Rt));Rt.createDraft.bind(Rt),Rt.finishDraft.bind(Rt);const Mt=Nt;function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function Ft(t){var e=function(t,e){if("object"!=Lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lt(e)?e:String(e)}function zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(n),!0).forEach((function(e){var r,i,o;r=t,i=e,o=n[e],(i=Ft(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var qt="function"===typeof Symbol&&Symbol.observable||"@@observable",Bt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ht={INIT:"@@redux/INIT"+Bt(),REPLACE:"@@redux/REPLACE"+Bt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Bt()}};function Wt(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Kt(t,e,n){var r;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Vt(0));if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Vt(1));return n(Kt)(t,e)}if("function"!==typeof t)throw new Error(Vt(2));var i=t,o=e,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(Vt(3));return o}function d(t){if("function"!==typeof t)throw new Error(Vt(4));if(l)throw new Error(Vt(5));var e=!0;return c(),s.push(t),function(){if(e){if(l)throw new Error(Vt(6));e=!1,c();var n=s.indexOf(t);s.splice(n,1),a=null}}}function h(t){if(!Wt(t))throw new Error(Vt(7));if("undefined"===typeof t.type)throw new Error(Vt(8));if(l)throw new Error(Vt(9));try{l=!0,o=i(o,t)}finally{l=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}return h({type:Ht.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(t){if("function"!==typeof t)throw new Error(Vt(10));i=t,h({type:Ht.REPLACE})}})[qt]=function(){var t,e=d;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(Vt(11));function n(){t.next&&t.next(u())}return n(),{unsubscribe:e(n)}}})[qt]=function(){return this},t},r}function Gt(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:Ht.INIT}))throw new Error(Vt(12));if("undefined"===typeof n(void 0,{type:Ht.PROBE_UNKNOWN_ACTION()}))throw new Error(Vt(13))}))}(n)}catch(s){o=s}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],c=n[l],u=t[l],d=c(u,e);if("undefined"===typeof d){e&&e.type;throw new Error(Vt(14))}i[l]=d,r=r||d!==u}return(r=r||a.length!==Object.keys(t).length)?i:t}}function Qt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function $t(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(Vt(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return r=Qt.apply(void 0,o)(n.dispatch),Ut(Ut({},n),{},{dispatch:r})}}}function Yt(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}var Jt=Yt();Jt.withExtraArgument=Yt;const Xt=Jt;var Zt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),te=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ee=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ne=Object.defineProperty,re=Object.defineProperties,ie=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,le=function(t,e,n){return e in t?ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ce=function(t,e){for(var n in e||(e={}))ae.call(e,n)&&le(t,n,e[n]);if(oe)for(var r=0,i=oe(e);r<i.length;r++){n=i[r];se.call(e,n)&&le(t,n,e[n])}return t},ue=function(t,e){return re(t,ie(e))},de=function(t,e,n){return new Promise((function(r,i){var o=function(t){try{s(n.next(t))}catch(e){i(e)}},a=function(t){try{s(n.throw(t))}catch(e){i(e)}},s=function(t){return t.done?r(t.value):Promise.resolve(t.value).then(o,a)};s((n=n.apply(t,e)).next())}))},he="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Qt:Qt.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function pe(t){if("object"!==typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}var fe=function(t){return t&&"function"===typeof t.match};function me(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var i=e.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return ce(ce({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}var ge=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Zt(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,ee([void 0],t[0].concat(this)))):new(e.bind.apply(e,ee([void 0],t.concat(this))))},e}(Array),ye=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Zt(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,ee([void 0],t[0].concat(this)))):new(e.bind.apply(e,ee([void 0],t.concat(this))))},e}(Array);function ve(t){return D(t)?Mt(t,(function(){})):t}function xe(){return function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,t.actionCreatorCheck,new ge);n&&(!function(t){return"boolean"===typeof t}(n)?r.push(Xt.withExtraArgument(n.extraArgument)):r.push(Xt));0;return r}(t)}}function be(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"===typeof t?t:t.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}function we(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:ve(t.initialState),i=t.reducers||{},o=Object.keys(i),a={},s={},l={};function c(){var e="function"===typeof t.extraReducers?be(t.extraReducers):[t.extraReducers],n=e[0],i=void 0===n?{}:n,o=e[1],a=void 0===o?[]:o,l=e[2],c=void 0===l?void 0:l,u=ce(ce({},i),s);return function(t,e,n,r){void 0===n&&(n=[]);var i,o="function"===typeof e?be(e):[e,n,r],a=o[0],s=o[1],l=o[2];if(function(t){return"function"===typeof t}(t))i=function(){return ve(t())};else{var c=ve(t);i=function(){return c}}function u(t,e){void 0===t&&(t=i());var n=ee([a[e.type]],s.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[l]),n.reduce((function(t,n){if(n){var r;if(O(t))return void 0===(r=n(t,e))?t:r;if(D(t))return Mt(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return u.getInitialState=i,u}(r,(function(t){for(var e in u)t.addCase(e,u[e]);for(var n=0,r=a;n<r.length;n++){var i=r[n];t.addMatcher(i.matcher,i.reducer)}c&&t.addDefaultCase(c)}))}return o.forEach((function(t){var n,r,o=i[t],c=function(t,e){return t+"/"+e}(e,t);"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[t]=n,s[c]=n,l[t]=r?me(c,r):me(c)})),{name:e,reducer:function(t,e){return n||(n=c()),n(t,e)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Se=function(t){void 0===t&&(t=21);for(var e="",n=t;n--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},ke=["name","message","stack","code"],Ee=function(t,e){this.payload=t,this.meta=e},_e=function(t,e){this.payload=t,this.meta=e},Ce=function(t){if("object"===typeof t&&null!==t){for(var e={},n=0,r=ke;n<r.length;n++){var i=r[n];"string"===typeof t[i]&&(e[i]=t[i])}return e}return{message:String(t)}},Te=function(){function t(t,e,n){var r=me(t+"/fulfilled",(function(t,e,n,r){return{payload:t,meta:ue(ce({},r||{}),{arg:n,requestId:e,requestStatus:"fulfilled"})}})),i=me(t+"/pending",(function(t,e,n){return{payload:void 0,meta:ue(ce({},n||{}),{arg:e,requestId:t,requestStatus:"pending"})}})),o=me(t+"/rejected",(function(t,e,r,i,o){return{payload:i,error:(n&&n.serializeError||Ce)(t||"Rejected"),meta:ue(ce({},o||{}),{arg:r,requestId:e,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==t?void 0:t.name),condition:"ConditionError"===(null==t?void 0:t.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function t(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return t.prototype.abort=function(){0},t}();return Object.assign((function(t){return function(s,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(t):Se(),h=new a;function p(t){u=t,h.abort()}var f=function(){return de(this,null,(function(){var a,f,m,g,y,v;return te(this,(function(x){switch(x.label){case 0:return x.trys.push([0,4,,5]),g=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,t,{getState:l,extra:c}),null===(b=g)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,g];case 1:g=x.sent(),x.label=2;case 2:if(!1===g||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(t,e){return h.signal.addEventListener("abort",(function(){return e({name:"AbortError",message:u||"Aborted"})}))})),s(i(d,t,null==(f=null==n?void 0:n.getPendingMeta)?void 0:f.call(n,{requestId:d,arg:t},{getState:l,extra:c}))),[4,Promise.race([y,Promise.resolve(e(t,{dispatch:s,getState:l,extra:c,requestId:d,signal:h.signal,abort:p,rejectWithValue:function(t,e){return new Ee(t,e)},fulfillWithValue:function(t,e){return new _e(t,e)}})).then((function(e){if(e instanceof Ee)throw e;return e instanceof _e?r(e.payload,d,t,e.meta):r(e,d,t)}))])];case 3:return m=x.sent(),[3,5];case 4:return v=x.sent(),m=v instanceof Ee?o(null,d,t,v.payload,v.meta):o(v,d,t),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||s(m),[2,m]}var b}))}))}();return Object.assign(f,{abort:p,requestId:d,arg:t,unwrap:function(){return f.then(Ie)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:t})}return t.withTypes=function(){return t},t}();function Ie(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}var Ae=function(t,e){return fe(t)?t.match(e):t(e)};function je(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.some((function(t){return Ae(t,e)}))}}function Pe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.every((function(t){return Ae(t,e)}))}}function Re(t,e){if(!t||!t.meta)return!1;var n="string"===typeof t.meta.requestId,r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function Ne(t){return"function"===typeof t[0]&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Oe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return Re(t,["pending"])}:Ne(t)?function(e){var n=t.map((function(t){return t.pending}));return je.apply(void 0,n)(e)}:Oe()(t[0])}function De(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return Re(t,["rejected"])}:Ne(t)?function(e){var n=t.map((function(t){return t.rejected}));return je.apply(void 0,n)(e)}:De()(t[0])}function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){return t&&t.meta&&t.meta.rejectedWithValue};return 0===t.length||Ne(t)?function(e){return Pe(De.apply(void 0,t),n)(e)}:Me()(t[0])}function Le(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return Re(t,["fulfilled"])}:Ne(t)?function(e){var n=t.map((function(t){return t.fulfilled}));return je.apply(void 0,n)(e)}:Le()(t[0])}function Fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return Re(t,["pending","fulfilled","rejected"])}:Ne(t)?function(e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];n.push(o.pending,o.rejected,o.fulfilled)}return je.apply(void 0,n)(e)}:Fe()(t[0])}Object.assign;var ze="listenerMiddleware";me(ze+"/add"),me(ze+"/removeAll"),me(ze+"/remove");var Ue,Ve="RTK_autoBatch",qe=function(){return function(t){var e;return{payload:t,meta:(e={},e[Ve]=!0,e)}}},Be=("function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis),function(t){return function(e){setTimeout(e,t)}});"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Be(10);ft();const He=we({name:"user",initialState:{currentUser:null,cred:null,authLoading:!0},reducers:{setCurrentUser:(t,e)=>{t.currentUser=e.payload,t.authLoading=!1,e.payload?localStorage.setItem("loggedUser",JSON.stringify(e.payload)):localStorage.removeItem("loggedUser")},setUserCred:(t,e)=>{t.cred=e.payload},setAuthLoading:(t,e)=>{t.authLoading=e.payload},logout:t=>{t.currentUser=null,t.cred=null,t.authLoading=!1,localStorage.removeItem("loggedUser")}}}),{setCurrentUser:We,setUserCred:Ke,setAuthLoading:Ge,logout:Qe}=He.actions,$e=He.reducer,Ye=we({name:"navigation",initialState:{tabSelection:0,sidebarOpen:!0},reducers:{setTabSelection:(t,e)=>{t.tabSelection=e.payload},toggleSidebar:t=>{t.sidebarOpen=!t.sidebarOpen},setSidebarOpen:(t,e)=>{t.sidebarOpen=e.payload}}}),{setTabSelection:Je,toggleSidebar:Xe,setSidebarOpen:Ze}=Ye.actions,tn=Ye.reducer,en=we({name:"propertyData",initialState:{groups:[],tasks:[]},reducers:{setPropertyGroups:(t,e)=>{t.groups=e.payload},addPropertyGroup:(t,e)=>{t.groups.push(e.payload)},updatePropertyGroup:(t,e)=>{const n=t.groups.findIndex((t=>t.id===e.payload.id));-1!==n&&(t.groups[n]=e.payload)},deletePropertyGroup:(t,e)=>{t.groups=t.groups.filter((t=>t.id!==e.payload))},setTasks:(t,e)=>{t.tasks=e.payload},addTask:(t,e)=>{t.tasks.push(e.payload)},updateTask:(t,e)=>{const n=t.tasks.findIndex((t=>t.id===e.payload.id));-1!==n&&(t.tasks[n]=e.payload)},deleteTask:(t,e)=>{t.tasks=t.tasks.filter((t=>t.id!==e.payload))},submitTaskCompletion:(t,e)=>{const n=t.tasks.find((t=>t.id===e.payload.taskId));n&&(n.status="Awaiting Approval",n.completionDate=e.payload.completionDate,n.completionFile=e.payload.completionFile,n.completedBy=e.payload.completedBy)},approveTaskCompletion:(t,e)=>{const n=t.tasks.find((t=>t.id===e.payload.taskId));n&&(n.status="Completed",n.approvedBy=e.payload.approvedBy,n.approvedAt=(new Date).toISOString())},rejectTaskCompletion:(t,e)=>{const n=t.tasks.find((t=>t.id===e.payload.taskId));n&&(n.status="In Progress",n.rejectionReason=e.payload.rejectionReason,n.completionDate=void 0,n.completionFile=void 0)}}}),{setPropertyGroups:nn,addPropertyGroup:rn,updatePropertyGroup:on,deletePropertyGroup:an,setTasks:sn,addTask:ln,updateTask:cn,deleteTask:un,submitTaskCompletion:dn,approveTaskCompletion:hn,rejectTaskCompletion:pn}=en.actions,fn=en.reducer,mn=we({name:"team",initialState:{groups:[]},reducers:{setTeamGroups:(t,e)=>{t.groups=e.payload},addTeamGroup:(t,e)=>{t.groups.push(e.payload)},updateTeamGroup:(t,e)=>{const n=t.groups.findIndex((t=>t.id===e.payload.id));-1!==n&&(t.groups[n]=e.payload)},updateTeamGroupName:(t,e)=>{const n=t.groups.find((t=>t.id===e.payload.groupId));n&&(n.name=e.payload.name)},toggleTeamGroupEditName:(t,e)=>{const n=t.groups.find((t=>t.id===e.payload));n&&(n.isEditingName=!n.isEditingName)},deleteTeamGroup:(t,e)=>{t.groups=t.groups.filter((t=>t.id!==e.payload))},addTeamMember:(t,e)=>{const n=t.groups.find((t=>t.id===e.payload.groupId));n&&(n.members||(n.members=[]),n.members.push(e.payload.member))},updateTeamMember:(t,e)=>{const n=t.groups.find((t=>t.id===e.payload.groupId));if(n&&n.members){const t=n.members.findIndex((t=>t.id===e.payload.id));-1!==t&&(n.members[t]=e.payload)}},deleteTeamMember:(t,e)=>{const n=t.groups.find((t=>t.id===e.payload.groupId));n&&n.members&&(n.members=n.members.filter((t=>t.id!==e.payload.memberId)))}}}),{setTeamGroups:gn,addTeamGroup:yn,updateTeamGroup:vn,updateTeamGroupName:xn,toggleTeamGroupEditName:bn,deleteTeamGroup:wn,addTeamMember:Sn,updateTeamMember:kn,deleteTeamMember:En}=mn.actions,_n=mn.reducer,Cn=we({name:"maintenanceRequests",initialState:{requests:[]},reducers:{addMaintenanceRequest:(t,e)=>{t.requests.push(e.payload)},updateMaintenanceRequest:(t,e)=>{const n=t.requests.findIndex((t=>t.id===e.payload.id));-1!==n&&(t.requests[n]=e.payload)},deleteMaintenanceRequest:(t,e)=>{t.requests=t.requests.filter((t=>t.id!==e.payload))},convertRequestToTask:(t,e)=>{const n=t.requests.find((t=>t.id===e.payload));n&&(n.status="Completed")},setMaintenanceRequests:(t,e)=>{t.requests=e.payload}}}),{addMaintenanceRequest:Tn,updateMaintenanceRequest:In,deleteMaintenanceRequest:An,convertRequestToTask:jn,setMaintenanceRequests:Pn}=Cn.actions,Rn=Cn.reducer;var Nn="NOT_FOUND";var On=function(t,e){return t===e};function Dn(t,e){var n="object"===typeof e?e:{equalityCheck:e},r=n.equalityCheck,i=void 0===r?On:r,o=n.maxSize,a=void 0===o?1:o,s=n.resultEqualityCheck,l=function(t){return function(e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}}(i),c=1===a?function(t){var e;return{get:function(n){return e&&t(e.key,n)?e.value:Nn},put:function(t,n){e={key:t,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(l):function(t,e){var n=[];function r(t){var r=n.findIndex((function(n){return e(t,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return Nn}return{get:r,put:function(e,i){r(e)===Nn&&(n.unshift({key:e,value:i}),n.length>t&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(a,l);function u(){var e=c.get(arguments);if(e===Nn){if(e=t.apply(null,arguments),s){var n=c.getEntries().find((function(t){return s(t.value,e)}));n&&(e=n.value)}c.put(arguments,e)}return e}return u.clearCache=function(){return c.clear()},u}function Mn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},l=r.pop();if("object"===typeof l&&(s=l,l=r.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=s.memoizeOptions,u=void 0===c?n:c,d=Array.isArray(u)?u:[u],h=function(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var n=e.map((function(t){return"function"===typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}(r),p=t.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(d)),f=t((function(){for(var t=[],e=h.length,n=0;n<e;n++)t.push(h[n].apply(null,arguments));return o=p.apply(null,t)}));return Object.assign(f,{resultFunc:l,memoizedResultFunc:p,dependencies:h,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),f}}var Ln,Fn,zn=Mn(Dn),Un=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Vn=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},qn=Object.defineProperty,Bn=Object.defineProperties,Hn=Object.getOwnPropertyDescriptors,Wn=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,Gn=Object.prototype.propertyIsEnumerable,Qn=function(t,e,n){return e in t?qn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},$n=function(t,e){for(var n in e||(e={}))Kn.call(e,n)&&Qn(t,n,e[n]);if(Wn)for(var r=0,i=Wn(e);r<i.length;r++){n=i[r];Gn.call(e,n)&&Qn(t,n,e[n])}return t},Yn=function(t,e){return Bn(t,Hn(e))},Jn=function(t,e,n){return new Promise((function(r,i){var o=function(t){try{s(n.next(t))}catch(e){i(e)}},a=function(t){try{s(n.throw(t))}catch(e){i(e)}},s=function(t){return t.done?r(t.value):Promise.resolve(t.value).then(o,a)};s((n=n.apply(t,e)).next())}))};(Fn=Ln||(Ln={})).uninitialized="uninitialized",Fn.pending="pending",Fn.fulfilled="fulfilled",Fn.rejected="rejected";var Xn=function(t){return[].concat.apply([],t)};var Zn=pe;function tr(t,e){if(t===e||!(Zn(t)&&Zn(e)||Array.isArray(t)&&Array.isArray(e)))return e;for(var n=Object.keys(e),r=Object.keys(t),i=n.length===r.length,o=Array.isArray(e)?[]:{},a=0,s=n;a<s.length;a++){var l=s[a];o[l]=tr(t[l],e[l]),i&&(i=t[l]===o[l])}return i?t:o}var er=function(t,e){void 0===e&&(e=void 0),this.value=t,this.meta=e};var nr,rr,ir=me("__rtkq/focused"),or=me("__rtkq/unfocused"),ar=me("__rtkq/online"),sr=me("__rtkq/offline");function lr(t){return t.type===nr.query}function cr(t,e,n,r,i,o){return function(t){return"function"===typeof t}(t)?t(e,n,r,i).map(ur).map(o):Array.isArray(t)?t.map(ur).map(o):[]}function ur(t){return"string"===typeof t?{type:t}:t}function dr(t){return null!=t}(rr=nr||(nr={})).query="query",rr.mutation="mutation";var hr=Symbol("forceQueryFn"),pr=function(t){return"function"===typeof t[hr]};function fr(t){return t}function mr(t,e,n,r){return cr(n[t.meta.arg.endpointName][e],Le(t)?t.payload:void 0,Me(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function gr(t,e,n){var r=t[e];r&&n(r)}function yr(t){var e;return null!=(e="arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)?e:t.requestId}function vr(t,e,n){var r=t[yr(e)];r&&n(r)}var xr={};function br(t){var e=t.reducerPath,n=t.queryThunk,r=t.mutationThunk,i=t.context,o=i.endpointDefinitions,a=i.apiUid,s=i.extractRehydrationInfo,l=i.hasRehydrationInfo,c=t.assertTagType,u=t.config,d=me(e+"/resetApiState"),h=we({name:e+"/queries",initialState:xr,reducers:{removeQueryResult:{reducer:function(t,e){delete t[e.payload.queryCacheKey]},prepare:qe()},queryResultPatched:{reducer:function(t,e){var n=e.payload,r=n.queryCacheKey,i=n.patches;gr(t,r,(function(t){t.data=Dt(t.data,i.concat())}))},prepare:qe()}},extraReducers:function(t){t.addCase(n.pending,(function(t,e){var n,r=e.meta,i=e.meta.arg,o=pr(i);(i.subscribe||o)&&(null!=t[n=i.queryCacheKey]||(t[n]={status:Ln.uninitialized,endpointName:i.endpointName})),gr(t,i.queryCacheKey,(function(t){t.status=Ln.pending,t.requestId=o&&t.requestId?t.requestId:r.requestId,void 0!==i.originalArgs&&(t.originalArgs=i.originalArgs),t.startedTimeStamp=r.startedTimeStamp}))})).addCase(n.fulfilled,(function(t,e){var n=e.meta,r=e.payload;gr(t,n.arg.queryCacheKey,(function(t){var e;if(t.requestId===n.requestId||pr(n.arg)){var i=o[n.arg.endpointName].merge;if(t.status=Ln.fulfilled,i)if(void 0!==t.data){var a=n.fulfilledTimeStamp,s=n.arg,l=n.baseQueryMeta,c=n.requestId,u=Mt(t.data,(function(t){return i(t,r,{arg:s.originalArgs,baseQueryMeta:l,fulfilledTimeStamp:a,requestId:c})}));t.data=u}else t.data=r;else t.data=null==(e=o[n.arg.endpointName].structuralSharing)||e?tr(O(t.data)?function(t){return O(t)||N(23,t),t[Et].t}(t.data):t.data,r):r;delete t.error,t.fulfilledTimeStamp=n.fulfilledTimeStamp}}))})).addCase(n.rejected,(function(t,e){var n=e.meta,r=n.condition,i=n.arg,o=n.requestId,a=e.error,s=e.payload;gr(t,i.queryCacheKey,(function(t){if(r);else{if(t.requestId!==o)return;t.status=Ln.rejected,t.error=null!=s?s:a}}))})).addMatcher(l,(function(t,e){for(var n=s(e).queries,r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],a=o[0],l=o[1];(null==l?void 0:l.status)!==Ln.fulfilled&&(null==l?void 0:l.status)!==Ln.rejected||(t[a]=l)}}))}}),p=we({name:e+"/mutations",initialState:xr,reducers:{removeMutationResult:{reducer:function(t,e){var n=yr(e.payload);n in t&&delete t[n]},prepare:qe()}},extraReducers:function(t){t.addCase(r.pending,(function(t,e){var n=e.meta,r=e.meta,i=r.requestId,o=r.arg,a=r.startedTimeStamp;o.track&&(t[yr(n)]={requestId:i,status:Ln.pending,endpointName:o.endpointName,startedTimeStamp:a})})).addCase(r.fulfilled,(function(t,e){var n=e.payload,r=e.meta;r.arg.track&&vr(t,r,(function(t){t.requestId===r.requestId&&(t.status=Ln.fulfilled,t.data=n,t.fulfilledTimeStamp=r.fulfilledTimeStamp)}))})).addCase(r.rejected,(function(t,e){var n=e.payload,r=e.error,i=e.meta;i.arg.track&&vr(t,i,(function(t){t.requestId===i.requestId&&(t.status=Ln.rejected,t.error=null!=n?n:r)}))})).addMatcher(l,(function(t,e){for(var n=s(e).mutations,r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],a=o[0],l=o[1];(null==l?void 0:l.status)!==Ln.fulfilled&&(null==l?void 0:l.status)!==Ln.rejected||a===(null==l?void 0:l.requestId)||(t[a]=l)}}))}}),f=we({name:e+"/invalidation",initialState:xr,reducers:{updateProvidedBy:{reducer:function(t,e){for(var n,r,i,o,a=e.payload,s=a.queryCacheKey,l=a.providedTags,c=0,u=Object.values(t);c<u.length;c++)for(var d=u[c],h=0,p=Object.values(d);h<p.length;h++){var f=p[h],m=f.indexOf(s);-1!==m&&f.splice(m,1)}for(var g=0,y=l;g<y.length;g++){var v=y[g],x=v.type,b=v.id,w=null!=(o=(r=null!=(n=t[x])?n:t[x]={})[i=b||"__internal_without_id"])?o:r[i]=[];w.includes(s)||w.push(s)}},prepare:qe()}},extraReducers:function(t){t.addCase(h.actions.removeQueryResult,(function(t,e){for(var n=e.payload.queryCacheKey,r=0,i=Object.values(t);r<i.length;r++)for(var o=i[r],a=0,s=Object.values(o);a<s.length;a++){var l=s[a],c=l.indexOf(n);-1!==c&&l.splice(c,1)}})).addMatcher(l,(function(t,e){for(var n,r,i,o,a=s(e).provided,l=0,c=Object.entries(a);l<c.length;l++)for(var u=c[l],d=u[0],h=u[1],p=0,f=Object.entries(h);p<f.length;p++)for(var m=f[p],g=m[0],y=m[1],v=null!=(o=(r=null!=(n=t[d])?n:t[d]={})[i=g||"__internal_without_id"])?o:r[i]=[],x=0,b=y;x<b.length;x++){var w=b[x];v.includes(w)||v.push(w)}})).addMatcher(je(Le(n),Me(n)),(function(t,e){var n=mr(e,"providesTags",o,c),r=e.meta.arg.queryCacheKey;f.caseReducers.updateProvidedBy(t,f.actions.updateProvidedBy({queryCacheKey:r,providedTags:n}))}))}}),m=we({name:e+"/subscriptions",initialState:xr,reducers:{updateSubscriptionOptions:function(t,e){},unsubscribeQueryResult:function(t,e){},internal_probeSubscription:function(t,e){}}}),g=we({name:e+"/internalSubscriptions",initialState:xr,reducers:{subscriptionsUpdated:{reducer:function(t,e){return Dt(t,e.payload)},prepare:qe()}}}),y=we({name:e+"/config",initialState:$n({online:"undefined"===typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"===typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},u),reducers:{middlewareRegistered:function(t,e){var n=e.payload;t.middlewareRegistered="conflict"!==t.middlewareRegistered&&a===n||"conflict"}},extraReducers:function(t){t.addCase(ar,(function(t){t.online=!0})).addCase(sr,(function(t){t.online=!1})).addCase(ir,(function(t){t.focused=!0})).addCase(or,(function(t){t.focused=!1})).addMatcher(l,(function(t){return $n({},t)}))}}),v=Gt({queries:h.reducer,mutations:p.reducer,provided:f.reducer,subscriptions:g.reducer,config:y.reducer});return{reducer:function(t,e){return v(d.match(e)?void 0:t,e)},actions:Yn($n($n($n($n($n($n({},y.actions),h.actions),m.actions),g.actions),p.actions),f.actions),{unsubscribeMutationResult:p.actions.removeMutationResult,resetApiState:d})}}var wr=Symbol.for("RTKQ/skipToken"),Sr={status:Ln.uninitialized},kr=Mt(Sr,(function(){})),Er=Mt(Sr,(function(){}));function _r(t){var e=t.serializeQueryArgs,n=t.reducerPath,r=function(t){return kr},i=function(t){return Er};return{buildQuerySelector:function(t,n){return function(i){var s=e({queryArgs:i,endpointDefinition:n,endpointName:t});return zn(i===wr?r:function(t){var e,n,r;return null!=(r=null==(n=null==(e=a(t))?void 0:e.queries)?void 0:n[s])?r:kr},o)}},buildMutationSelector:function(){return function(t){var e,n;n="object"===typeof t?null!=(e=yr(t))?e:wr:t;return zn(n===wr?i:function(t){var e,r,i;return null!=(i=null==(r=null==(e=a(t))?void 0:e.mutations)?void 0:r[n])?i:Er},o)}},selectInvalidatedBy:function(t,e){for(var r,i=t[n],o=new Set,a=0,s=e.map(ur);a<s.length;a++){var l=s[a],c=i.provided[l.type];if(c)for(var u=0,d=null!=(r=void 0!==l.id?c[l.id]:Xn(Object.values(c)))?r:[];u<d.length;u++){var h=d[u];o.add(h)}}return Xn(Array.from(o.values()).map((function(t){var e=i.queries[t];return e?[{queryCacheKey:t,endpointName:e.endpointName,originalArgs:e.originalArgs}]:[]})))}};function o(t){return $n($n({},t),{status:e=t.status,isUninitialized:e===Ln.uninitialized,isLoading:e===Ln.pending,isSuccess:e===Ln.fulfilled,isError:e===Ln.rejected});var e}function a(t){return t[n]}}var Cr=WeakMap?new WeakMap:void 0,Tr=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=null==Cr?void 0:Cr.get(n);if("string"===typeof i)r=i;else{var o=JSON.stringify(n,(function(t,e){return pe(e)?Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{}):e}));pe(n)&&(null==Cr||Cr.set(n,o)),r=o}return e+"("+r+")"};function Ir(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=Dn((function(t){var n,r;return null==(r=e.extractRehydrationInfo)?void 0:r.call(e,t,{reducerPath:null!=(n=e.reducerPath)?n:"api"})})),r=Yn($n({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},e),{extractRehydrationInfo:n,serializeQueryArgs:function(t){var n=Tr;if("serializeQueryArgs"in t.endpointDefinition){var r=t.endpointDefinition.serializeQueryArgs;n=function(t){var e=r(t);return"string"===typeof e?e:Tr(Yn($n({},t),{queryArgs:e}))}}else e.serializeQueryArgs&&(n=e.serializeQueryArgs);return n(t)},tagTypes:Vn([],e.tagTypes||[])}),i={endpointDefinitions:{},batch:function(t){t()},apiUid:Se(),extractRehydrationInfo:n,hasRehydrationInfo:Dn((function(t){return null!=n(t)}))},o={injectEndpoints:function(t){for(var e=t.endpoints({query:function(t){return Yn($n({},t),{type:nr.query})},mutation:function(t){return Yn($n({},t),{type:nr.mutation})}}),n=0,r=Object.entries(e);n<r.length;n++){var s=r[n],l=s[0],c=s[1];if(t.overrideExisting||!(l in i.endpointDefinitions)){i.endpointDefinitions[l]=c;for(var u=0,d=a;u<d.length;u++){d[u].injectEndpoint(l,c)}}}return o},enhanceEndpoints:function(t){var e=t.addTagTypes,n=t.endpoints;if(e)for(var a=0,s=e;a<s.length;a++){var l=s[a];r.tagTypes.includes(l)||r.tagTypes.push(l)}if(n)for(var c=0,u=Object.entries(n);c<u.length;c++){var d=u[c],h=d[0],p=d[1];"function"===typeof p?p(i.endpointDefinitions[h]):Object.assign(i.endpointDefinitions[h]||{},p)}return o}},a=t.map((function(t){return t.init(o,r,i)}));return o.injectEndpoints({endpoints:e.endpoints})}}var Ar,jr=function(t){var e=t.reducerPath,n=t.api,r=t.context,i=t.internalState,o=n.internalActions,a=o.removeQueryResult,s=o.unsubscribeQueryResult;function l(t){var e=i.currentSubscriptions[t];return!!e&&!function(t){for(var e in t)return!1;return!0}(e)}var c={};function u(t,e,n,i){var o,s=r.endpointDefinitions[e],u=null!=(o=null==s?void 0:s.keepUnusedDataFor)?o:i.keepUnusedDataFor;if(u!==1/0){var d=Math.max(0,Math.min(u,2147482.647));if(!l(t)){var h=c[t];h&&clearTimeout(h),c[t]=setTimeout((function(){l(t)||n.dispatch(a({queryCacheKey:t})),delete c[t]}),1e3*d)}}}return function(t,i,o){var a;if(s.match(t)){var l=i.getState()[e];u(b=t.payload.queryCacheKey,null==(a=l.queries[b])?void 0:a.endpointName,i,l.config)}if(n.util.resetApiState.match(t))for(var d=0,h=Object.entries(c);d<h.length;d++){var p=h[d],f=p[0],m=p[1];m&&clearTimeout(m),delete c[f]}if(r.hasRehydrationInfo(t)){l=i.getState()[e];for(var g=r.extractRehydrationInfo(t).queries,y=0,v=Object.entries(g);y<v.length;y++){var x=v[y],b=x[0],w=x[1];u(b,null==w?void 0:w.endpointName,i,l.config)}}}},Pr=function(t){var e=t.reducerPath,n=t.context,r=t.context.endpointDefinitions,i=t.mutationThunk,o=t.api,a=t.assertTagType,s=t.refetchQuery,l=o.internalActions.removeQueryResult,c=je(Le(i),Me(i));function u(t,r){var i=r.getState(),a=i[e],c=o.util.selectInvalidatedBy(i,t);n.batch((function(){for(var t,e=0,n=Array.from(c.values());e<n.length;e++){var i=n[e].queryCacheKey,o=a.queries[i],u=null!=(t=a.subscriptions[i])?t:{};o&&(0===Object.keys(u).length?r.dispatch(l({queryCacheKey:i})):o.status!==Ln.uninitialized&&r.dispatch(s(o,i)))}}))}return function(t,e){c(t)&&u(mr(t,"invalidatesTags",r,a),e),o.util.invalidateTags.match(t)&&u(cr(t.payload,void 0,void 0,void 0,void 0,a),e)}},Rr=function(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.refetchQuery,o=t.internalState,a={};function s(t,n){var r=t.queryCacheKey,s=n.getState()[e].queries[r],l=o.currentSubscriptions[r];if(s&&s.status!==Ln.uninitialized){var c=u(l);if(Number.isFinite(c)){var d=a[r];(null==d?void 0:d.timeout)&&(clearTimeout(d.timeout),d.timeout=void 0);var h=Date.now()+c,p=a[r]={nextPollTimestamp:h,pollingInterval:c,timeout:setTimeout((function(){p.timeout=void 0,n.dispatch(i(s,r))}),c)}}}}function l(t,n){var r=t.queryCacheKey,i=n.getState()[e].queries[r],l=o.currentSubscriptions[r];if(i&&i.status!==Ln.uninitialized){var d=u(l);if(Number.isFinite(d)){var h=a[r],p=Date.now()+d;(!h||p<h.nextPollTimestamp)&&s({queryCacheKey:r},n)}else c(r)}}function c(t){var e=a[t];(null==e?void 0:e.timeout)&&clearTimeout(e.timeout),delete a[t]}function u(t){void 0===t&&(t={});var e=Number.POSITIVE_INFINITY;for(var n in t)t[n].pollingInterval&&(e=Math.min(t[n].pollingInterval,e));return e}return function(t,e){(r.internalActions.updateSubscriptionOptions.match(t)||r.internalActions.unsubscribeQueryResult.match(t))&&l(t.payload,e),(n.pending.match(t)||n.rejected.match(t)&&t.meta.condition)&&l(t.meta.arg,e),(n.fulfilled.match(t)||n.rejected.match(t)&&!t.meta.condition)&&s(t.meta.arg,e),r.util.resetApiState.match(t)&&function(){for(var t=0,e=Object.keys(a);t<e.length;t++){c(e[t])}}()}},Nr=new Error("Promise never resolved before cacheEntryRemoved."),Or=function(t){var e=t.api,n=t.reducerPath,r=t.context,i=t.queryThunk,o=t.mutationThunk,a=(t.internalState,Fe(i)),s=Fe(o),l=Le(i,o),c={};function u(t,n,i,o,a){var s=r.endpointDefinitions[t],l=null==s?void 0:s.onCacheEntryAdded;if(l){var u={},d=new Promise((function(t){u.cacheEntryRemoved=t})),h=Promise.race([new Promise((function(t){u.valueResolved=t})),d.then((function(){throw Nr}))]);h.catch((function(){})),c[i]=u;var p=e.endpoints[t].select(s.type===nr.query?n:i),f=o.dispatch((function(t,e,n){return n})),m=Yn($n({},o),{getCacheEntry:function(){return p(o.getState())},requestId:a,extra:f,updateCachedData:s.type===nr.query?function(r){return o.dispatch(e.util.updateQueryData(t,n,r))}:void 0,cacheDataLoaded:h,cacheEntryRemoved:d}),g=l(n,m);Promise.resolve(g).catch((function(t){if(t!==Nr)throw t}))}}return function(t,r,d){var h=function(t){return a(t)?t.meta.arg.queryCacheKey:s(t)?t.meta.requestId:e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?yr(t.payload):""}(t);if(i.pending.match(t)){var p=d[n].queries[h],f=r.getState()[n].queries[h];!p&&f&&u(t.meta.arg.endpointName,t.meta.arg.originalArgs,h,r,t.meta.requestId)}else if(o.pending.match(t)){(f=r.getState()[n].mutations[h])&&u(t.meta.arg.endpointName,t.meta.arg.originalArgs,h,r,t.meta.requestId)}else if(l(t)){(null==(x=c[h])?void 0:x.valueResolved)&&(x.valueResolved({data:t.payload,meta:t.meta.baseQueryMeta}),delete x.valueResolved)}else if(e.internalActions.removeQueryResult.match(t)||e.internalActions.removeMutationResult.match(t)){(x=c[h])&&(delete c[h],x.cacheEntryRemoved())}else if(e.util.resetApiState.match(t))for(var m=0,g=Object.entries(c);m<g.length;m++){var y=g[m],v=y[0],x=y[1];delete c[v],x.cacheEntryRemoved()}}},Dr=function(t){var e=t.api,n=t.context,r=t.queryThunk,i=t.mutationThunk,o=Oe(r,i),a=De(r,i),s=Le(r,i),l={};return function(t,r){var i,c,u;if(o(t)){var d=t.meta,h=d.requestId,p=d.arg,f=p.endpointName,m=p.originalArgs,g=n.endpointDefinitions[f],y=null==g?void 0:g.onQueryStarted;if(y){var v={},x=new Promise((function(t,e){v.resolve=t,v.reject=e}));x.catch((function(){})),l[h]=v;var b=e.endpoints[f].select(g.type===nr.query?m:h),w=r.dispatch((function(t,e,n){return n})),S=Yn($n({},r),{getCacheEntry:function(){return b(r.getState())},requestId:h,extra:w,updateCachedData:g.type===nr.query?function(t){return r.dispatch(e.util.updateQueryData(f,m,t))}:void 0,queryFulfilled:x});y(m,S)}}else if(s(t)){var k=t.meta,E=(h=k.requestId,k.baseQueryMeta);null==(i=l[h])||i.resolve({data:t.payload,meta:E}),delete l[h]}else if(a(t)){var _=t.meta,C=(h=_.requestId,_.rejectedWithValue);E=_.baseQueryMeta;null==(u=l[h])||u.reject({error:null!=(c=t.payload)?c:t.error,isUnhandledError:!C,meta:E}),delete l[h]}}},Mr=function(t){var e=t.api,n=t.context.apiUid;t.reducerPath;return function(t,r){e.util.resetApiState.match(t)&&r.dispatch(e.internalActions.middlewareRegistered(n))}},Lr="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis):function(t){return(Ar||(Ar=Promise.resolve())).then(t).catch((function(t){return setTimeout((function(){throw t}),0)}))},Fr=function(t){var e=t.api,n=t.queryThunk,r=t.internalState,i=e.reducerPath+"/subscriptions",o=null,a=!1,s=e.internalActions,l=s.updateSubscriptionOptions,c=s.unsubscribeQueryResult;return function(t,s){var u,d;if(o||(o=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(t))return o=r.currentSubscriptions={},[!0,!1];if(e.internalActions.internal_probeSubscription.match(t)){var h=t.payload,p=h.queryCacheKey,f=h.requestId;return[!1,!!(null==(u=r.currentSubscriptions[p])?void 0:u[f])]}var m=function(t,r){var i,o,a,s,u,d,h,p,f;if(l.match(r)){var m=r.payload,g=m.queryCacheKey,y=m.requestId,v=m.options;return(null==(i=null==t?void 0:t[g])?void 0:i[y])&&(t[g][y]=v),!0}if(c.match(r)){var x=r.payload;return g=x.queryCacheKey,y=x.requestId,t[g]&&delete t[g][y],!0}if(e.internalActions.removeQueryResult.match(r))return delete t[r.payload.queryCacheKey],!0;if(n.pending.match(r)){var b=r.meta,w=b.arg;if(y=b.requestId,w.subscribe)return(S=null!=(a=t[o=w.queryCacheKey])?a:t[o]={})[y]=null!=(u=null!=(s=w.subscriptionOptions)?s:S[y])?u:{},!0}if(n.rejected.match(r)){var S,k=r.meta,E=k.condition;if(w=k.arg,y=k.requestId,E&&w.subscribe)return(S=null!=(h=t[d=w.queryCacheKey])?h:t[d]={})[y]=null!=(f=null!=(p=w.subscriptionOptions)?p:S[y])?f:{},!0}return!1}(r.currentSubscriptions,t);if(m){a||(Lr((function(){var t=JSON.parse(JSON.stringify(r.currentSubscriptions)),n=Ot(o,(function(){return t}))[1];s.next(e.internalActions.subscriptionsUpdated(n)),o=t,a=!1})),a=!0);var g=!!(null==(d=t.type)?void 0:d.startsWith(i)),y=n.rejected.match(t)&&t.meta.condition&&!!t.meta.arg.subscribe;return[!g&&!y,!1]}return[!0,!1]}};function zr(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.context,o=i.apiUid,a={invalidateTags:me(e+"/invalidateTags")},s=[Mr,jr,Pr,Rr,Or,Dr];return{middleware:function(n){var a=!1,c=Yn($n({},t),{internalState:{currentSubscriptions:{}},refetchQuery:l}),u=s.map((function(t){return t(c)})),d=Fr(c),h=function(t){var e=t.reducerPath,n=t.context,r=t.api,i=t.refetchQuery,o=t.internalState,a=r.internalActions.removeQueryResult;function s(t,r){var s=t.getState()[e],l=s.queries,c=o.currentSubscriptions;n.batch((function(){for(var e=0,n=Object.keys(c);e<n.length;e++){var o=n[e],u=l[o],d=c[o];d&&u&&(Object.values(d).some((function(t){return!0===t[r]}))||Object.values(d).every((function(t){return void 0===t[r]}))&&s.config[r])&&(0===Object.keys(d).length?t.dispatch(a({queryCacheKey:o})):u.status!==Ln.uninitialized&&t.dispatch(i(u,o)))}}))}return function(t,e){ir.match(t)&&s(e,"refetchOnFocus"),ar.match(t)&&s(e,"refetchOnReconnect")}}(c);return function(t){return function(s){a||(a=!0,n.dispatch(r.internalActions.middlewareRegistered(o)));var l,c=Yn($n({},n),{next:t}),p=n.getState(),f=d(s,c,p),m=f[0],g=f[1];if(l=m?t(s):g,n.getState()[e]&&(h(s,c,p),function(t){return!!t&&"string"===typeof t.type&&t.type.startsWith(e+"/")}(s)||i.hasRehydrationInfo(s)))for(var y=0,v=u;y<v.length;y++){(0,v[y])(s,c,p)}return l}}},actions:a};function l(t,e,r){return void 0===r&&(r={}),n($n({type:"query",endpointName:t.endpointName,originalArgs:t.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:e},r))}}function Ur(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,Vn([t],e))}var Vr=Symbol(),qr=function(){return{name:Vr,init:function(t,e,n){var r=e.baseQuery,i=(e.tagTypes,e.reducerPath),o=e.serializeQueryArgs,a=e.keepUnusedDataFor,s=e.refetchOnMountOrArgChange,l=e.refetchOnFocus,c=e.refetchOnReconnect;mt();var u=function(t){return t};Object.assign(t,{reducerPath:i,endpoints:{},internalActions:{onOnline:ar,onOffline:sr,onFocus:ir,onFocusLost:or},util:{}});var d=function(t){var e=this,n=t.reducerPath,r=t.baseQuery,i=t.context.endpointDefinitions,o=t.serializeQueryArgs,a=t.api,s=t.assertTagType,l=function(t,n){return Jn(e,[t,n],(function(t,e){var n,o,a,s,l,u,d,h,p,f,m,g,y,v=e.signal,x=e.abort,b=e.rejectWithValue,w=e.fulfillWithValue,S=e.dispatch,k=e.getState,E=e.extra;return Un(this,(function(e){switch(e.label){case 0:n=i[t.endpointName],e.label=1;case 1:return e.trys.push([1,8,,13]),o=fr,a=void 0,s={signal:v,abort:x,dispatch:S,getState:k,extra:E,endpoint:t.endpointName,type:t.type,forced:"query"===t.type?c(t,k()):void 0},(l="query"===t.type?t[hr]:void 0)?(a=l(),[3,6]):[3,2];case 2:return n.query?[4,r(n.query(t.originalArgs),s,n.extraOptions)]:[3,4];case 3:return a=e.sent(),n.transformResponse&&(o=n.transformResponse),[3,6];case 4:return[4,n.queryFn(t.originalArgs,s,n.extraOptions,(function(t){return r(t,s,n.extraOptions)}))];case 5:a=e.sent(),e.label=6;case 6:if(a.error)throw new er(a.error,a.meta);return u=w,[4,o(a.data,a.meta,t.originalArgs)];case 7:return[2,u.apply(void 0,[e.sent(),(g={fulfilledTimeStamp:Date.now(),baseQueryMeta:a.meta},g[Ve]=!0,g)])];case 8:if(d=e.sent(),!((h=d)instanceof er))return[3,12];p=fr,n.query&&n.transformErrorResponse&&(p=n.transformErrorResponse),e.label=9;case 9:return e.trys.push([9,11,,12]),f=b,[4,p(h.value,h.meta,t.originalArgs)];case 10:return[2,f.apply(void 0,[e.sent(),(y={baseQueryMeta:h.meta},y[Ve]=!0,y)])];case 11:return m=e.sent(),h=m,[3,12];case 12:throw console.error(h),h;case 13:return[2]}}))}))};function c(t,e){var r,i,o,a,s=null==(i=null==(r=e[n])?void 0:r.queries)?void 0:i[t.queryCacheKey],l=null==(o=e[n])?void 0:o.config.refetchOnMountOrArgChange,c=null==s?void 0:s.fulfilledTimeStamp,u=null!=(a=t.forceRefetch)?a:t.subscribe&&l;return!!u&&(!0===u||(Number(new Date)-Number(c))/1e3>=u)}var u=Te(n+"/executeQuery",l,{getPendingMeta:function(){var t;return(t={startedTimeStamp:Date.now()})[Ve]=!0,t},condition:function(t,e){var r,o,a,s=(0,e.getState)(),l=null==(o=null==(r=s[n])?void 0:r.queries)?void 0:o[t.queryCacheKey],u=null==l?void 0:l.fulfilledTimeStamp,d=t.originalArgs,h=null==l?void 0:l.originalArgs,p=i[t.endpointName];return!!pr(t)||"pending"!==(null==l?void 0:l.status)&&(!!c(t,s)||!(!lr(p)||!(null==(a=null==p?void 0:p.forceRefetch)?void 0:a.call(p,{currentArg:d,previousArg:h,endpointState:l,state:s})))||!u)},dispatchConditionRejection:!0}),d=Te(n+"/executeMutation",l,{getPendingMeta:function(){var t;return(t={startedTimeStamp:Date.now()})[Ve]=!0,t}});function h(t){return function(e){var n,r;return(null==(r=null==(n=null==e?void 0:e.meta)?void 0:n.arg)?void 0:r.endpointName)===t}}return{queryThunk:u,mutationThunk:d,prefetch:function(t,e,n){return function(r,i){var o=function(t){return"force"in t}(n)&&n.force,s=function(t){return"ifOlderThan"in t}(n)&&n.ifOlderThan,l=function(n){return void 0===n&&(n=!0),a.endpoints[t].initiate(e,{forceRefetch:n})},c=a.endpoints[t].select(e)(i());if(o)r(l());else if(s){var u=null==c?void 0:c.fulfilledTimeStamp;if(!u)return void r(l());(Number(new Date)-Number(new Date(u)))/1e3>=s&&r(l())}else r(l(!1))}},updateQueryData:function(t,e,n,r){return void 0===r&&(r=!0),function(i,o){var s,l,c,u=a.endpoints[t].select(e)(o()),d={patches:[],inversePatches:[],undo:function(){return i(a.util.patchQueryData(t,e,d.inversePatches,r))}};if(u.status===Ln.uninitialized)return d;if("data"in u)if(D(u.data)){var h=Ot(u.data,n),p=h[0],f=h[1],m=h[2];(s=d.patches).push.apply(s,f),(l=d.inversePatches).push.apply(l,m),c=p}else c=n(u.data),d.patches.push({op:"replace",path:[],value:c}),d.inversePatches.push({op:"replace",path:[],value:u.data});return i(a.util.patchQueryData(t,e,d.patches,r)),d}},upsertQueryData:function(t,e,n){return function(r){var i;return r(a.endpoints[t].initiate(e,((i={subscribe:!1,forceRefetch:!0})[hr]=function(){return{data:n}},i)))}},patchQueryData:function(t,e,n,r){return function(l,c){var u=i[t],d=o({queryArgs:e,endpointDefinition:u,endpointName:t});if(l(a.internalActions.queryResultPatched({queryCacheKey:d,patches:n})),r){var h=a.endpoints[t].select(e)(c()),p=cr(u.providesTags,h.data,void 0,e,{},s);l(a.internalActions.updateProvidedBy({queryCacheKey:d,providedTags:p}))}}},buildMatchThunkActions:function(t,e){return{matchPending:Pe(Oe(t),h(e)),matchFulfilled:Pe(Le(t),h(e)),matchRejected:Pe(De(t),h(e))}}}}({baseQuery:r,reducerPath:i,context:n,api:t,serializeQueryArgs:o,assertTagType:u}),h=d.queryThunk,p=d.mutationThunk,f=d.patchQueryData,m=d.updateQueryData,g=d.upsertQueryData,y=d.prefetch,v=d.buildMatchThunkActions,x=br({context:n,queryThunk:h,mutationThunk:p,reducerPath:i,assertTagType:u,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:s,keepUnusedDataFor:a,reducerPath:i}}),b=x.reducer,w=x.actions;Ur(t.util,{patchQueryData:f,updateQueryData:m,upsertQueryData:g,prefetch:y,resetApiState:w.resetApiState}),Ur(t.internalActions,w);var S=zr({reducerPath:i,context:n,queryThunk:h,mutationThunk:p,api:t,assertTagType:u}),k=S.middleware,E=S.actions;Ur(t.util,E),Ur(t,{reducer:b,middleware:k});var _=_r({serializeQueryArgs:o,reducerPath:i}),C=_.buildQuerySelector,T=_.buildMutationSelector,I=_.selectInvalidatedBy;Ur(t.util,{selectInvalidatedBy:I});var A=function(t){var e=t.serializeQueryArgs,n=t.queryThunk,r=t.mutationThunk,i=t.api,o=t.context,a=new Map,s=new Map,l=i.internalActions,c=l.unsubscribeQueryResult,u=l.removeMutationResult,d=l.updateSubscriptionOptions;return{buildInitiateQuery:function(t,r){var o=function(s,l){var u=void 0===l?{}:l,p=u.subscribe,f=void 0===p||p,m=u.forceRefetch,g=u.subscriptionOptions,y=u[hr];return function(l,u){var p,v,x=e({queryArgs:s,endpointDefinition:r,endpointName:t}),b=n(((p={type:"query",subscribe:f,forceRefetch:m,subscriptionOptions:g,endpointName:t,originalArgs:s,queryCacheKey:x})[hr]=y,p)),w=i.endpoints[t].select(s),S=l(b),k=w(u());h(l);var E=S.requestId,_=S.abort,C=k.requestId!==E,T=null==(v=a.get(l))?void 0:v[x],I=function(){return w(u())},A=Object.assign(y?S.then(I):C&&!T?Promise.resolve(k):Promise.all([T,S]).then(I),{arg:s,requestId:E,subscriptionOptions:g,queryCacheKey:x,abort:_,unwrap:function(){return Jn(this,null,(function(){var t;return Un(this,(function(e){switch(e.label){case 0:return[4,A];case 1:if((t=e.sent()).isError)throw t.error;return[2,t.data]}}))}))},refetch:function(){return l(o(s,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){f&&l(c({queryCacheKey:x,requestId:E}))},updateSubscriptionOptions:function(e){A.subscriptionOptions=e,l(d({endpointName:t,requestId:E,queryCacheKey:x,options:e}))}});if(!T&&!C&&!y){var j=a.get(l)||{};j[x]=A,a.set(l,j),A.then((function(){delete j[x],Object.keys(j).length||a.delete(l)}))}return A}};return o},buildInitiateMutation:function(t){return function(e,n){var i=void 0===n?{}:n,o=i.track,a=void 0===o||o,l=i.fixedCacheKey;return function(n,i){var o=r({type:"mutation",endpointName:t,originalArgs:e,track:a,fixedCacheKey:l}),c=n(o);h(n);var d=c.requestId,p=c.abort,f=c.unwrap,m=c.unwrap().then((function(t){return{data:t}})).catch((function(t){return{error:t}})),g=function(){n(u({requestId:d,fixedCacheKey:l}))},y=Object.assign(m,{arg:c.arg,requestId:d,abort:p,unwrap:f,unsubscribe:g,reset:g}),v=s.get(n)||{};return s.set(n,v),v[d]=y,y.then((function(){delete v[d],Object.keys(v).length||s.delete(n)})),l&&(v[l]=y,y.then((function(){v[l]===y&&(delete v[l],Object.keys(v).length||s.delete(n))}))),y}}},getRunningQueryThunk:function(t,n){return function(r){var i,s=o.endpointDefinitions[t],l=e({queryArgs:n,endpointDefinition:s,endpointName:t});return null==(i=a.get(r))?void 0:i[l]}},getRunningMutationThunk:function(t,e){return function(t){var n;return null==(n=s.get(t))?void 0:n[e]}},getRunningQueriesThunk:function(){return function(t){return Object.values(a.get(t)||{}).filter(dr)}},getRunningMutationsThunk:function(){return function(t){return Object.values(s.get(t)||{}).filter(dr)}},getRunningOperationPromises:function(){var t=function(t){return Array.from(t.values()).flatMap((function(t){return t?Object.values(t):[]}))};return Vn(Vn([],t(a)),t(s)).filter(dr)},removalWarning:function(){throw new Error("This method had to be removed due to a conceptual bug in RTK.\n       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.\n       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.")}};function h(t){}}({queryThunk:h,mutationThunk:p,api:t,serializeQueryArgs:o,context:n}),j=A.buildInitiateQuery,P=A.buildInitiateMutation,R=A.getRunningMutationThunk,N=A.getRunningMutationsThunk,O=A.getRunningQueriesThunk,M=A.getRunningQueryThunk,L=A.getRunningOperationPromises,F=A.removalWarning;return Ur(t.util,{getRunningOperationPromises:L,getRunningOperationPromise:F,getRunningMutationThunk:R,getRunningMutationsThunk:N,getRunningQueryThunk:M,getRunningQueriesThunk:O}),{name:Vr,injectEndpoint:function(e,n){var r,i=t;null!=(r=i.endpoints)[e]||(r[e]={}),lr(n)?Ur(i.endpoints[e],{name:e,select:C(e,n),initiate:j(e,n)},v(h,e)):function(t){return t.type===nr.mutation}(n)&&Ur(i.endpoints[e],{name:e,select:T(),initiate:P(e)},v(p,e))}}}}},Br=(qr(),function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}),Hr=Object.defineProperty,Wr=Object.defineProperties,Kr=Object.getOwnPropertyDescriptors,Gr=Object.getOwnPropertySymbols,Qr=Object.prototype.hasOwnProperty,$r=Object.prototype.propertyIsEnumerable,Yr=function(t,e,n){return e in t?Hr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Jr=function(t,e){for(var n in e||(e={}))Qr.call(e,n)&&Yr(t,n,e[n]);if(Gr)for(var r=0,i=Gr(e);r<i.length;r++){n=i[r];$r.call(e,n)&&Yr(t,n,e[n])}return t},Xr=function(t,e){return Wr(t,Kr(e))};function Zr(e,n,r,i){var o=(0,t.useMemo)((function(){return{queryArgs:e,serialized:"object"==typeof e?n({queryArgs:e,endpointDefinition:r,endpointName:i}):e}}),[e,n,r,i]),a=(0,t.useRef)(o);return(0,t.useEffect)((function(){a.current.serialized!==o.serialized&&(a.current=o)}),[o]),a.current.serialized===o.serialized?a.current.queryArgs:e}var ti=Symbol();function ei(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){P(n.current,e)||(n.current=e)}),[e]),P(n.current,e)?n.current:e}var ni,ri=WeakMap?new WeakMap:void 0,ii=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=null==ri?void 0:ri.get(n);if("string"===typeof i)r=i;else{var o=JSON.stringify(n,(function(t,e){return pe(e)?Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{}):e}));pe(n)&&(null==ri||ri.set(n,o)),r=o}return e+"("+r+")"},oi="undefined"!==typeof window&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,ai=function(t){return t},si=function(t){return t.isUninitialized?Xr(Jr({},t),{isUninitialized:!1,isFetching:!0,isLoading:void 0===t.data,status:Ln.pending}):t};function li(t){return t.replace(t[0],t[0].toUpperCase())}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,Br([t],e))}!function(t){t.query="query",t.mutation="mutation"}(ni||(ni={}));var ui=Symbol();var di=Ir(qr(),function(e){var n=void 0===e?{}:e,r=n.batch,i=void 0===r?s.unstable_batchedUpdates:r,o=n.useDispatch,a=void 0===o?A:o,l=n.useSelector,c=void 0===l?b:l,u=n.useStore,d=void 0===u?T:u,h=n.unstable__sideEffectsInRender,p=void 0!==h&&h;return{name:ui,init:function(e,n,r){var o=n.serializeQueryArgs,s=e,l=function(e){var n=e.api,r=e.moduleOptions,i=r.batch,o=r.useDispatch,a=r.useSelector,s=r.useStore,l=r.unstable__sideEffectsInRender,c=e.serializeQueryArgs,u=e.context,d=l?function(t){return t()}:t.useEffect;return{buildQueryHooks:function(e){var r=function(r,i){var a=void 0===i?{}:i,s=a.refetchOnReconnect,l=a.refetchOnFocus,c=a.refetchOnMountOrArgChange,h=a.skip,p=void 0!==h&&h,f=a.pollingInterval,m=void 0===f?0:f,g=n.endpoints[e].initiate,y=o(),v=Zr(p?wr:r,ii,u.endpointDefinitions[e],e),x=ei({refetchOnReconnect:s,refetchOnFocus:l,pollingInterval:m}),b=(0,t.useRef)(!1),w=(0,t.useRef)(),S=w.current||{},k=S.queryCacheKey,E=S.requestId,_=!1;if(k&&E){var C=y(n.internalActions.internal_probeSubscription({queryCacheKey:k,requestId:E}));_=!!C}var T=!_&&b.current;return d((function(){b.current=_})),d((function(){T&&(w.current=void 0)}),[T]),d((function(){var t,e=w.current;if(v===wr)return null==e||e.unsubscribe(),void(w.current=void 0);var n=null==(t=w.current)?void 0:t.subscriptionOptions;if(e&&e.arg===v)x!==n&&e.updateSubscriptionOptions(x);else{null==e||e.unsubscribe();var r=y(g(v,{subscriptionOptions:x,forceRefetch:c}));w.current=r}}),[y,g,c,v,x,T]),(0,t.useEffect)((function(){return function(){var t;null==(t=w.current)||t.unsubscribe(),w.current=void 0}}),[]),(0,t.useMemo)((function(){return{refetch:function(){var t;if(!w.current)throw new Error("Cannot refetch a query that has not been started yet.");return null==(t=w.current)?void 0:t.refetch()}}}),[])},l=function(r){var a=void 0===r?{}:r,s=a.refetchOnReconnect,l=a.refetchOnFocus,c=a.pollingInterval,u=void 0===c?0:c,h=n.endpoints[e].initiate,p=o(),f=(0,t.useState)(ti),m=f[0],g=f[1],y=(0,t.useRef)(),v=ei({refetchOnReconnect:s,refetchOnFocus:l,pollingInterval:u});d((function(){var t,e,n=null==(t=y.current)?void 0:t.subscriptionOptions;v!==n&&(null==(e=y.current)||e.updateSubscriptionOptions(v))}),[v]);var x=(0,t.useRef)(v);d((function(){x.current=v}),[v]);var b=(0,t.useCallback)((function(t,e){var n;return void 0===e&&(e=!1),i((function(){var r;null==(r=y.current)||r.unsubscribe(),y.current=n=p(h(t,{subscriptionOptions:x.current,forceRefetch:!e})),g(t)})),n}),[p,h]);return(0,t.useEffect)((function(){return function(){var t;null==(t=null==y?void 0:y.current)||t.unsubscribe()}}),[]),(0,t.useEffect)((function(){m===ti||y.current||b(m,!0)}),[m,b]),(0,t.useMemo)((function(){return[b,m]}),[b,m])},p=function(r,i){var o=void 0===i?{}:i,l=o.skip,d=void 0!==l&&l,p=o.selectFromResult,f=n.endpoints[e].select,m=Zr(d?wr:r,c,u.endpointDefinitions[e],e),g=(0,t.useRef)(),y=(0,t.useMemo)((function(){return zn([f(m),function(t,e){return e},function(t){return m}],h)}),[f,m]),v=(0,t.useMemo)((function(){return p?zn([y],p):y}),[y,p]),x=a((function(t){return v(t,g.current)}),P),b=s(),w=y(b.getState(),g.current);return oi((function(){g.current=w}),[w]),x};return{useQueryState:p,useQuerySubscription:r,useLazyQuerySubscription:l,useLazyQuery:function(e){var n=l(e),r=n[0],i=n[1],o=p(i,Xr(Jr({},e),{skip:i===ti})),a=(0,t.useMemo)((function(){return{lastArg:i}}),[i]);return(0,t.useMemo)((function(){return[r,o,a]}),[r,o,a])},useQuery:function(e,n){var i=r(e,n),o=p(e,Jr({selectFromResult:e===wr||(null==n?void 0:n.skip)?void 0:si},n)),a=o.data,s=o.status,l=o.isLoading,c=o.isSuccess,u=o.isError,d=o.error;return(0,t.useDebugValue)({data:a,status:s,isLoading:l,isSuccess:c,isError:u,error:d}),(0,t.useMemo)((function(){return Jr(Jr({},o),i)}),[o,i])}}},buildMutationHook:function(e){return function(r){var s=void 0===r?{}:r,l=s.selectFromResult,c=void 0===l?ai:l,u=s.fixedCacheKey,d=n.endpoints[e],h=d.select,p=d.initiate,f=o(),m=(0,t.useState)(),g=m[0],y=m[1];(0,t.useEffect)((function(){return function(){(null==g?void 0:g.arg.fixedCacheKey)||null==g||g.reset()}}),[g]);var v=(0,t.useCallback)((function(t){var e=f(p(t,{fixedCacheKey:u}));return y(e),e}),[f,p,u]),x=(g||{}).requestId,b=(0,t.useMemo)((function(){return zn([h({fixedCacheKey:u,requestId:null==g?void 0:g.requestId})],c)}),[h,g,c,u]),w=a(b,P),S=null==u?null==g?void 0:g.arg.originalArgs:void 0,k=(0,t.useCallback)((function(){i((function(){g&&y(void 0),u&&f(n.internalActions.removeMutationResult({requestId:x,fixedCacheKey:u}))}))}),[f,u,g,x]),E=w.endpointName,_=w.data,C=w.status,T=w.isLoading,I=w.isSuccess,A=w.isError,j=w.error;(0,t.useDebugValue)({endpointName:E,data:_,status:C,isLoading:T,isSuccess:I,isError:A,error:j});var R=(0,t.useMemo)((function(){return Xr(Jr({},w),{originalArgs:S,reset:k})}),[w,S,k]);return(0,t.useMemo)((function(){return[v,R]}),[v,R])}},usePrefetch:function(e,r){var i=o(),a=ei(r);return(0,t.useCallback)((function(t,r){return i(n.util.prefetch(e,t,Jr(Jr({},a),r)))}),[e,i,a])}};function h(t,e,n){if((null==e?void 0:e.endpointName)&&t.isUninitialized){var r=e.endpointName,i=u.endpointDefinitions[r];c({queryArgs:e.originalArgs,endpointDefinition:i,endpointName:r})===c({queryArgs:n,endpointDefinition:i,endpointName:r})&&(e=void 0)}var o=t.isSuccess?t.data:null==e?void 0:e.data;void 0===o&&(o=t.data);var a=void 0!==o,s=t.isLoading,l=!a&&s,d=t.isSuccess||s&&a;return Xr(Jr({},t),{data:o,currentData:t.data,isFetching:s,isLoading:l,isSuccess:d})}}({api:e,moduleOptions:{batch:i,useDispatch:a,useSelector:c,useStore:d,unstable__sideEffectsInRender:p},serializeQueryArgs:o,context:r}),u=l.buildQueryHooks,h=l.buildMutationHook,f=l.usePrefetch;return ci(s,{usePrefetch:f}),ci(r,{batch:i}),{injectEndpoint:function(t,n){if(function(t){return t.type===ni.query}(n)){var r=u(t),i=r.useQuery,o=r.useLazyQuery,a=r.useLazyQuerySubscription,l=r.useQueryState,c=r.useQuerySubscription;ci(s.endpoints[t],{useQuery:i,useLazyQuery:o,useLazyQuerySubscription:a,useQueryState:l,useQuerySubscription:c}),e["use"+li(t)+"Query"]=i,e["useLazy"+li(t)+"Query"]=o}else if(function(t){return t.type===ni.mutation}(n)){var d=h(t);ci(s.endpoints[t],{useMutation:d}),e["use"+li(t)+"Mutation"]=d}}}}}}());const hi=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},pi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],o=i+1<t.length,a=o?t[i+1]:0,s=i+2<t.length,l=s?t[i+2]:0,c=e>>2,u=(3&e)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hi(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const s=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==o||null==a||null==s)throw new fi;const l=e<<2|o>>4;if(r.push(l),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==s){const t=a<<6&192|s;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fi extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mi=function(t){return function(t){const e=hi(t);return pi.encodeByteArray(e,!0)}(t).replace(/\./g,"")},gi=function(t){try{return pi.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yi(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const vi=()=>{try{return yi().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&gi(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t))}},xi=t=>{var e;return null===(e=vi())||void 0===e||null===(e=e.emulatorHosts)||void 0===e?void 0:e[t]},bi=t=>{const e=xi(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wi=()=>{var t;return null===(t=vi())||void 0===t?void 0:t.config},Si=t=>{var e;return null===(e=vi())||void 0===e?void 0:e["_".concat(t)]};class ki{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Ei(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _i(t){return(await fetch(t,{credentials:"include"})).ok}function Ci(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mi(JSON.stringify({alg:"none",type:"JWT"})),mi(JSON.stringify(o)),""].join(".")}const Ti={};let Ii=!1;function Ai(t,e){if("undefined"===typeof window||"undefined"===typeof document||!Ei(window.location.host)||Ti[t]===e||Ti[t]||Ii)return;function n(t){return"__firebase__banner__".concat(t)}Ti[t]=e;const r="__firebase__banner",i=function(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ti))Ti[e]?t.emulator.push(e):t.prod.push(e);return t}().prod.length>0;function o(){const t=document.createElement("span");return t.style.cursor="pointer",t.style.marginLeft="16px",t.style.fontSize="24px",t.innerHTML=" &times;",t.onclick=()=>{Ii=!0,function(){const t=document.getElementById(r);t&&t.remove()}()},t}function a(){const t=function(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}(r),e=n("text"),a=document.getElementById(e)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.created){const e=t.element;!function(t){t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center"}(e),function(t,e){t.setAttribute("id",e),t.innerText="Learn more",t.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",t.setAttribute("target","__blank"),t.style.paddingLeft="5px",t.style.textDecoration="underline"}(l,s);const n=o();!function(t,e){t.setAttribute("width","24"),t.setAttribute("id",e),t.setAttribute("height","24"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("fill","none"),t.style.marginLeft="-6px"}(u,c),e.append(u,a,l,n),document.body.appendChild(e)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",e)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function ji(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pi(){var t;const e=null===(t=vi())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ri(){return!Pi()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ni(){try{return"object"===typeof indexedDB}catch(t){return!1}}class Oi extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Di.prototype.create)}}class Di{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),r=this.errors[t],i=r?function(t,e){return t.replace(Mi,((t,n)=>{const r=e[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,e):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Oi(n,o,e)}}const Mi=/\{\$([^}]+)}/g;function Li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(Fi(n)&&Fi(o)){if(!Li(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fi(t){return null!==t&&"object"===typeof t}function zi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ui(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function Vi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class qi{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=Bi),void 0===r.error&&(r.error=Bi),void 0===r.complete&&(r.complete=Bi);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Bi(){}function Hi(t){return t&&t._delegate?t._delegate:t}class Wi{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ki="[DEFAULT]";class Gi{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new ki;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch{}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qi(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;return this.component?this.component.multipleInstances?t:Ki:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Qi(t){return t===Ki?void 0:t}class $i{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Gi(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Yi=[];var Ji;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Ji||(Ji={}));const Xi={debug:Ji.DEBUG,verbose:Ji.VERBOSE,info:Ji.INFO,warn:Ji.WARN,error:Ji.ERROR,silent:Ji.SILENT},Zi=Ji.INFO,to={[Ji.DEBUG]:"log",[Ji.VERBOSE]:"log",[Ji.INFO]:"info",[Ji.WARN]:"warn",[Ji.ERROR]:"error"},eo=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=to[e];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(t.name,":"),...o)};class no{constructor(t){this.name=t,this._logLevel=Zi,this._logHandler=eo,this._userLogHandler=null,Yi.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ji))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?Xi[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ji.DEBUG,...e),this._logHandler(this,Ji.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ji.VERBOSE,...e),this._logHandler(this,Ji.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ji.INFO,...e),this._logHandler(this,Ji.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ji.WARN,...e),this._logHandler(this,Ji.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ji.ERROR,...e),this._logHandler(this,Ji.ERROR,...e)}}const ro=(t,e)=>e.some((e=>t instanceof e));let io,oo;const ao=new WeakMap,so=new WeakMap,lo=new WeakMap,co=new WeakMap,uo=new WeakMap;let ho={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return so.get(t);if("objectStoreNames"===e)return t.objectStoreNames||lo.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function po(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(oo||(oo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(go(this),n),mo(ao.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return mo(t.apply(go(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=t.call(go(this),e,...r);return lo.set(o,e.sort?e.sort():[e]),mo(o)}}function fo(t){return"function"===typeof t?po(t):(t instanceof IDBTransaction&&function(t){if(so.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));so.set(t,e)}(t),ro(t,io||(io=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,ho):t)}function mo(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(mo(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&ao.set(e,t)})).catch((()=>{})),uo.set(e,t),e}(t);if(co.has(t))return co.get(t);const e=fo(t);return e!==t&&(co.set(t,e),uo.set(e,t)),e}const go=t=>uo.get(t);const yo=["get","getKey","getAll","getAllKeys","count"],vo=["put","add","delete","clear"],xo=new Map;function bo(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(xo.get(e))return xo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vo.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yo.includes(n))return;const o=async function(t){const e=this.transaction(t,i?"readwrite":"readonly");let o=e.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&e.done]))[0]};return xo.set(e,o),o}ho=(t=>({...t,get:(e,n,r)=>bo(e,n)||t.get(e,n,r),has:(e,n)=>!!bo(e,n)||t.has(e,n)}))(ho);class wo{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const So="@firebase/app",ko="0.14.7",Eo=new no("@firebase/app"),_o="[DEFAULT]",Co={[So]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},To=new Map,Io=new Map,Ao=new Map;function jo(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function Po(t){const e=t.name;if(Ao.has(e))return Eo.debug("There were multiple attempts to register component ".concat(e,".")),!1;Ao.set(e,t);for(const n of To.values())jo(n,t);for(const n of Io.values())jo(n,t);return!0}function Ro(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function No(t){return null!==t&&void 0!==t&&void 0!==t.settings}const Oo=new Di("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Do{constructor(t,e,n){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wi("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}const Mo="12.8.0";function Lo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r={name:_o,automaticDataCollectionEnabled:!0,...e},i=r.name;if("string"!==typeof i||!i)throw Oo.create("bad-app-name",{appName:String(i)});if(n||(n=wi()),!n)throw Oo.create("no-options");const o=To.get(i);if(o){if(Li(n,o.options)&&Li(r,o.config))return o;throw Oo.create("duplicate-app",{appName:i})}const a=new $i(i);for(const l of Ao.values())a.addComponent(l);const s=new Do(n,r,a);return To.set(i,s),s}function Fo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_o;const e=To.get(t);if(!e&&t===_o&&wi())return Lo();if(!e)throw Oo.create("no-app",{appName:t});return e}function zo(t,e,n){var r;let i=null!==(r=Co[t])&&void 0!==r?r:t;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];return o&&t.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&t.push("and"),a&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void Eo.warn(t.join(" "))}Po(new Wi("".concat(i,"-version"),(()=>({library:i,version:e})),"VERSION"))}const Uo="firebase-heartbeat-database",Vo=1,qo="firebase-heartbeat-store";let Bo=null;function Ho(){return Bo||(Bo=function(t,e){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(t,e),s=mo(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(mo(a.result),t.oldVersion,t.newVersion,mo(a.transaction),t)})),n&&a.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),s.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),s}(Uo,Vo,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(qo)}catch(n){console.warn(n)}}}).catch((t=>{throw Oo.create("idb-open",{originalErrorMessage:t.message})}))),Bo}async function Wo(t,e){try{const n=(await Ho()).transaction(qo,"readwrite"),r=n.objectStore(qo);await r.put(e,Ko(t)),await n.done}catch(n){if(n instanceof Oi)Eo.warn(n.message);else{const t=Oo.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Eo.warn(t.message)}}}function Ko(t){return"".concat(t.name,"!").concat(t.options.appId)}class Go{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new $o(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){try{var t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qo();var e;if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const t=function(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(t,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Eo.warn(n)}}async getHeartbeatsHeader(){try{var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Qo(),{heartbeatsToSend:n,unsentEntries:r}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),Yo(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yo(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=mi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Eo.warn(e),""}}}function Qo(){return(new Date).toISOString().substring(0,10)}class $o{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ni()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Ho()).transaction(qo),n=await e.objectStore(qo).get(Ko(t));return await e.done,n}catch(e){if(e instanceof Oi)Eo.warn(e.message);else{const t=Oo.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});Eo.warn(t.message)}}}(this.app);return null!==t&&void 0!==t&&t.heartbeats?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){var e;const n=await this.read();return Wo(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){if(await this._canUseIndexedDBPromise){var e;const n=await this.read();return Wo(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Yo(t){return mi(JSON.stringify({version:2,heartbeats:t})).length}var Jo;Jo="",Po(new Wi("platform-logger",(t=>new wo(t)),"PRIVATE")),Po(new Wi("heartbeat",(t=>new Go(t)),"PRIVATE")),zo(So,ko,Jo),zo(So,ko,"esm2020"),zo("fire-js","");var Xo,Zo,ta="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ea={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(t,e,n){n||(n=0);const r=Array(16);if("string"===typeof e)for(var i=0;i<16;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];let o,a=t.g[3];o=e+(a^n&(i^a))+r[0]+3614090360&4294967295,o=a+(i^(e=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,a=e+(o<<12&4294967295|o>>>20),o=i+(n^a&(e^n))+r[2]+606105819&4294967295,o=n+(e^(i=a+(o<<17&4294967295|o>>>15))&(a^e))+r[3]+3250441966&4294967295,o=e+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[4]+4118548399&4294967295,o=a+(i^(e=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,a=e+(o<<12&4294967295|o>>>20),o=i+(n^a&(e^n))+r[6]+2821735955&4294967295,o=n+(e^(i=a+(o<<17&4294967295|o>>>15))&(a^e))+r[7]+4249261313&4294967295,o=e+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[8]+1770035416&4294967295,o=a+(i^(e=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,a=e+(o<<12&4294967295|o>>>20),o=i+(n^a&(e^n))+r[10]+4294925233&4294967295,o=n+(e^(i=a+(o<<17&4294967295|o>>>15))&(a^e))+r[11]+2304563134&4294967295,o=e+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[12]+1804603682&4294967295,o=a+(i^(e=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,a=e+(o<<12&4294967295|o>>>20),o=i+(n^a&(e^n))+r[14]+2792965006&4294967295,o=n+(e^(i=a+(o<<17&4294967295|o>>>15))&(a^e))+r[15]+1236535329&4294967295,o=e+(i^a&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=a+(n^i&((e=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,a=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(a^e))+r[11]+643717713&4294967295,o=n+(a^e&((i=a+(o<<14&4294967295|o>>>18))^a))+r[0]+3921069994&4294967295,o=e+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=a+(n^i&((e=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,a=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(a^e))+r[15]+3634488961&4294967295,o=n+(a^e&((i=a+(o<<14&4294967295|o>>>18))^a))+r[4]+3889429448&4294967295,o=e+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=a+(n^i&((e=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,a=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(a^e))+r[3]+4107603335&4294967295,o=n+(a^e&((i=a+(o<<14&4294967295|o>>>18))^a))+r[8]+1163531501&4294967295,o=e+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=a+(n^i&((e=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,a=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(a^e))+r[7]+1735328473&4294967295,o=n+(a^e&((i=a+(o<<14&4294967295|o>>>18))^a))+r[12]+2368359562&4294967295,o=e+((n=i+(o<<20&4294967295|o>>>12))^i^a)+r[5]+4294588738&4294967295,o=a+((e=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,a=e+(o<<11&4294967295|o>>>21),o=i+(a^e^n)+r[11]+1839030562&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^e)+r[14]+4259657740&4294967295,o=e+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[1]+2763975236&4294967295,o=a+((e=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,a=e+(o<<11&4294967295|o>>>21),o=i+(a^e^n)+r[7]+4139469664&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^e)+r[10]+3200236656&4294967295,o=e+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[13]+681279174&4294967295,o=a+((e=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,a=e+(o<<11&4294967295|o>>>21),o=i+(a^e^n)+r[3]+3572445317&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^e)+r[6]+76029189&4294967295,o=e+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[9]+3654602809&4294967295,o=a+((e=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,a=e+(o<<11&4294967295|o>>>21),o=i+(a^e^n)+r[15]+530742520&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^e)+r[2]+3299628645&4294967295,o=e+(i^((n=i+(o<<23&4294967295|o>>>9))|~a))+r[0]+4096336452&4294967295,o=a+(n^((e=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,a=e+(o<<10&4294967295|o>>>22),o=i+(e^(a|~n))+r[14]+2878612391&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~e))+r[5]+4237533241&4294967295,o=e+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[12]+1700485571&4294967295,o=a+(n^((e=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,a=e+(o<<10&4294967295|o>>>22),o=i+(e^(a|~n))+r[10]+4293915773&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~e))+r[1]+2240044497&4294967295,o=e+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[8]+1873313359&4294967295,o=a+(n^((e=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,a=e+(o<<10&4294967295|o>>>22),o=i+(e^(a|~n))+r[6]+2734768916&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~e))+r[13]+1309151649&4294967295,o=e+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[4]+4149444226&4294967295,o=a+(n^((e=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,a=e+(o<<10&4294967295|o>>>22),o=i+(e^(a|~n))+r[2]+718787259&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+a&4294967295}function r(t,e){this.h=e;const n=[];let r=!0;for(let i=t.length-1;i>=0;i--){const o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.F=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.D=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.v=function(t,e){void 0===e&&(e=t.length);const r=e-this.blockSize,i=this.C;let o=this.h,a=0;for(;a<e;){if(0==o)for(;a<=r;)n(this,t,a),a+=this.blockSize;if("string"===typeof t){for(;a<e;)if(i[o++]=t.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<e;)if(i[o++]=t[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=e},e.prototype.A=function(){var t=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;e=8*this.o;for(var n=t.length-8;n<t.length;++n)t[n]=255&e,e/=256;for(this.v(t),t=Array(16),e=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)t[e++]=this.g[n]>>>r&255;return t};var i={};function o(t){return-128<=t&&t<128?function(t,e){var n=i;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new r([0|t],t<0?-1:0)})):new r([0|t],t<0?-1:0)}function a(t){if(isNaN(t)||!isFinite(t))return s;if(t<0)return h(a(-t));const e=[];let n=1;for(let r=0;t>=n;r++)e[r]=t/n|0,n*=4294967296;return new r(e,0)}var s=o(0),l=o(1),c=o(16777216);function u(t){if(0!=t.h)return!1;for(let e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function d(t){return-1==t.h}function h(t){const e=t.g.length,n=[];for(let r=0;r<e;r++)n[r]=~t.g[r];return new r(n,~t.h).add(l)}function p(t,e){return t.add(h(e))}function f(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function m(t,e){this.g=t,this.h=e}function g(t,e){if(u(e))throw Error("division by zero");if(u(t))return new m(s,s);if(d(t))return e=g(h(t),e),new m(h(e.g),h(e.h));if(d(e))return e=g(t,h(e)),new m(h(e.g),e.h);if(t.g.length>30){if(d(t)||d(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=e;r.l(t)<=0;)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);c.l(t)<=0&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return e=p(t,i.j(e)),new m(i,e)}for(i=s;t.l(e)>=0;){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=a(n)).j(e);d(c)||c.l(t)>0;)c=(o=a(n-=r)).j(e);u(o)&&(o=l),i=i.add(o),t=p(t,c)}return new m(i,t)}function y(t){const e=t.g.length+1,n=[];for(let r=0;r<e;r++)n[r]=t.i(r)<<1|t.i(r-1)>>>31;return new r(n,t.h)}function v(t,e){const n=e>>5;e%=32;const i=t.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=e>0?t.i(r+n)>>>e|t.i(r+n+1)<<32-e:t.i(r+n);return new r(o,t.h)}(t=r.prototype).m=function(){if(d(this))return-h(this).m();let t=0,e=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);t+=(r>=0?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if((t=t||10)<2||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(d(this))return"-"+h(this).toString(t);const e=a(Math.pow(t,6));var n=this;let r="";for(;;){const i=g(n,e).g;let o=(((n=p(n,i.j(e))).g.length>0?n.g[0]:n.h)>>>0).toString(t);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},t.i=function(t){return t<0?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return d(t=p(this,t))?-1:u(t)?0:1},t.abs=function(){return d(this)?h(this):this},t.add=function(t){const e=Math.max(this.g.length,t.g.length),n=[];let i=0;for(let r=0;r<=e;r++){let e=i+(65535&this.i(r))+(65535&t.i(r)),o=(e>>>16)+(this.i(r)>>>16)+(t.i(r)>>>16);i=o>>>16,e&=65535,o&=65535,n[r]=o<<16|e}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return s;if(d(this))return d(t)?h(this).j(h(t)):h(h(this).j(t));if(d(t))return h(this.j(h(t)));if(this.l(c)<0&&t.l(c)<0)return a(this.m()*t.m());const e=this.g.length+t.g.length,n=[];for(var i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let e=0;e<t.g.length;e++){const r=this.i(i)>>>16,o=65535&this.i(i),a=t.i(e)>>>16,s=65535&t.i(e);n[2*i+2*e]+=o*s,f(n,2*i+2*e),n[2*i+2*e+1]+=r*s,f(n,2*i+2*e+1),n[2*i+2*e+1]+=o*a,f(n,2*i+2*e+1),n[2*i+2*e+2]+=r*a,f(n,2*i+2*e+2)}for(t=0;t<e;t++)n[t]=n[2*t+1]<<16|n[2*t];for(t=e;t<2*e;t++)n[t]=0;return new r(n,0)},t.B=function(t){return g(this,t).h},t.and=function(t){const e=Math.max(this.g.length,t.g.length),n=[];for(let r=0;r<e;r++)n[r]=this.i(r)&t.i(r);return new r(n,this.h&t.h)},t.or=function(t){const e=Math.max(this.g.length,t.g.length),n=[];for(let r=0;r<e;r++)n[r]=this.i(r)|t.i(r);return new r(n,this.h|t.h)},t.xor=function(t){const e=Math.max(this.g.length,t.g.length),n=[];for(let r=0;r<e;r++)n[r]=this.i(r)^t.i(r);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.A,e.prototype.reset=e.prototype.u,e.prototype.update=e.prototype.v,Zo=ea.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return h(t(e.substring(1),n));if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let i=s;for(let s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s);const t=parseInt(e.substring(s,s+o),n);o<8?(o=a(Math.pow(n,o)),i=i.j(o).add(a(t))):(i=i.j(r),i=i.add(a(t)))}return i},Xo=ea.Integer=r}).apply("undefined"!==typeof ta?ta:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var na,ra,ia,oa,aa,sa,la,ca,ua="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},da={};(function(){var t,e=Object.defineProperty;var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ua&&ua];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(t,r){if(r)t:{var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];if(!(a in i))break t;i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",(function(t){return t||Symbol("Symbol.dispose")})),r("Array.prototype.values",(function(t){return t||function(){return this[Symbol.iterator]()}})),r("Object.entries",(function(t){return t||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push([e,t[e]]);return n}}));var i=i||{},o=this||self;function a(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function s(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){return(l=s).apply(null,arguments)}function c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ob=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function h(t){const e=t.length;if(e>0){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function p(t,e){for(let r=1;r<arguments.length;r++){const e=arguments[r];var n=typeof e;if("array"==(n="object"!=n?n:e?Array.isArray(e)?"array":n:"null")||"object"==n&&"number"==typeof e.length){n=t.length||0;const r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function f(t){o.setTimeout((()=>{throw t}),0)}function m(){var t=b;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var g=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return this.h>0?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new y),(t=>t.reset()));class y{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let v,x=!1,b=new class{constructor(){this.h=this.g=null}add(t,e){const n=g.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const t=Promise.resolve(void 0);v=()=>{t.then(S)}};function S(){for(var t;t=m();){try{t.h.call(t.g)}catch(V){f(V)}var e=g;e.j(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}x=!1}function k(){this.u=this.u,this.C=this.C}function E(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};o.addEventListener("test",t,e),o.removeEventListener("test",t,e)}catch(V){}return t}();function C(t){return/^[\s\xa0]*$/.test(t)}function T(t,e){E.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t&&this.init(t,e)}u(T,E),T.prototype.init=function(t,e){const n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.g=e,(e=t.relatedTarget)||("mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement)),this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=t.pointerType,this.state=t.state,this.i=t,t.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),A=0;function j(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++A,this.da=this.fa=!1}function P(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function R(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function N(t){const e={};for(const n in t)e[n]=t[n];return e}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<O.length;e++)n=O[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M(t){this.src=t,this.g={},this.h=0}function L(t,e){const n=e.type;if(n in t.g){var r,i=t.g[n],o=Array.prototype.indexOf.call(i,e,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(P(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function F(t,e,n,r){for(let i=0;i<t.length;++i){const o=t[i];if(!o.da&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}M.prototype.add=function(t,e,n,r,i){const o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);const a=F(t,e,r,i);return a>-1?(e=t[a],n||(e.fa=!1)):((e=new j(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var q="closure_lm_"+(1e6*Math.random()|0),B={};function H(t,e,n,r,i){if(r&&r.once)return G(t,e,n,r,i);if(Array.isArray(e)){for(let o=0;o<e.length;o++)H(t,e[o],n,r,i);return null}return n=rt(n),t&&t[I]?t.J(e,n,a(r)?!!r.capture:!!r,i):W(t,e,n,!1,r,i)}function W(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");const s=a(i)?!!i.capture:!!i;let l=et(t);if(l||(t[q]=l=new M(t)),(n=l.add(e,n,r,s,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=tt;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(X(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function G(t,e,n,r,i){if(Array.isArray(e)){for(let o=0;o<e.length;o++)G(t,e[o],n,r,i);return null}return n=rt(n),t&&t[I]?t.K(e,n,a(r)?!!r.capture:!!r,i):W(t,e,n,!0,r,i)}function Q(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Q(t,e[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=rt(n),t&&t[I]?(t=t.i,(o=String(e).toString())in t.g&&((n=F(e=t.g[o],n,r,i))>-1&&(P(e[n]),Array.prototype.splice.call(e,n,1),0==e.length&&(delete t.g[o],t.h--)))):t&&(t=et(t))&&(e=t.g[e.toString()],t=-1,e&&(t=F(e,n,r,i)),(n=t>-1?e[t]:null)&&J(n))}function J(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[I])L(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(X(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=et(e))?(L(n,t),0==n.h&&(n.src=null,e[q]=null)):P(t)}}}function X(t){return t in B?B[t]:B[t]="on"+t}function tt(t,e){if(t.da)t=!0;else{e=new T(e,this);const n=t.listener,r=t.ha||t.src;t.fa&&J(t),t=n.call(r,e)}return t}function et(t){return(t=t[q])instanceof M?t:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(t){return"function"===typeof t?t:(t[nt]||(t[nt]=function(e){return t.handleEvent(e)}),t[nt])}function ot(){k.call(this),this.i=new M(this),this.M=this,this.G=null}function at(t,e){var n,r=t.G;if(r)for(n=[];r;r=r.G)n.push(r);if(t=t.M,r=e.type||e,"string"===typeof e)e=new E(e,t);else if(e instanceof E)e.target=e.target||t;else{var i=e;D(e=new E(r,t),i)}let o,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)o=e.g=n[a],i=st(o,r,!0,e)&&i;if(o=e.g=t,i=st(o,r,!0,e)&&i,i=st(o,r,!1,e)&&i,n)for(a=0;a<n.length;a++)o=e.g=n[a],i=st(o,r,!1,e)&&i}function st(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();let i=!0;for(let o=0;o<e.length;++o){const a=e[o];if(a&&!a.da&&a.capture==n){const e=a.listener,n=a.ha||a.src;a.fa&&L(t.i,a),i=!1!==e.call(n,r)&&i}}return i&&!r.defaultPrevented}function lt(t){t.g=function(t,e){if("function"!==typeof t){if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=l(t.handleEvent,t)}return Number(e)>2147483647?-1:o.setTimeout(t,e||0)}((()=>{t.g=null,t.i&&(t.i=!1,lt(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}u(ot,k),ot.prototype[I]=!0,ot.prototype.removeEventListener=function(t,e,n,r){Q(this,t,e,n,r)},ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var t=this.i;for(const e in t.g){const n=t.g[e];for(let t=0;t<n.length;t++)P(n[t]);delete t.g[e],t.h--}}this.G=null},ot.prototype.J=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ot.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class ut extends k{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(t){k.call(this),this.h=t,this.g={}}u(dt,k);var ht=[];function pt(t){R(t.g,(function(t,e){this.g.hasOwnProperty(e)&&J(t)}),t),t.g={}}dt.prototype.N=function(){dt.Z.N.call(this),pt(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=o.JSON.stringify,mt=o.JSON.parse,gt=class{stringify(t){return o.JSON.stringify(t,void 0)}parse(t){return o.JSON.parse(t,void 0)}};function yt(){}function vt(){}var xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bt(){E.call(this,"d")}function wt(){E.call(this,"c")}u(bt,E),u(wt,E);var St={},kt=null;function Et(){return kt=kt||new ot}function _t(t){E.call(this,St.Ia,t)}function Ct(t){const e=Et();at(e,new _t(e))}function Tt(t,e){E.call(this,St.STAT_EVENT,t),this.stat=e}function It(t){const e=Et();at(e,new Tt(e,t))}function At(t,e){E.call(this,St.Ja,t),this.size=e}function jt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){t()}),e)}function Pt(){this.g=!0}function Rt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{const o=JSON.parse(e);if(o)for(t=0;t<o.length;t++)if(Array.isArray(o[t])){var n=o[t];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let t=1;t<r.length;t++)r[t]=""}}}return ft(o)}catch(U){return e}}(t,n)+(r?" "+r:"")}))}St.Ia="serverreachability",u(_t,E),St.STAT_EVENT="statevent",u(Tt,E),St.Ja="timingevent",u(At,E),Pt.prototype.ua=function(){this.g=!1},Pt.prototype.info=function(){};var Nt,Ot={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Mt(){}function Lt(t){return encodeURIComponent(String(t))}function Ft(t){var e=1;t=t.split(":");const n=[];for(;e>0&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function zt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.S=r||1,this.V=new dt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}u(Mt,yt),Mt.prototype.g=function(){return new XMLHttpRequest},Nt=new Mt;var Vt={},qt={};function Bt(t,e,n){t.M=1,t.A=fe(ce(e)),t.u=n,t.R=!0,Ht(t,null)}function Ht(t,e){t.F=Date.now(),Gt(t),t.B=ce(t.A);var n=t.B,r=t.S;Array.isArray(r)||(r=[String(r)]),Ie(n.i,"t",r),t.C=0,n=t.j.L,t.h=new Ut,t.g=mn(t.j,n?e:null,!t.u),t.P>0&&(t.O=new ut(l(t.Y,t,t.g),t.P)),e=t.V,n=t.g,r=t.ba;var i="readystatechange";Array.isArray(i)||(i&&(ht[0]=i.toString()),i=ht);for(let o=0;o<i.length;o++){const t=H(n,i[o],r||e.handleEvent,!1,e.h||e);if(!t)break;e.g[t.key]=t}e=t.J?N(t.J):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.B,t.v,t.u,e)):(t.v="GET",t.g.ea(t.B,t.v,null,e)),Ct(),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o){var a="",s=o.split("&");for(let t=0;t<s.length;t++){var l=s[t].split("=");if(l.length>1){const t=l[0];l=l[1];const e=t.split("_");a=e.length>=2&&"type"==e[1]?a+(t+"=")+l+"&":a+(t+"=redacted&")}}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.i,t.v,t.B,t.l,t.S,t.u)}function Wt(t){return!!t.g&&("GET"==t.v&&2!=t.M&&t.j.Aa)}function Kt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?qt:(n=Number(e.substring(n,r)),isNaN(n)?Vt:(r+=1)+n>e.length?qt:(e=e.slice(r,r+n),t.C=r+n,e))}function Gt(t){t.T=Date.now()+t.H,Qt(t,t.H)}function Qt(t,e){if(null!=t.D)throw Error("WatchDog timer not null");t.D=jt(l(t.aa,t),e)}function $t(t){t.D&&(o.clearTimeout(t.D),t.D=null)}function Yt(t){0==t.j.I||t.K||un(t.j,t)}function Jt(t){$t(t);var e=t.O;e&&"function"==typeof e.dispose&&e.dispose(),t.O=null,pt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.dispose())}function Xt(t,e){try{var n=t.j;if(0!=n.I&&(n.g==t||re(n.h,t)))if(!t.L&&re(n.h,t)&&3==n.I){try{var r=n.Ba.g.parse(e)}catch(Y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.v){if(n.g){if(!(n.g.F+3e3<t.F))break t;cn(n),Xe(n)}an(n),It(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=jt(l(n.Va,n),6e3));ne(n.h)<=1&&n.ta&&(n.ta=void 0)}else hn(n,11)}else if((t.L||n.g==t)&&cn(n),!C(e))for(i=n.Ba.g.parse(e),e=0;e<i.length;e++){let l=i[e];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const e=l[3];null!=e&&(n.ka=e,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const t=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.h;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ie(o,o.h),o.h=null))}if(r.G){const t=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.wa=t,pe(r.J,r.G,t))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-t.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=t;if((r=n).na=fn(r,r.L?r.ba:null,r.W),a.L){oe(r.h,a);var s=a,c=r.O;c&&(s.H=c),s.D&&($t(s),Gt(s)),r.g=a}else on(r);n.i.length>0&&tn(n)}else"stop"!=l[0]&&"close"!=l[0]||hn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?hn(n,7):Je(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}Ct()}catch(Y){}}zt.prototype.ba=function(t){t=t.target;const e=this.O;e&&3==Ge(t)?e.j():this.Y(t)},zt.prototype.Y=function(t){try{if(t==this.g)t:{const l=Ge(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||4!=l||7==c||Ct(),$t(this);var e=this.g.ca();this.X=e;var n=function(t){if(!Wt(t))return t.g.la();const e=Qe(t.g);if(""===e)return"";let n="";const r=e.length,i=4==Ge(t.g);if(!t.h.i){if("undefined"===typeof TextDecoder)return Jt(t),Yt(t),"";t.h.i=new o.TextDecoder}for(let o=0;o<r;o++)t.h.h=!0,n+=t.h.i.decode(e[o],{stream:!(i&&o==r-1)});return e.length=0,t.h.g+=n,t.C=0,t.h.g}(this);if(this.o=200==e,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.i,this.v,this.B,this.l,this.S,l,e),this.o){if(this.U&&!this.L){e:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var a=r;break e}}a=null}if(!(t=a)){this.o=!1,this.m=3,It(12),Jt(this),Yt(this);break t}Rt(this.i,this.l,t,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xt(this,t)}if(this.R){let e;for(t=!0;!this.K&&this.C<n.length;){if(e=Kt(this,n),e==qt){4==l&&(this.m=4,It(14),t=!1),Rt(this.i,this.l,null,"[Incomplete Response]");break}if(e==Vt){this.m=4,It(15),Rt(this.i,this.l,n,"[Invalid Chunk]"),t=!1;break}Rt(this.i,this.l,e,null),Xt(this,e)}if(Wt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,It(16),t=!1),this.o=this.o&&t,t){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),sn(s),s.P=!0,It(11))}}else Rt(this.i,this.l,n,"[Invalid Chunked Response]"),Jt(this),Yt(this)}else Rt(this.i,this.l,n,null),Xt(this,n);4==l&&Jt(this),this.o&&!this.K&&(4==l?un(this.j,this):(this.o=!1,Gt(this)))}else(function(t){const e={};t=(t.g&&Ge(t)>=2&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(C(t[r]))continue;var n=Ft(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==e&&n.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Jt(this),Yt(this)}}}catch(ct){}},zt.prototype.cancel=function(){this.K=!0,Jt(this)},zt.prototype.aa=function(){this.D=null;const t=Date.now();t-this.T>=0?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.B),2!=this.M&&(Ct(),It(17)),Jt(this),this.m=2,Yt(this)):Qt(this,this.T-t)};var Zt=class{constructor(t,e){this.g=t,this.map=e}};function te(t){this.l=t||10,o.PerformanceNavigationTiming?t=(t=o.performance.getEntriesByType("navigation")).length>0&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ee(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ne(t){return t.h?1:t.g?t.g.size:0}function re(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ie(t,e){t.g?t.g.add(e):t.h=e}function oe(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ae(t){if(null!=t.h)return t.i.concat(t.h.G);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.G);return e}return h(t.i)}te.prototype.cancel=function(){if(this.i=ae(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var se=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function le(t){let e;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,t instanceof le?(this.l=t.l,ue(this,t.j),this.o=t.o,this.g=t.g,de(this,t.u),this.h=t.h,he(this,Ae(t.i)),this.m=t.m):t&&(e=String(t).match(se))?(this.l=!1,ue(this,e[1]||"",!0),this.o=me(e[2]||""),this.g=me(e[3]||"",!0),de(this,e[4]),this.h=me(e[5]||"",!0),he(this,e[6]||"",!0),this.m=me(e[7]||"")):(this.l=!1,this.i=new ke(null,this.l))}function ce(t){return new le(t)}function ue(t,e,n){t.j=n?me(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function de(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.u=e}else t.u=null}function he(t,e,n){e instanceof ke?(t.i=e,function(t,e){e&&!t.j&&(Ee(t),t.i=null,t.g.forEach((function(t,e){const n=e.toLowerCase();e!=n&&(_e(this,e),Ie(this,n,t))}),t)),t.j=e}(t.i,t.l)):(n||(e=ge(e,we)),t.i=new ke(e,t.l))}function pe(t,e,n){t.i.set(e,n)}function fe(t){return pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function me(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ge(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ye),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ye(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}le.prototype.toString=function(){const t=[];var e=this.j;e&&t.push(ge(e,ve,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(ge(e,ve,!0),"@"),t.push(Lt(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&t.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ge(n,"/"==n.charAt(0)?be:xe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",ge(n,Se)),t.join("")},le.prototype.resolve=function(t){const e=ce(this);let n=!!t.j;n?ue(e,t.j):n=!!t.o,n?e.o=t.o:n=!!t.g,n?e.g=t.g:n=null!=t.u;var r=t.h;if(n)de(e,t.u);else if(n=!!t.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=e.h.lastIndexOf("/");-1!=i&&(r=e.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const t=[];for(let e=0;e<i.length;){const n=i[e++];"."==n?r&&e==i.length&&t.push(""):".."==n?((t.length>1||1==t.length&&""!=t[0])&&t.pop(),r&&e==i.length&&t.push("")):(t.push(n),r=!0)}r=t.join("/")}else r=i}return n?e.h=r:n=""!==t.i.toString(),n?he(e,Ae(t.i)):n=!!t.m,n&&(e.m=t.m),e};var ve=/[#\/\?@]/g,xe=/[#\?:]/g,be=/[#\?]/g,we=/[#\?@]/g,Se=/#/g;function ke(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ee(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(let n=0;n<t.length;n++){const r=t[n].indexOf("=");let i,o=null;r>=0?(i=t[n].substring(0,r),o=t[n].substring(r+1)):i=t[n],e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function _e(t,e){Ee(t),e=je(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ce(t,e){return Ee(t),e=je(t,e),t.g.has(e)}function Te(t,e){Ee(t);let n=[];if("string"===typeof e)Ce(t,e)&&(n=n.concat(t.g.get(je(t,e))));else for(t=Array.from(t.g.values()),e=0;e<t.length;e++)n=n.concat(t[e]);return n}function Ie(t,e,n){_e(t,e),n.length>0&&(t.i=null,t.g.set(je(t,e),h(n)),t.h+=n.length)}function Ae(t){const e=new ke;return e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),e}function je(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Pe(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(U){}}function Re(){this.g=new gt}function Ne(t){this.i=t.Sb||null,this.h=t.ab||!1}function Oe(t,e){ot.call(this),this.H=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function De(t){t.j.read().then(t.Ma.bind(t)).catch(t.ga.bind(t))}function Me(t){t.readyState=4,t.l=null,t.j=null,t.B=null,Le(t)}function Le(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Fe(t){let e="";return R(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function ze(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Fe(n),"string"===typeof t?null!=n&&Lt(n):pe(t,e,n))}function Ue(t){ot.call(this),this.headers=new Map,this.L=t||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(t=ke.prototype).add=function(t,e){Ee(this),this.i=null,t=je(this,t);let n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){Ee(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.set=function(t,e){return Ee(this),this.i=null,Ce(this,t=je(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&(t=Te(this,t)).length>0?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(let r=0;r<e.length;r++){var n=e[r];const i=Lt(n);n=Te(this,n);for(let e=0;e<n.length;e++){let r=i;""!==n[e]&&(r+="="+Lt(n[e])),t.push(r)}}return this.i=t.join("&")},u(Ne,yt),Ne.prototype.g=function(){return new Oe(this.i,this.h)},u(Oe,ot),(t=Oe.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=t,this.D=e,this.readyState=1,Le(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const e={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};t&&(e.body=t),(this.H||o).fetch(new Request(this.D,e)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Me(this)),this.readyState=0},t.Pa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Le(this)),this.g&&(this.readyState=3,Le(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;De(this)}else t.text().then(this.Oa.bind(this),this.ga.bind(this))},t.Ma=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.B.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Me(this):Le(this),3==this.readyState&&De(this)}},t.Oa=function(t){this.g&&(this.response=this.responseText=t,Me(this))},t.Na=function(t){this.g&&(this.response=t,Me(this))},t.ga=function(){this.g&&Me(this)},t.setRequestHeader=function(t,e){this.A.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Oe.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),u(Ue,ot);var Ve=/^https?$/i,qe=["POST","PUT"];function Be(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.o=5,He(t),Ke(t)}function He(t){t.A||(t.A=!0,at(t,"complete"),at(t,"error"))}function We(t){if(t.h&&"undefined"!=typeof i)if(t.v&&4==Ge(t))setTimeout(t.Ca.bind(t),0);else if(at(t,"readystatechange"),4==Ge(t)){t.h=!1;try{const i=t.ca();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===i){let e=String(t.D).match(se)[1]||null;!e&&o.self&&o.self.location&&(e=o.self.location.protocol.slice(0,-1)),r=!Ve.test(e?e.toLowerCase():"")}n=r}if(n)at(t,"complete"),at(t,"success");else{t.o=6;try{var a=Ge(t)>2?t.g.statusText:""}catch(Z){a=""}t.l=a+" ["+t.ca()+"]",He(t)}}finally{Ke(t)}}}function Ke(t,e){if(t.g){t.m&&(clearTimeout(t.m),t.m=null);const n=t.g;t.g=null,e||at(t,"ready");try{n.onreadystatechange=null}catch(K){}}}function Ge(t){return t.g?t.g.readyState:0}function Qe(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.F){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch($){return null}}function $e(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ye(t){this.za=0,this.i=[],this.j=new Pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$e("failFast",!1,t),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$e("baseRetryDelayMs",5e3,t),this.Za=$e("retryDelaySeedMs",1e4,t),this.Ta=$e("forwardChannelMaxRetries",2,t),this.va=$e("forwardChannelRequestTimeoutMs",2e4,t),this.ma=t&&t.xmlHttpFactory||void 0,this.Ua=t&&t.Rb||void 0,this.Aa=t&&t.useFetchStreams||!1,this.O=void 0,this.L=t&&t.supportsCrossDomainXhr||!1,this.M="",this.h=new te(t&&t.concurrentRequestLimit),this.Ba=new Re,this.S=t&&t.fastHandshake||!1,this.R=t&&t.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=t&&t.Pb||!1,t&&t.ua&&this.j.ua(),t&&t.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&t&&t.detectBufferingProxy||!1,this.ia=void 0,t&&t.longPollingTimeout&&t.longPollingTimeout>0&&(this.ia=t.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Je(t){if(Ze(t),3==t.I){var e=t.V++,n=ce(t.J);if(pe(n,"SID",t.M),pe(n,"RID",e),pe(n,"TYPE","terminate"),nn(t,n),(e=new zt(t,t.j,e)).M=2,e.A=fe(ce(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(e.A.toString(),"")}catch(K){}!n&&o.Image&&((new Image).src=e.A,n=!0),n||(e.g=mn(e.j,null),e.g.ea(e.A)),e.F=Date.now(),Gt(e)}pn(t)}function Xe(t){t.g&&(sn(t),t.g.cancel(),t.g=null)}function Ze(t){Xe(t),t.v&&(o.clearTimeout(t.v),t.v=null),cn(t),t.h.cancel(),t.m&&("number"===typeof t.m&&o.clearTimeout(t.m),t.m=null)}function tn(t){if(!ee(t.h)&&!t.m){t.m=!0;var e=t.Ea;v||w(),x||(v(),x=!0),b.add(e,t),t.D=0}}function en(t,e){var n;n=e?e.l:t.V++;const r=ce(t.J);pe(r,"SID",t.M),pe(r,"RID",n),pe(r,"AID",t.K),nn(t,r),t.u&&t.o&&ze(r,t.u,t.o),n=new zt(t,t.j,n,t.D+1),null===t.u&&(n.J=t.o),e&&(t.i=e.G.concat(t.i)),e=rn(t,n,1e3),n.H=Math.round(.5*t.va)+Math.round(.5*t.va*Math.random()),ie(t.h,n),Bt(n,r,e)}function nn(t,e){t.H&&R(t.H,(function(t,n){pe(e,n,t)})),t.l&&R({},(function(t,n){pe(e,n,t)}))}function rn(t,e,n){n=Math.min(t.i.length,n);const r=t.l?l(t.l.Ka,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?n>0?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=e)<0)e=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[e,n]of s){let r=n;a(n)&&(r=ft(n)),t.push(o+e+"="+encodeURIComponent(r))}}catch(it){throw t.push(o+"type="+encodeURIComponent("_badmap")),it}}catch(it){r&&r(n)}}if(l){s=t.join("&");break t}}s=void 0}return t=t.i.splice(0,n),e.G=t,s}function on(t){if(!t.g&&!t.v){t.Y=1;var e=t.Da;v||w(),x||(v(),x=!0),b.add(e,t),t.A=0}}function an(t){return!(t.g||t.v||t.A>=3)&&(t.Y++,t.v=jt(l(t.Da,t),dn(t,t.A)),t.A++,!0)}function sn(t){null!=t.B&&(o.clearTimeout(t.B),t.B=null)}function ln(t){t.g=new zt(t,t.j,"rpc",t.Y),null===t.u&&(t.g.J=t.o),t.g.P=0;var e=ce(t.na);pe(e,"RID","rpc"),pe(e,"SID",t.M),pe(e,"AID",t.K),pe(e,"CI",t.F?"0":"1"),!t.F&&t.ia&&pe(e,"TO",t.ia),pe(e,"TYPE","xmlhttp"),nn(t,e),t.u&&t.o&&ze(e,t.u,t.o),t.O&&(t.g.H=t.O);var n=t.g;t=t.ba,n.M=1,n.A=fe(ce(e)),n.u=null,n.R=!0,Ht(n,t)}function cn(t){null!=t.C&&(o.clearTimeout(t.C),t.C=null)}function un(t,e){var n=null;if(t.g==e){cn(t),sn(t),t.g=null;var r=2}else{if(!re(t.h,e))return;n=e.G,oe(t.h,e),r=1}if(0!=t.I)if(e.o)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.F;var i=t.D;at(r=Et(),new At(r,n)),tn(t)}else on(t);else if(3==(i=e.m)||0==i&&e.X>0||!(1==r&&function(t,e){return!(ne(t.h)>=t.h.j-(t.m?1:0))&&(t.m?(t.i=e.G.concat(t.i),!0):!(1==t.I||2==t.I||t.D>=(t.Sa?0:t.Ta))&&(t.m=jt(l(t.Ea,t,e),dn(t,t.D)),t.D++,!0))}(t,e)||2==r&&an(t)))switch(n&&n.length>0&&(e=t.h,e.i=e.i.concat(n)),i){case 1:hn(t,5);break;case 4:hn(t,10);break;case 3:hn(t,6);break;default:hn(t,2)}}function dn(t,e){let n=t.Qa+Math.floor(Math.random()*t.Za);return t.isActive()||(n*=2),n*e}function hn(t,e){if(t.j.info("Error code "+e),2==e){var n=l(t.bb,t),r=t.Ua;const e=!r;r=new le(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||ue(r,"https"),fe(r),e?function(t,e){const n=new Pt;if(o.Image){const r=new Image;r.onload=c(Pe,n,"TestLoadImage: loaded",!0,e,r),r.onerror=c(Pe,n,"TestLoadImage: error",!1,e,r),r.onabort=c(Pe,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=c(Pe,n,"TestLoadImage: timeout",!1,e,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new Pt;const n=new AbortController,r=setTimeout((()=>{n.abort(),Pe(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?Pe(0,0,!0,e):Pe(0,0,!1,e)})).catch((()=>{clearTimeout(r),Pe(0,0,!1,e)}))}(r.toString(),n)}else It(2);t.I=0,t.l&&t.l.pa(e),pn(t),Ze(t)}function pn(t){if(t.I=0,t.ja=[],t.l){const e=ae(t.h);0==e.length&&0==t.i.length||(p(t.ja,e),p(t.ja,t.i),t.h.i.length=0,h(t.i),t.i.length=0),t.l.oa()}}function fn(t,e,n){var r=n instanceof le?ce(n):new le(n);if(""!=r.g)e&&(r.g=e+"."+r.g),de(r,r.u);else{var i=o.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;const t=new le(null);r&&ue(t,r),e&&(t.g=e),i&&de(t,i),n&&(t.h=n),r=t}return n=t.G,e=t.wa,n&&e&&pe(r,n,e),pe(r,"VER",t.ka),nn(t,r),r}function mn(t,e,n){if(e&&!t.L)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Aa&&!t.ma?new Ue(new Ne({ab:n})):new Ue(t.ma)).Fa(t.L),e}function gn(){}function yn(){}function vn(t,e){ot.call(this),this.g=new Ye(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.sa&&(t?t["X-WebChannel-Client-Profile"]=e.sa:t={"X-WebChannel-Client-Profile":e.sa}),this.g.U=t,(t=e&&e.Qb)&&!C(t)&&(this.g.u=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C(e)&&(this.g.G=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new wn(this)}function xn(t){bt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function bn(){wt.call(this),this.status=1}function wn(t){this.g=t}(t=Ue.prototype).Fa=function(t){this.H=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nt.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(U){return void Be(this,U)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=o.FormData&&t instanceof o.FormData,!(Array.prototype.indexOf.call(qe,e,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(U){Be(this,U)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=t||7,at(this,"complete"),at(this,"abort"),Ke(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ke(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?We(this):this.Xa())},t.Xa=function(){We(this)},t.isActive=function(){return!!this.g},t.ca=function(){try{return Ge(this)>2?this.g.status:-1}catch(z){return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(z){return""}},t.La=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mt(e)}},t.ya=function(){return this.o},t.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Ye.prototype).ka=8,t.I=1,t.connect=function(t,e,n,r){It(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=fn(this,null,this.W),tn(this)},t.Ea=function(t){if(this.m)if(this.m=null,1==this.I){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new zt(this,this.j,t);let o=this.o;if(this.U&&(o?(o=N(o),D(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((e+=r)>4096){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=rn(this,i,e),pe(n=ce(this.J),"RID",t),pe(n,"CVER",22),this.G&&pe(n,"X-HTTP-Session-Id",this.G),nn(this,n),o&&(this.R?e="headers="+Lt(Fe(o))+"&"+e:this.u&&ze(n,this.u,o)),ie(this.h,i),this.Ra&&pe(n,"TYPE","init"),this.S?(pe(n,"$req",e),pe(n,"SID","null"),i.U=!0,Bt(i,n,null)):Bt(i,n,e),this.I=2}}else 3==this.I&&(t?en(this,t):0==this.i.length||ee(this.h)||en(this))},t.Da=function(){if(this.v=null,ln(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var t=4*this.T;this.j.info("BP detection timer enabled: "+t),this.B=jt(l(this.Wa,this),t)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Xe(this),ln(this))},t.Va=function(){null!=this.C&&(this.C=null,Xe(this),an(this),It(19))},t.bb=function(t){t?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=gn.prototype).ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){},yn.prototype.g=function(t,e){return new vn(t,e)},u(vn,ot),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Je(this.g)},vn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ft(t),t=n);e.i.push(new Zt(e.Ya++,t)),3==e.I&&tn(e)},vn.prototype.N=function(){this.g.l=null,delete this.j,Je(this.g),delete this.g,vn.Z.N.call(this)},u(xn,bt),u(bn,wt),u(wn,gn),wn.prototype.ra=function(){at(this.g,"a")},wn.prototype.qa=function(t){at(this.g,new xn(t))},wn.prototype.pa=function(t){at(this.g,new bn)},wn.prototype.oa=function(){at(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,ca=da.createWebChannelTransport=function(){return new yn},la=da.getStatEventTarget=function(){return Et()},sa=da.Event=St,aa=da.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ot.NO_ERROR=0,Ot.TIMEOUT=8,Ot.HTTP_ERROR=6,oa=da.ErrorCode=Ot,Dt.COMPLETE="complete",ia=da.EventType=Dt,vt.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",ot.prototype.listen=ot.prototype.J,ra=da.WebChannel=vt,da.FetchXmlHttpFactory=Ne,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,na=da.XhrIo=Ue}).apply("undefined"!==typeof ua?ua:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});class ha{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ha.UNAUTHENTICATED=new ha(null),ha.GOOGLE_CREDENTIALS=new ha("google-credentials-uid"),ha.FIRST_PARTY=new ha("first-party-uid"),ha.MOCK_USER=new ha("mock-user");let pa="12.8.0";const fa=new no("@firebase/firestore");function ma(){return fa.logLevel}function ga(t){if(fa.logLevel<=Ji.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(xa);fa.debug("Firestore (".concat(pa,"): ").concat(t),...i)}}function ya(t){if(fa.logLevel<=Ji.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(xa);fa.error("Firestore (".concat(pa,"): ").concat(t),...i)}}function va(t){if(fa.logLevel<=Ji.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(xa);fa.warn("Firestore (".concat(pa,"): ").concat(t),...i)}}function xa(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function ba(t,e,n){let r="Unexpected state";"string"==typeof e?r=e:n=e,wa(t,r,n)}function wa(t,e,n){let r="FIRESTORE (".concat(pa,") INTERNAL ASSERTION FAILED: ").concat(e," (ID: ").concat(t.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(t){r+=" CONTEXT: "+n}throw ya(r),new Error(r)}function Sa(t,e,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,t||wa(e,i,r)}function ka(t,e){return t}const Ea={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _a extends Oi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ca{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Ta{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class Ia{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ha.UNAUTHENTICATED)))}shutdown(){}}class Aa{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class ja{constructor(t){this.t=t,this.currentUser=ha.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Sa(void 0===this.o,42304);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ca,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},a=t=>{ga("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((t=>a(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(ga("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ca)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(ga("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Sa("string"==typeof e.accessToken,31837,{l:e}),new Ta(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Sa(null===t||"string"==typeof t,2055,{h:t}),new ha(t)}}class Pa{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=ha.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Ra{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new Pa(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ha.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Na{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oa{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,No(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Sa(void 0===this.o,3512);const n=t=>{null!=t.error&&ga("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.m;return this.m=t.token,ga("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{ga("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.V.getImmediate({optional:!0});t?r(t):ga("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Na(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Sa("string"==typeof t.token,44558,{tokenResult:t}),this.m=t.token,new Na(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Da(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Ma{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=Da(40);for(let r=0;r<n.length;++r)e.length<20&&n[r]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return e}}function La(t,e){return t<e?-1:t>e?1:0}function Fa(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.charAt(r),i=e.charAt(r);if(n!==i)return Va(n)===Va(i)?La(n,i):Va(n)?1:-1}return La(t.length,e.length)}const za=55296,Ua=57343;function Va(t){const e=t.charCodeAt(0);return e>=za&&e<=Ua}function qa(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}const Ba="__name__";class Ha{constructor(t,e,n){void 0===e?e=0:e>t.length&&ba(637,{offset:e,range:t.length}),void 0===n?n=t.length-e:n>t.length-e&&ba(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Ha.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ha?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=Ha.compareSegments(t.get(r),e.get(r));if(0!==n)return n}return La(t.length,e.length)}static compareSegments(t,e){const n=Ha.isNumericId(t),r=Ha.isNumericId(e);return n&&!r?-1:!n&&r?1:n&&r?Ha.extractNumericId(t).compare(Ha.extractNumericId(e)):Fa(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xo.fromString(t.substring(4,t.length-2))}}class Wa extends Ha{construct(t,e,n){return new Wa(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _a(Ea.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));t.push(...i.split("/").filter((t=>t.length>0)))}return new Wa(t)}static emptyPath(){return new Wa([])}}const Ka=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ga extends Ha{construct(t,e,n){return new Ga(t,e,n)}static isValidIdentifier(t){return Ka.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ga.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ba}static keyField(){return new Ga([Ba])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _a(Ea.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new _a(Ea.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new _a(Ea.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new _a(Ea.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ga(e)}static emptyPath(){return new Ga([])}}class Qa{constructor(t){this.path=t}static fromPath(t){return new Qa(Wa.fromString(t))}static fromName(t){return new Qa(Wa.fromString(t).popFirst(5))}static empty(){return new Qa(Wa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Wa.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Wa.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qa(new Wa(t.slice()))}}function $a(t,e,n){if(!n)throw new _a(Ea.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Ya(t){if(!Qa.isDocumentKey(t))throw new _a(Ea.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function Ja(t){if(Qa.isDocumentKey(t))throw new _a(Ea.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Xa(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Za(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":ba(12329,{type:typeof t})}function ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _a(Ea.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Za(t);throw new _a(Ea.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}function es(t,e){const n={typeString:t};return e&&(n.value=e),n}function ns(t,e){if(!Xa(t))throw new _a(Ea.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n="JSON missing required field: '".concat(r,"'");break}const a=t[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&a!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new _a(Ea.INVALID_ARGUMENT,n);return!0}const rs=-62135596800,is=1e6;class os{static now(){return os.fromMillis(Date.now())}static fromDate(t){return os.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*is);return new os(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _a(Ea.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _a(Ea.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<rs)throw new _a(Ea.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _a(Ea.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/is}_compareTo(t){return this.seconds===t.seconds?La(this.nanoseconds,t.nanoseconds):La(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:os._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ns(t,os._jsonSchema))return new os(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rs;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}os._jsonSchemaVersion="firestore/timestamp/1.0",os._jsonSchema={type:es("string",os._jsonSchemaVersion),seconds:es("number"),nanoseconds:es("number")};class as{static fromTimestamp(t){return new as(t)}static min(){return new as(new os(0,0))}static max(){return new as(new os(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ss=-1;class ls{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}ls.UNKNOWN_ID=-1;function cs(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=as.fromTimestamp(1e9===r?new os(n+1,0):new os(n,r));return new ds(i,Qa.empty(),e)}function us(t){return new ds(t.readTime,t.key,ss)}class ds{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new ds(as.min(),Qa.empty(),ss)}static max(){return new ds(as.max(),Qa.empty(),ss)}}function hs(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Qa.comparator(t.documentKey,e.documentKey),0!==n?n:La(t.largestBatchId,e.largestBatchId))}const ps="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ms(t){if(t.code!==Ea.FAILED_PRECONDITION||t.message!==ps)throw t;ga("LocalStore","Unexpectedly lost primary lease")}class gs{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ba(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new gs(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof gs?e:gs.resolve(e)}catch(t){return gs.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):gs.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):gs.reject(e)}static resolve(t){return new gs(((e,n)=>{e(t)}))}static reject(t){return new gs(((e,n)=>{n(t)}))}static waitFor(t){return new gs(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=gs.resolve(!1);for(const n of t)e=e.next((t=>t?gs.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new gs(((n,r)=>{const i=t.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;e(t[l]).next((t=>{o[l]=t,++a,a===i&&n(o)}),(t=>r(t)))}}))}static doWhile(t,e){return new gs(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function ys(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vs(t){return"IndexedDbTransactionError"===t.name}class xs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ae(t),this.ue=t=>e.writeSequenceNumber(t))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xs.ce=-1;const bs=-1;function ws(t){return null==t}function Ss(t){return 0===t&&1/t==-1/0}function ks(t){return"number"==typeof t&&Number.isInteger(t)&&!Ss(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Es="\x01";function _s(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ts(e)),e=Cs(t.get(n),e);return Ts(e)}function Cs(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case Es:n+="\x01\x11";break;default:n+=e}}return n}function Ts(t){return t+Es+"\x01"}const Is="remoteDocuments",As="owner",js="mutationQueues",Ps="mutations";const Rs="documentMutations",Ns="remoteDocumentsV14",Os="remoteDocumentGlobal",Ds="targets",Ms="targetDocuments",Ls="targetGlobal",Fs="collectionParents",zs="clientMetadata",Us="bundles",Vs="namedQueries",qs="indexConfiguration",Bs="indexState",Hs="indexEntries",Ws="documentOverlays",Ks="globals",Gs=[js,Ps,Rs,Is,Ds,As,Ls,Ms,zs,Os,Fs,Us,Vs],Qs=[js,Ps,Rs,Ns,Ds,As,Ls,Ms,zs,Os,Fs,Us,Vs,Ws],$s=Qs,Ys=[...$s,qs,Bs,Hs];function Js(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zs(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tl{constructor(t,e){this.comparator=t,this.root=e||nl.EMPTY}insert(t,e){return new tl(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,nl.BLACK,null,null))}remove(t){return new tl(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nl.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new el(this.root,t,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new el(this.root,t,this.comparator,!0)}}class el{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nl{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:nl.RED,this.left=null!=r?r:nl.EMPTY,this.right=null!=i?i:nl.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new nl(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nl.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return nl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nl.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ba(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ba(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ba(27949);return t+(this.isRed()?0:1)}}nl.EMPTY=null,nl.RED=!0,nl.BLACK=!1,nl.EMPTY=new class{constructor(){this.size=0}get key(){throw ba(57766)}get value(){throw ba(16141)}get color(){throw ba(16727)}get left(){throw ba(29726)}get right(){throw ba(36894)}copy(t,e,n,r,i){return this}insert(t,e,n){return new nl(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rl{constructor(t){this.comparator=t,this.data=new tl(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new il(this.data.getIterator())}getIteratorFrom(t){return new il(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof rl))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new rl(this.comparator);return e.data=t,e}}class il{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ol{constructor(t){this.fields=t,t.sort(Ga.comparator)}static empty(){return new ol([])}unionWith(t){let e=new rl(Ga.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ol(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qa(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class al extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sl{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new al("Invalid base64 string: "+t):t}}(t);return new sl(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new sl(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return La(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sl.EMPTY_BYTE_STRING=new sl("");const ll=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(t){if(Sa(!!t,39018),"string"==typeof t){let e=0;const n=ll.exec(t);if(Sa(!!n,46558,{timestamp:t}),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ul(t.seconds),nanos:ul(t.nanos)}}function ul(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function dl(t){return"string"==typeof t?sl.fromBase64String(t):sl.fromUint8Array(t)}const hl="server_timestamp",pl="__type__",fl="__previous_value__",ml="__local_write_time__";function gl(t){var e,n;return(null===(e=((null===t||void 0===t||null===(n=t.mapValue)||void 0===n?void 0:n.fields)||{})[pl])||void 0===e?void 0:e.stringValue)===hl}function yl(t){const e=t.mapValue.fields[fl];return gl(e)?yl(e):e}function vl(t){const e=cl(t.mapValue.fields[ml].timestampValue);return new os(e.seconds,e.nanos)}class xl{constructor(t,e,n,r,i,o,a,s,l,c,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c,this.apiKey=u}}const bl="(default)";class wl{constructor(t,e){this.projectId=t,this.database=e||bl}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===bl}isEqual(t){return t instanceof wl&&t.projectId===this.projectId&&t.database===this.database}}const Sl="__type__",kl="__max__",El={mapValue:{fields:{__type__:{stringValue:kl}}}},_l="__vector__",Cl="value";function Tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gl(t)?4:Hl(t)?9007199254740991:ql(t)?10:11:ba(28295,{value:t})}function Il(t,e){if(t===e)return!0;const n=Tl(t);if(n!==Tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vl(t).isEqual(vl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=cl(t.timestampValue),r=cl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return dl(t.bytesValue).isEqual(dl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ul(t.geoPointValue.latitude)===ul(e.geoPointValue.latitude)&&ul(t.geoPointValue.longitude)===ul(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ul(t.integerValue)===ul(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=ul(t.doubleValue),r=ul(e.doubleValue);return n===r?Ss(n)===Ss(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return qa(t.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Js(n)!==Js(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Il(n[i],r[i])))return!1;return!0}(t,e);default:return ba(52216,{left:t})}}function Al(t,e){return void 0!==(t.values||[]).find((t=>Il(t,e)))}function jl(t,e){if(t===e)return 0;const n=Tl(t),r=Tl(e);if(n!==r)return La(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return La(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=ul(t.integerValue||t.doubleValue),r=ul(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Pl(t.timestampValue,e.timestampValue);case 4:return Pl(vl(t),vl(e));case 5:return Fa(t.stringValue,e.stringValue);case 6:return function(t,e){const n=dl(t),r=dl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=La(n[i],r[i]);if(0!==t)return t}return La(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=La(ul(t.latitude),ul(e.latitude));return 0!==n?n:La(ul(t.longitude),ul(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rl(t.arrayValue,e.arrayValue);case 10:return function(t,e,n,r,i,o){const a=t.fields||{},s=e.fields||{},l=null===(n=a[Cl])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Cl])||void 0===r?void 0:r.arrayValue,u=La((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Rl(l,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===El.mapValue&&e===El.mapValue)return 0;if(t===El.mapValue)return 1;if(e===El.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const t=Fa(r[a],o[a]);if(0!==t)return t;const e=jl(n[r[a]],i[o[a]]);if(0!==e)return e}return La(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ba(23264,{he:n})}}function Pl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return La(t,e);const n=cl(t),r=cl(e),i=La(n.seconds,r.seconds);return 0!==i?i:La(n.nanos,r.nanos)}function Rl(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=jl(n[i],r[i]);if(t)return t}return La(n.length,r.length)}function Nl(t){return Ol(t)}function Ol(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=cl(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return dl(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return Qa.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Ol(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+="".concat(i,":").concat(Ol(t.fields[i]));return n+"}"}(t.mapValue):ba(61005,{value:t})}function Dl(t){switch(Tl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yl(t);return e?16+Dl(e):16;case 5:return 2*t.stringValue.length;case 6:return dl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+Dl(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return Xs(t.fields,((t,n)=>{e+=t.length+Dl(n)})),e}(t.mapValue);default:throw ba(13486,{value:t})}}function Ml(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function Ll(t){return!!t&&"integerValue"in t}function Fl(t){return!!t&&"arrayValue"in t}function zl(t){return!!t&&"nullValue"in t}function Ul(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vl(t){return!!t&&"mapValue"in t}function ql(t){var e,n;return(null===(e=((null===t||void 0===t||null===(n=t.mapValue)||void 0===n?void 0:n.fields)||{})[Sl])||void 0===e?void 0:e.stringValue)===_l}function Bl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Bl(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(t.arrayValue.values[n]);return e}return{...t}}function Hl(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kl}class Wl{constructor(t){this.value=t}static empty(){return new Wl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Vl(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(e)}setAll(t){let e=Ga.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Bl(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Vl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Il(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Vl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Xs(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new Wl(Bl(this.value))}}function Kl(t){const e=[];return Xs(t.fields,((t,n)=>{const r=new Ga([t]);if(Vl(n)){const t=Kl(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new ol(e)}class Gl{constructor(t,e,n,r,i,o,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Gl(t,0,as.min(),as.min(),as.min(),Wl.empty(),0)}static newFoundDocument(t,e,n,r){return new Gl(t,1,e,as.min(),n,r,0)}static newNoDocument(t,e){return new Gl(t,2,e,as.min(),as.min(),Wl.empty(),0)}static newUnknownDocument(t,e){return new Gl(t,3,e,as.min(),as.min(),Wl.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(as.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=as.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Gl&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ql{constructor(t,e){this.position=t,this.inclusive=e}}function $l(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Qa.comparator(Qa.fromName(a.referenceValue),n.key):jl(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Yl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Il(t.position[n],e.position[n]))return!1;return!0}class Jl{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Xl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Zl{}class tc extends Zl{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new lc(t,e,n):"array-contains"===e?new hc(t,n):"in"===e?new pc(t,n):"not-in"===e?new fc(t,n):"array-contains-any"===e?new mc(t,n):new tc(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new cc(t,n):new uc(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&void 0===e.nullValue&&this.matchesComparison(jl(e,this.value)):null!==e&&Tl(this.value)===Tl(e)&&this.matchesComparison(jl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ba(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ec extends Zl{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ec(t,e)}matches(t){return nc(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nc(t){return"and"===t.op}function rc(t){return ic(t)&&nc(t)}function ic(t){for(const e of t.filters)if(e instanceof ec)return!1;return!0}function oc(t){if(t instanceof tc)return t.field.canonicalString()+t.op.toString()+Nl(t.value);if(rc(t))return t.filters.map((t=>oc(t))).join(",");{const e=t.filters.map((t=>oc(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function ac(t,e){return t instanceof tc?function(t,e){return e instanceof tc&&t.op===e.op&&t.field.isEqual(e.field)&&Il(t.value,e.value)}(t,e):t instanceof ec?function(t,e){return e instanceof ec&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&ac(n,e.filters[r])),!0)}(t,e):void ba(19439)}function sc(t){return t instanceof tc?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(Nl(t.value))}(t):t instanceof ec?function(t){return t.op.toString()+" {"+t.getFilters().map(sc).join(" ,")+"}"}(t):"Filter"}class lc extends tc{constructor(t,e,n){super(t,e,n),this.key=Qa.fromName(n.referenceValue)}matches(t){const e=Qa.comparator(t.key,this.key);return this.matchesComparison(e)}}class cc extends tc{constructor(t,e){super(t,"in",e),this.keys=dc("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class uc extends tc{constructor(t,e){super(t,"not-in",e),this.keys=dc("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function dc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Qa.fromName(t.referenceValue)))}class hc extends tc{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Fl(e)&&Al(e.arrayValue,this.value)}}class pc extends tc{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Al(this.value.arrayValue,e)}}class fc extends tc{constructor(t,e){super(t,"not-in",e)}matches(t){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&void 0===e.nullValue&&!Al(this.value.arrayValue,e)}}class mc extends tc{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Fl(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Al(this.value.arrayValue,t)))}}class gc{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function yc(t){return new gc(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vc(t){const e=ka(t);if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>oc(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),ws(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Nl(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Nl(t))).join(",")),e.Te=t}return e.Te}function xc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ac(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yl(t.startAt,e.startAt)&&Yl(t.endAt,e.endAt)}function bc(t){return Qa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class wc{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Sc(t,e,n,r,i,o,a,s){return new wc(t,e,n,r,i,o,a,s)}function kc(t){return new wc(t)}function Ec(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function _c(t){return null!==t.collectionGroup}function Cc(t){const e=ka(t);if(null===e.Ie){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new rl(Ga.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new Jl(r,n))})),t.has(Ga.keyField().canonicalString())||e.Ie.push(new Jl(Ga.keyField(),n))}return e.Ie}function Tc(t){const e=ka(t);return e.Ee||(e.Ee=Ic(e,Cc(t))),e.Ee}function Ic(t,e){if("F"===t.limitType)return yc(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Jl(t.field,e)}));const n=t.endAt?new Ql(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ql(t.startAt.position,t.startAt.inclusive):null;return yc(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ac(t,e){const n=t.filters.concat([e]);return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jc(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pc(t,e){return xc(Tc(t),Tc(e))&&t.limitType===e.limitType}function Rc(t){return"".concat(vc(Tc(t)),"|lt:").concat(t.limitType)}function Nc(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>sc(t))).join(", "),"]")),ws(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Nl(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Nl(t))).join(",")),"Target(".concat(e,")")}(Tc(t)),"; limitType=").concat(t.limitType,")")}function Oc(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Qa.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Cc(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=$l(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,Cc(t),e))&&!(t.endAt&&!function(t,e,n){const r=$l(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,Cc(t),e))}(t,e)}function Dc(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mc(t){return(e,n)=>{let r=!1;for(const i of Cc(t)){const t=Lc(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Lc(t,e,n){const r=t.field.isKeyField()?Qa.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?jl(r,i):ba(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ba(19790,{direction:t.dir})}}class Fc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Xs(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Zs(this.inner)}size(){return this.innerSize}}const zc=new tl(Qa.comparator);function Uc(){return zc}const Vc=new tl(Qa.comparator);function qc(){let t=Vc;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.insert(i.key,i);return t}function Bc(t){let e=Vc;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Hc(){return Kc()}function Wc(){return Kc()}function Kc(){return new Fc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Gc=new tl(Qa.comparator),Qc=new rl(Qa.comparator);function $c(){let t=Qc;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.add(i);return t}const Yc=new rl(La);function Jc(){return Yc}function Xc(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ss(e)?"-0":e}}function Zc(t){return{integerValue:""+t}}function tu(t,e){return ks(e)?Zc(e):Xc(t,e)}class eu{constructor(){this._=void 0}}function nu(t,e,n){return t instanceof ou?function(t,e){const n={fields:{[pl]:{stringValue:hl},[ml]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&gl(e)&&(e=yl(e)),e&&(n.fields[fl]=e),{mapValue:n}}(n,e):t instanceof au?su(t,e):t instanceof lu?cu(t,e):function(t,e){const n=iu(t,e),r=du(n)+du(t.Ae);return Ll(n)&&Ll(t.Ae)?Zc(r):Xc(t.serializer,r)}(t,e)}function ru(t,e,n){return t instanceof au?su(t,e):t instanceof lu?cu(t,e):n}function iu(t,e){return t instanceof uu?function(t){return Ll(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class ou extends eu{}class au extends eu{constructor(t){super(),this.elements=t}}function su(t,e){const n=hu(e);for(const r of t.elements)n.some((t=>Il(t,r)))||n.push(r);return{arrayValue:{values:n}}}class lu extends eu{constructor(t){super(),this.elements=t}}function cu(t,e){let n=hu(e);for(const r of t.elements)n=n.filter((t=>!Il(t,r)));return{arrayValue:{values:n}}}class uu extends eu{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function du(t){return ul(t.integerValue||t.doubleValue)}function hu(t){return Fl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class pu{constructor(t,e){this.field=t,this.transform=e}}class fu{constructor(t,e){this.version=t,this.transformResults=e}}class mu{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new mu}static exists(t){return new mu(void 0,t)}static updateTime(t){return new mu(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class yu{}function vu(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Iu(t.key,mu.none()):new ku(t.key,t.data,mu.none());{const n=t.data,r=Wl.empty();let i=new rl(Ga.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new Eu(t.key,r,new ol(i.toArray()),mu.none())}}function xu(t,e,n){t instanceof ku?function(t,e,n){const r=t.value.clone(),i=Cu(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Eu?function(t,e,n){if(!gu(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Cu(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(_u(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function bu(t,e,n,r){return t instanceof ku?function(t,e,n,r){if(!gu(t.precondition,e))return n;const i=t.value.clone(),o=Tu(t.fieldTransforms,r,e);return i.setAll(o),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof Eu?function(t,e,n,r){if(!gu(t.precondition,e))return n;const i=Tu(t.fieldTransforms,r,e),o=e.data;return o.setAll(_u(t)),o.setAll(i),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return gu(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function wu(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=iu(r.transform,t||null);null!=i&&(null===n&&(n=Wl.empty()),n.set(r.field,i))}return n||null}function Su(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&qa(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof au&&e instanceof au||t instanceof lu&&e instanceof lu?qa(t.elements,e.elements,Il):t instanceof uu&&e instanceof uu?Il(t.Ae,e.Ae):t instanceof ou&&e instanceof ou}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ku extends yu{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Eu extends yu{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _u(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Cu(t,e,n){const r=new Map;Sa(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,ru(a,s,n[i]))}return r}function Tu(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,nu(t,o,e))}return r}class Iu extends yu{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Au extends yu{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ju{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&xu(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=bu(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=bu(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Wc();return this.mutations.forEach((r=>{const i=t.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=e.has(r.key)?null:a;const s=vu(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(as.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),$c())}isEqual(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,((t,e)=>Su(t,e)))&&qa(this.baseMutations,t.baseMutations,((t,e)=>Su(t,e)))}}class Pu{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Sa(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let r=Gc;const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Pu(t,e,n,r)}}class Ru{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Nu{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ou,Du;function Mu(t){switch(t){case Ea.OK:return ba(64938);case Ea.CANCELLED:case Ea.UNKNOWN:case Ea.DEADLINE_EXCEEDED:case Ea.RESOURCE_EXHAUSTED:case Ea.INTERNAL:case Ea.UNAVAILABLE:case Ea.UNAUTHENTICATED:return!1;case Ea.INVALID_ARGUMENT:case Ea.NOT_FOUND:case Ea.ALREADY_EXISTS:case Ea.PERMISSION_DENIED:case Ea.FAILED_PRECONDITION:case Ea.ABORTED:case Ea.OUT_OF_RANGE:case Ea.UNIMPLEMENTED:case Ea.DATA_LOSS:return!0;default:return ba(15467,{code:t})}}function Lu(t){if(void 0===t)return ya("GRPC error has no .code"),Ea.UNKNOWN;switch(t){case Ou.OK:return Ea.OK;case Ou.CANCELLED:return Ea.CANCELLED;case Ou.UNKNOWN:return Ea.UNKNOWN;case Ou.DEADLINE_EXCEEDED:return Ea.DEADLINE_EXCEEDED;case Ou.RESOURCE_EXHAUSTED:return Ea.RESOURCE_EXHAUSTED;case Ou.INTERNAL:return Ea.INTERNAL;case Ou.UNAVAILABLE:return Ea.UNAVAILABLE;case Ou.UNAUTHENTICATED:return Ea.UNAUTHENTICATED;case Ou.INVALID_ARGUMENT:return Ea.INVALID_ARGUMENT;case Ou.NOT_FOUND:return Ea.NOT_FOUND;case Ou.ALREADY_EXISTS:return Ea.ALREADY_EXISTS;case Ou.PERMISSION_DENIED:return Ea.PERMISSION_DENIED;case Ou.FAILED_PRECONDITION:return Ea.FAILED_PRECONDITION;case Ou.ABORTED:return Ea.ABORTED;case Ou.OUT_OF_RANGE:return Ea.OUT_OF_RANGE;case Ou.UNIMPLEMENTED:return Ea.UNIMPLEMENTED;case Ou.DATA_LOSS:return Ea.DATA_LOSS;default:return ba(39323,{code:t})}}(Du=Ou||(Ou={}))[Du.OK=0]="OK",Du[Du.CANCELLED=1]="CANCELLED",Du[Du.UNKNOWN=2]="UNKNOWN",Du[Du.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Du[Du.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Du[Du.NOT_FOUND=5]="NOT_FOUND",Du[Du.ALREADY_EXISTS=6]="ALREADY_EXISTS",Du[Du.PERMISSION_DENIED=7]="PERMISSION_DENIED",Du[Du.UNAUTHENTICATED=16]="UNAUTHENTICATED",Du[Du.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Du[Du.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Du[Du.ABORTED=10]="ABORTED",Du[Du.OUT_OF_RANGE=11]="OUT_OF_RANGE",Du[Du.UNIMPLEMENTED=12]="UNIMPLEMENTED",Du[Du.INTERNAL=13]="INTERNAL",Du[Du.UNAVAILABLE=14]="UNAVAILABLE",Du[Du.DATA_LOSS=15]="DATA_LOSS";let Fu=null;function zu(){return new TextEncoder}const Uu=new Xo([4294967295,4294967295],0);function Vu(t){const e=zu().encode(t),n=new Zo;return n.update(e),new Uint8Array(n.digest())}function qu(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,o],0)]}class Bu{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Hu("Invalid padding: ".concat(e));if(n<0)throw new Hu("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new Hu("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new Hu("Invalid padding when bitmap length is 0: ".concat(e));this.ge=8*t.length-e,this.pe=Xo.fromNumber(this.ge)}ye(t,e,n){let r=t.add(e.multiply(Xo.fromNumber(n)));return 1===r.compare(Uu)&&(r=new Xo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.ge)return!1;const e=Vu(t),[n,r]=qu(e);for(let i=0;i<this.hashCount;i++){const t=this.ye(n,r,i);if(!this.we(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new Bu(i,r,e);return n.forEach((t=>o.insert(t))),o}insert(t){if(0===this.ge)return;const e=Vu(t),[n,r]=qu(e);for(let i=0;i<this.hashCount;i++){const t=this.ye(n,r,i);this.be(t)}}be(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wu{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Ku.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Wu(as.min(),r,new tl(La),Uc(),$c())}}class Ku{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Ku(n,e,$c(),$c(),$c())}}class Gu{constructor(t,e,n,r){this.Se=t,this.removedTargetIds=e,this.key=n,this.De=r}}class Qu{constructor(t,e){this.targetId=t,this.Ce=e}}class $u{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Yu{constructor(){this.ve=0,this.Fe=Zu(),this.Me=sl.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=$c(),e=$c(),n=$c();return this.Fe.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ba(38017,{changeType:i})}})),new Ku(this.Me,this.xe,t,e,n)}Ke(){this.Oe=!1,this.Fe=Zu()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Sa(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ju{constructor(t){this.Ge=t,this.ze=new Map,this.je=Uc(),this.He=Xu(),this.Je=Xu(),this.Ze=new tl(La)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(t.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.Qe(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:ba(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((t,n)=>{this.rt(n)&&e(n)}))}st(t){const e=t.targetId,n=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(bc(o))if(0===n){const t=new Qa(o.path);this.et(e,t,Gl.newNoDocument(t,as.min()))}else Sa(1===n,20013,{expectedCount:n});else{const r=this._t(e);if(r!==n){var i;const n=this.ut(t),o=n?this.ct(n,t,r):1;if(0!==o){this.it(e);const t=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,t)}null===(i=Fu)||void 0===i||i.lt(function(t,e,n,r,i,o,a,s,l,c){const u={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(a=null===d||void 0===d||null===(s=d.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:t=>{var e;return null!==(e=null===r||void 0===r?void 0:r.mightContain(t))&&void 0!==e&&e}}),u}(r,t.Ce,this.Ge.ht(),n,o))}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let o,a;try{o=dl(n).toUint8Array()}catch(t){if(t instanceof al)return va("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{a=new Bu(o,r,i)}catch(t){return va(t instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===a.ge?null:a}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.mightContain(o)||(this.et(e,n,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((n,r)=>{const i=this.ot(r);if(i){if(n.current&&bc(i.target)){const e=new Qa(i.target.path);this.It(e).has(r)||this.Et(r,e)||this.et(r,e,Gl.newNoDocument(e,t))}n.Be&&(e.set(r,n.ke()),n.Ke())}}));let n=$c();this.Je.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.ot(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.je.forEach(((e,n)=>n.setReadTime(t)));const r=new Wu(t,e,this.Ze,this.je,n);return this.je=Uc(),this.He=Xu(),this.Je=Xu(),this.Ze=new tl(La),r}Ye(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,n),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.qe(e,1):r.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new Yu,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new rl(La),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new rl(La),this.He=this.He.insert(t,e)),e}rt(t){const e=null!==this.ot(t);return e||ga("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Yu),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Xu(){return new tl(Qa.comparator)}function Zu(){return new tl(Qa.comparator)}const td={asc:"ASCENDING",desc:"DESCENDING"},ed={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nd={and:"AND",or:"OR"};class rd{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function id(t,e){return t.useProto3Json||ws(e)?e:{value:e}}function od(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function ad(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sd(t,e){return od(t,e.toTimestamp())}function ld(t){return Sa(!!t,49232),as.fromTimestamp(function(t){const e=cl(t);return new os(e.seconds,e.nanos)}(t))}function cd(t,e){return ud(t,e).canonicalString()}function ud(t,e){const n=function(t){return new Wa(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function dd(t){const e=Wa.fromString(t);return Sa(Pd(e),10190,{key:e.toString()}),e}function hd(t,e){return cd(t.databaseId,e.path)}function pd(t,e){const n=dd(e);if(n.get(1)!==t.databaseId.projectId)throw new _a(Ea.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _a(Ea.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Qa(yd(n))}function fd(t,e){return cd(t.databaseId,e)}function md(t){const e=dd(t);return 4===e.length?Wa.emptyPath():yd(e)}function gd(t){return new Wa(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yd(t){return Sa(t.length>4&&"documents"===t.get(4),29091,{key:t.toString()}),t.popFirst(5)}function vd(t,e,n){return{name:hd(t,e),fields:n.value.mapValue.fields}}function xd(t,e){let n;if(e instanceof ku)n={update:vd(t,e.key,e.value)};else if(e instanceof Iu)n={delete:hd(t,e.key)};else if(e instanceof Eu)n={update:vd(t,e.key,e.data),updateMask:jd(e.fieldMask)};else{if(!(e instanceof Au))return ba(16599,{dt:e.type});n={verify:hd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof ou)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof au)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uu)return{fieldPath:e.field.canonicalString(),increment:n.Ae};throw ba(20930,{transform:e.transform})}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:sd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ba(27497)}(t,e.precondition)),n}function bd(t,e){return{documents:[fd(t,e.path)]}}function wd(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fd(t,i);const o=function(t){if(0!==t.length)return Ad(ec.create(t,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Td(t.field),direction:Ed(t.dir)}}(t)))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=id(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ft:n,parent:i}}function Sd(t){let e=md(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Sa(1===r,65062);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=kd(t);return e instanceof ec&&rc(e)?e.getFilters():[e]}(n.where));let a=[];n.orderBy&&(a=function(t){return t.map((t=>function(t){return new Jl(Id(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let s=null;n.limit&&(s=function(t){let e;return e="object"==typeof t?t.value:t,ws(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Ql(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Ql(n,e)}(n.endAt)),Sc(e,i,a,o,s,"F",l,c)}function kd(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Id(t.unaryFilter.field);return tc.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Id(t.unaryFilter.field);return tc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Id(t.unaryFilter.field);return tc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Id(t.unaryFilter.field);return tc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ba(61313);default:return ba(60726)}}(t):void 0!==t.fieldFilter?function(t){return tc.create(Id(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ba(58110);default:return ba(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return ec.create(t.compositeFilter.filters.map((t=>kd(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ba(1026)}}(t.compositeFilter.op))}(t):ba(30097,{filter:t})}function Ed(t){return td[t]}function _d(t){return ed[t]}function Cd(t){return nd[t]}function Td(t){return{fieldPath:t.canonicalString()}}function Id(t){return Ga.fromServerFormat(t.fieldPath)}function Ad(t){return t instanceof tc?function(t){if("=="===t.op){if(Ul(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NAN"}};if(zl(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ul(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NOT_NAN"}};if(zl(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Td(t.field),op:_d(t.op),value:t.value}}}(t):t instanceof ec?function(t){const e=t.getFilters().map((t=>Ad(t)));return 1===e.length?e[0]:{compositeFilter:{op:Cd(t.op),filters:e}}}(t):ba(54877,{filter:t})}function jd(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Pd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Rd(t){return!!t&&"function"==typeof t._toProto&&"ProtoValue"===t._protoValueType}class Nd{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:as.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:as.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sl.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(t){return new Nd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Od{constructor(t){this.yt=t}}function Dd(t){const e=Sd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jc(e,e.limit,"L"):e}class Md{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(ul(t.integerValue));else if("doubleValue"in t){const n=ul(t.doubleValue);isNaN(n)?this.Ft(e,13):(this.Ft(e,15),Ss(n)?e.Mt(0):e.Mt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ft(e,20),"string"==typeof n&&(n=cl(n)),e.xt("".concat(n.seconds||"")),e.Mt(n.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(dl(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Ft(e,45),e.Mt(n.latitude||0),e.Mt(n.longitude||0)}else"mapValue"in t?Hl(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):ql(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):ba(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const n=t.fields||{};this.Ft(e,55);for(const r of Object.keys(n))this.Ot(r,e),this.Ct(n[r],e)}kt(t,e){var n;const r=t.fields||{};this.Ft(e,53);const i=Cl,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(e,15),e.Mt(ul(o)),this.Ot(i,e),this.Ct(r[i],e)}qt(t,e){const n=t.values||[];this.Ft(e,50);for(const r of n)this.Ct(r,e)}Lt(t,e){this.Ft(e,37),Qa.fromName(t).path.forEach((t=>{this.Ft(e,60),this.$t(t,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Md.Wt=new Md;class Ld{constructor(){this.Sn=new Fd}addToCollectionParentIndex(t,e){return this.Sn.add(e),gs.resolve()}getCollectionParents(t,e){return gs.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return gs.resolve()}deleteFieldIndex(t,e){return gs.resolve()}deleteAllFieldIndexes(t){return gs.resolve()}createTargetIndexes(t,e){return gs.resolve()}getDocumentsMatchingTarget(t,e){return gs.resolve(null)}getIndexType(t,e){return gs.resolve(0)}getFieldIndexes(t,e){return gs.resolve([])}getNextCollectionGroupToUpdate(t){return gs.resolve(null)}getMinOffset(t,e){return gs.resolve(ds.min())}getMinOffsetFromCollectionGroup(t,e){return gs.resolve(ds.min())}updateCollectionGroup(t,e,n){return gs.resolve()}updateIndexEntries(t,e){return gs.resolve()}}class Fd{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new rl(Wa.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new rl(Wa.comparator)).toArray()}}new Uint8Array(0);const zd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ud=41943040;class Vd{static withCacheSize(t){return new Vd(t,Vd.DEFAULT_COLLECTION_PERCENTILE,Vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}Vd.DEFAULT_COLLECTION_PERCENTILE=10,Vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vd.DEFAULT=new Vd(Ud,Vd.DEFAULT_COLLECTION_PERCENTILE,Vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vd.DISABLED=new Vd(-1,0,0);class qd{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new qd(0)}static ar(){return new qd(-1)}}const Bd="LruGarbageCollector",Hd=1048576;function Wd(t,e){let[n,r]=t,[i,o]=e;const a=La(n,i);return 0===a?La(r,o):a}class Kd{constructor(t){this.Pr=t,this.buffer=new rl(Wd),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Wd(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Gd{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(t){ga(Bd,"Garbage collection scheduled in ".concat(t,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vs(t)?ga(Bd,"Ignoring IndexedDB error during garbage collection: ",t):await ms(t)}await this.Ar(3e5)}))}}class Qd{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return gs.resolve(xs.ce);const n=new Kd(e);return this.Vr.forEachTarget(t,(t=>n.Er(t.sequenceNumber))).next((()=>this.Vr.mr(t,(t=>n.Er(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.Vr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ga("LruGarbageCollector","Garbage collection skipped; disabled"),gs.resolve(zd)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ga("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),zd):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(ga("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(e)),r=this.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(t,n,e)))).next((e=>(i=e,s=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(l=Date.now(),ma()<=Ji.DEBUG&&ga("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(t," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),gs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t}))))}}function $d(t,e){return new Qd(t,e)}class Yd{constructor(){this.changes=new Fc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Gl.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?gs.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Jd{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Xd{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&bu(n.mutation,t,ol.empty(),os.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,$c()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$c();const r=Hc();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=qc();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=Hc();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,$c())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=Uc();const o=Kc(),a=Kc();return e.forEach(((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof Eu)?i=i.insert(e.key,e):void 0!==a?(o.set(e.key,a.mutation.getFieldMask()),bu(a.mutation,e,a.mutation.getFieldMask(),os.now())):o.set(e.key,ol.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return a.set(t,new Jd(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(t,e){const n=Kc();let r=new tl(((t,e)=>t-e)),i=$c();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let a=n.get(t)||ol.empty();a=i.applyToLocalView(o,a),n.set(t,a);const s=(r.get(i.batchId)||$c()).add(t);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Wc();l.forEach((t=>{if(!i.has(t)){const r=vu(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,s,c))}return gs.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return Qa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):_c(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):gs.resolve(Hc());let a=ss,s=i;return o.next((e=>gs.forEach(e,((e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(e)?gs.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{s=s.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,s,e,$c()))).next((t=>({batchId:a,changes:Bc(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Qa(e)).next((t=>{let e=qc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let o=qc();return this.indexManager.getCollectionParents(t,i).next((a=>gs.forEach(a,(a=>{const s=function(t,e){return new wc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,s,n,r).next((t=>{t.forEach(((t,e)=>{o=o.insert(t,e)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Gl.newInvalidDocument(r)))}));let n=qc();return t.forEach(((t,r)=>{const o=i.get(t);void 0!==o&&bu(o.mutation,r,ol.empty(),os.now()),Oc(e,r)&&(n=n.insert(t,r))})),n}))}}class Zd{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return gs.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:ld(t.createTime)}}(e)),gs.resolve()}getNamedQuery(t,e){return gs.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,function(t){return{name:t.name,query:Dd(t.bundledQuery),readTime:ld(t.readTime)}}(e)),gs.resolve()}}class th{constructor(){this.overlays=new tl(Qa.comparator),this.Lr=new Map}getOverlay(t,e){return gs.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Hc();return gs.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.bt(t,e,r)})),gs.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Lr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.Lr.delete(n)),gs.resolve()}getOverlaysForCollection(t,e,n){const r=Hc(),i=e.length+1,o=new Qa(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const t=a.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return gs.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new tl(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=Hc(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=Hc(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((t,e)=>a.set(t,e))),!(a.size()>=r)););return gs.resolve(a)}bt(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Ru(e,n));let i=this.Lr.get(e);void 0===i&&(i=$c(),this.Lr.set(e,i)),this.Lr.set(e,i.add(n.key))}}class eh{constructor(){this.sessionToken=sl.EMPTY_BYTE_STRING}getSessionToken(t){return gs.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,gs.resolve()}}class nh{constructor(){this.kr=new rl(rh.Kr),this.qr=new rl(rh.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const n=new rh(t,e);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Wr(new rh(t,e))}Qr(t,e){t.forEach((t=>this.removeReference(t,e)))}Gr(t){const e=new Qa(new Wa([])),n=new rh(e,t),r=new rh(e,t+1),i=[];return this.qr.forEachInRange([n,r],(t=>{this.Wr(t),i.push(t.key)})),i}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Qa(new Wa([])),n=new rh(e,t),r=new rh(e,t+1);let i=$c();return this.qr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new rh(t,0),n=this.kr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class rh{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Qa.comparator(t.key,e.key)||La(t.Hr,e.Hr)}static Ur(t,e){return La(t.Hr,e.Hr)||Qa.comparator(t.key,e.key)}}class ih{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new rl(rh.Kr)}checkEmpty(t){return gs.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ju(i,e,n,r);this.mutationQueue.push(o);for(const a of r)this.Jr=this.Jr.add(new rh(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return gs.resolve(o)}lookupMutationBatch(t,e){return gs.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.Xr(n),i=r<0?0:r;return gs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return gs.resolve(0===this.mutationQueue.length?bs:this.Yn-1)}getAllMutationBatches(t){return gs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new rh(e,0),r=new rh(e,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([n,r],(t=>{const e=this.Zr(t.Hr);i.push(e)})),gs.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new rl(La);return e.forEach((t=>{const e=new rh(t,0),r=new rh(t,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([e,r],(t=>{n=n.add(t.Hr)}))})),gs.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;Qa.isDocumentKey(i)||(i=i.child(""));const o=new rh(new Qa(i),0);let a=new rl(La);return this.Jr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.Hr)),!0)}),o),gs.resolve(this.Yr(a))}Yr(t){const e=[];return t.forEach((t=>{const n=this.Zr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Sa(0===this.ei(e.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return gs.forEach(e.mutations,(r=>{const i=new rh(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Jr=n}))}nr(t){}containsKey(t,e){const n=new rh(e,0),r=this.Jr.firstAfterOrEqual(n);return gs.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,gs.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class oh{constructor(t){this.ti=t,this.docs=new tl(Qa.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.ti(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return gs.resolve(n?n.document.mutableCopy():Gl.newInvalidDocument(e))}getEntries(t,e){let n=Uc();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Gl.newInvalidDocument(t))})),gs.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=Uc();const o=e.path,a=new Qa(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:t,value:{document:a}}=s.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||hs(us(a),n)<=0||(r.has(a.key)||Oc(e,a))&&(i=i.insert(a.key,a.mutableCopy()))}return gs.resolve(i)}getAllFromCollectionGroup(t,e,n,r){ba(9500)}ni(t,e){return gs.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new ah(this)}getSize(t){return gs.resolve(this.size)}}class ah extends Yd{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(n)})),gs.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class sh{constructor(t){this.persistence=t,this.ri=new Fc((t=>vc(t)),xc),this.lastRemoteSnapshotVersion=as.min(),this.highestTargetId=0,this.ii=0,this.si=new nh,this.targetCount=0,this.oi=qd._r()}forEachTarget(t,e){return this.ri.forEach(((t,n)=>e(n))),gs.resolve()}getLastRemoteSnapshotVersion(t){return gs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gs.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),gs.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ii&&(this.ii=e),gs.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new qd(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,gs.resolve()}updateTargetData(t,e){return this.lr(e),gs.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,gs.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.ri.forEach(((o,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),gs.waitFor(i).next((()=>r))}getTargetCount(t){return gs.resolve(this.targetCount)}getTargetData(t,e){const n=this.ri.get(e)||null;return gs.resolve(n)}addMatchingKeys(t,e,n){return this.si.$r(e,n),gs.resolve()}removeMatchingKeys(t,e,n){this.si.Qr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),gs.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),gs.resolve()}getMatchingKeysForTargetId(t,e){const n=this.si.jr(e);return gs.resolve(n)}containsKey(t,e){return gs.resolve(this.si.containsKey(e))}}class lh{constructor(t,e){this._i={},this.overlays={},this.ai=new xs(0),this.ui=!1,this.ui=!0,this.ci=new eh,this.referenceDelegate=t(this),this.li=new sh(this),this.indexManager=new Ld,this.remoteDocumentCache=function(t){return new oh(t)}((t=>this.referenceDelegate.hi(t))),this.serializer=new Od(e),this.Pi=new Zd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new th,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this._i[t.toKey()];return n||(n=new ih(e,this.referenceDelegate),this._i[t.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,n){ga("MemoryPersistence","Starting transaction:",t);const r=new ch(this.ai.next());return this.referenceDelegate.Ti(),n(r).next((t=>this.referenceDelegate.Ii(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ei(t,e){return gs.or(Object.values(this._i).map((n=>()=>n.containsKey(t,e))))}}class ch extends fs{constructor(t){super(),this.currentSequenceNumber=t}}class uh{constructor(t){this.persistence=t,this.Ri=new nh,this.Ai=null}static Vi(t){return new uh(t)}get di(){if(this.Ai)return this.Ai;throw ba(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.di.delete(n.toString()),gs.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.di.add(n.toString()),gs.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),gs.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((t=>this.di.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.di.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gs.forEach(this.di,(n=>{const r=Qa.fromPath(n);return this.mi(t,r).next((t=>{t||e.removeEntry(r,as.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((t=>{t?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return gs.or([()=>gs.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class dh{constructor(t,e){this.persistence=t,this.fi=new Fc((t=>_s(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=$d(this,e)}static Vi(t,e){return new dh(t,e)}Ti(){}Ii(t){return gs.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}pr(t){let e=0;return this.mr(t,(t=>{e++})).next((()=>e))}mr(t,e){return gs.forEach(this.fi,((n,r)=>this.wr(t,n,r).next((t=>t?gs.resolve():e(r)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(t,(r=>this.wr(t,r,e).next((t=>{t||(n++,i.removeEntry(r,as.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),gs.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.fi.set(n,t.currentSequenceNumber),gs.resolve()}removeReference(t,e,n){return this.fi.set(n,t.currentSequenceNumber),gs.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),gs.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Dl(t.data.value)),e}wr(t,e,n){return gs.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.fi.get(e);return gs.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class hh{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ts=n,this.Is=r}static Es(t,e){let n=$c(),r=$c();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hh(t,e.fromCache,n,r)}}class ph{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fh{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=Ri()?8:ys(ji())>0?6:4}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.gs(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.ps(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new ph;return this.ys(t,e,n).next((r=>{if(i.result=r,this.As)return this.ws(t,e,n,r.size)}))})).next((()=>i.result))}ws(t,e,n,r){return n.documentReadCount<this.Vs?(ma()<=Ji.DEBUG&&ga("QueryEngine","SDK will not create cache indexes for query:",Nc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),gs.resolve()):(ma()<=Ji.DEBUG&&ga("QueryEngine","Query:",Nc(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(ma()<=Ji.DEBUG&&ga("QueryEngine","The SDK decides to create cache indexes for query:",Nc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Tc(e))):gs.resolve())}gs(t,e){if(Ec(e))return gs.resolve(null);let n=Tc(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=jc(e,null,"F"),n=Tc(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=$c(...r);return this.fs.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.bs(e,r);return this.Ss(e,o,i,n.readTime)?this.gs(t,jc(e,null,"F")):this.Ds(t,o,e,n)}))))})))))}ps(t,e,n,r){return Ec(e)||r.isEqual(as.min())?gs.resolve(null):this.fs.getDocuments(t,n).next((i=>{const o=this.bs(e,i);return this.Ss(e,o,n,r)?gs.resolve(null):(ma()<=Ji.DEBUG&&ga("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nc(e)),this.Ds(t,o,e,cs(r,ss)).next((t=>t)))}))}bs(t,e){let n=new rl(Mc(t));return e.forEach(((e,r)=>{Oc(t,r)&&(n=n.add(r))})),n}Ss(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(t,e,n){return ma()<=Ji.DEBUG&&ga("QueryEngine","Using full collection scan to execute query:",Nc(e)),this.fs.getDocumentsMatchingQuery(t,e,ds.min(),n)}Ds(t,e,n,r){return this.fs.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}const mh="LocalStore",gh=3e8;class yh{constructor(t,e,n,r){this.persistence=t,this.Cs=e,this.serializer=r,this.vs=new tl(La),this.Fs=new Fc((t=>vc(t)),xc),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(n)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xd(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function vh(t,e,n,r){return new yh(t,e,n,r)}async function xh(t,e){const n=ka(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.Os(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],o=[];let a=$c();for(const t of r){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next((t=>({Ns:t,removedBatchIds:i,addedBatchIds:o})))}))}))}function bh(t){const e=ka(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function wh(t,e,n){let r=$c(),i=$c();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=Uc();return n.forEach(((n,o)=>{const a=t.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(as.min())?(e.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o),r=r.insert(n,o)):ga(mh,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Bs:r,Ls:i}}))}function Sh(t,e){const n=ka(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=bs),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function kh(t,e){const n=ka(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.li.getTargetData(t,e).next((i=>i?(r=i,gs.resolve(r)):n.li.allocateTargetId(t).next((i=>(r=new Nd(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.li.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.vs.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(t.targetId,t),n.Fs.set(e,t.targetId)),t}))}async function Eh(t,e,n){const r=ka(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!vs(t))throw t;ga(mh,"Failed to update sequence numbers for target ".concat(e,": ").concat(t))}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function _h(t,e,n){const r=ka(t);let i=as.min(),o=$c();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=ka(t),i=r.Fs.get(n);return void 0!==i?gs.resolve(r.vs.get(i)):r.li.getTargetData(e,n)}(r,t,Tc(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r.Cs.getDocumentsMatchingQuery(t,e,n?i:as.min(),n?o:$c()))).next((t=>(Ch(r,Dc(e),t),{documents:t,ks:o})))))}function Ch(t,e,n){let r=t.Ms.get(e)||as.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.Ms.set(e,r)}class Th{constructor(){this.activeTargetIds=Jc()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ih{constructor(){this.vo=new Th,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,n){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Th,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ah{Mo(t){}shutdown(){}}const jh="ConnectivityMonitor";class Ph{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ga(jh,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ga(jh,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rh=null;function Nh(){return null===Rh?Rh=268435456+Math.round(2147483648*Math.random()):Rh++,"0x"+Rh.toString(16)}const Oh="RestConnection",Dh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Mh{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.$o=this.databaseId.database===bl?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(t,e,n,r,i){const o=Nh(),a=this.Qo(t,e.toUriEncodedString());ga(Oh,"Sending RPC '".concat(t,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(s,r,i);const{host:l}=new URL(a),c=Ei(l);return this.zo(t,a,s,n,c).then((e=>(ga(Oh,"Received RPC '".concat(t,"' ").concat(o,": "),e),e)),(e=>{throw va(Oh,"RPC '".concat(t,"' ").concat(o," failed with error: "),e,"url: ",a,"request:",n),e}))}jo(t,e,n,r,i,o){return this.Wo(t,e,n,r,i)}Go(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+pa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}Qo(t,e){const n=Dh[t];let r="".concat(this.qo,"/v1/").concat(e,":").concat(n);return this.databaseInfo.apiKey&&(r="".concat(r,"?key=").concat(encodeURIComponent(this.databaseInfo.apiKey))),r}terminate(){}}class Lh{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Fh="WebChannelConnection",zh=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};class Uh extends Mh{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Uh.c_){const t=la();zh(t,sa.STAT_EVENT,(t=>{t.stat===aa.PROXY?ga(Fh,"STAT_EVENT: detected buffering proxy"):t.stat===aa.NOPROXY&&ga(Fh,"STAT_EVENT: detected no buffering proxy")})),Uh.c_=!0}}zo(t,e,n,r,i){const o=Nh();return new Promise(((i,a)=>{const s=new na;s.setWithCredentials(!0),s.listenOnce(ia.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case oa.NO_ERROR:const n=s.getResponseJson();ga(Fh,"XHR for RPC '".concat(t,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case oa.TIMEOUT:ga(Fh,"RPC '".concat(t,"' ").concat(o," timed out")),a(new _a(Ea.DEADLINE_EXCEEDED,"Request time out"));break;case oa.HTTP_ERROR:const r=s.getStatus();if(ga(Fh,"RPC '".concat(t,"' ").concat(o," failed with status:"),r,"response text:",s.getResponseText()),r>0){var e;let t=s.getResponseJson();Array.isArray(t)&&(t=t[0]);const n=null===(e=t)||void 0===e?void 0:e.error;if(n&&n.status&&n.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ea).indexOf(e)>=0?e:Ea.UNKNOWN}(n.status);a(new _a(t,n.message))}else a(new _a(Ea.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new _a(Ea.UNAVAILABLE,"Connection failed."));break;default:ba(9055,{l_:t,streamId:o,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{ga(Fh,"RPC '".concat(t,"' ").concat(o," completed."))}}));const l=JSON.stringify(r);ga(Fh,"RPC '".concat(t,"' ").concat(o," sending request:"),r),s.send(e,"POST",l,n,15)}))}T_(t,e,n){const r=Nh(),i=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(a.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const l=i.join("");ga(Fh,"Creating RPC '".concat(t,"' stream ").concat(r,": ").concat(l),a);const c=o.createWebChannel(l,a);this.I_(c);let u=!1,d=!1;const h=new Lh({Ho:e=>{d?ga(Fh,"Not sending because RPC '".concat(t,"' stream ").concat(r," is closed:"),e):(u||(ga(Fh,"Opening RPC '".concat(t,"' stream ").concat(r," transport.")),c.open(),u=!0),ga(Fh,"RPC '".concat(t,"' stream ").concat(r," sending:"),e),c.send(e))},Jo:()=>c.close()});return zh(c,ra.EventType.OPEN,(()=>{d||(ga(Fh,"RPC '".concat(t,"' stream ").concat(r," transport opened.")),h.i_())})),zh(c,ra.EventType.CLOSE,(()=>{d||(d=!0,ga(Fh,"RPC '".concat(t,"' stream ").concat(r," transport closed")),h.o_(),this.E_(c))})),zh(c,ra.EventType.ERROR,(e=>{d||(d=!0,va(Fh,"RPC '".concat(t,"' stream ").concat(r," transport errored. Name:"),e.name,"Message:",e.message),h.o_(new _a(Ea.UNAVAILABLE,"The operation could not be completed")))})),zh(c,ra.EventType.MESSAGE,(e=>{if(!d){var n;const i=e.data[0];Sa(!!i,16349);const o=i,a=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){ga(Fh,"RPC '".concat(t,"' stream ").concat(r," received error:"),a);const e=a.status;let n=function(t){const e=Ou[t];if(void 0!==e)return Lu(e)}(e),i=a.message;void 0===n&&(n=Ea.INTERNAL,i="Unknown error status: "+e+" with message "+a.message),d=!0,h.o_(new _a(n,i)),c.close()}else ga(Fh,"RPC '".concat(t,"' stream ").concat(r," received:"),i),h.__(i)}})),Uh.u_(),setTimeout((()=>{h.s_()}),0),h}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,n){super.Go(t,e,n),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ca()}}function Vh(t){return new Uh(t)}function qh(){return"undefined"!=typeof document?document:null}function Bh(t){return new rd(t,!0)}Uh.c_=!1;class Hh{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ci=t,this.timerId=e,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-n);r>0&&ga("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.d_," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Wh="PersistentStream";class Kh{constructor(t,e,n,r,i,o,a,s){this.Ci=t,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hh(t,e)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==t?this.M_.reset():e&&e.code===Ea.RESOURCE_EXHAUSTED?(ya(e.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Ea.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,r]=t;this.D_===e&&this.G_(n,r)}),(e=>{t((()=>{const t=new _a(Ea.UNKNOWN,"Fetching auth token failed: "+e.message);return this.z_(t)}))}))}G_(t,e){const n=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((t=>{n((()=>this.z_(t)))})),this.stream.onMessage((t=>{n((()=>1==++this.F_?this.H_(t):this.onNext(t)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ga(Wh,"close with error: ".concat(t)),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ga(Wh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gh extends Kh{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ba(39313,{state:t})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(Sa(void 0===e||"string"==typeof e,58123),sl.fromBase64String(e||"")):(Sa(void 0===e||e instanceof Buffer||e instanceof Uint8Array,16193),sl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){const e=void 0===t.code?Ea.UNKNOWN:Lu(t.code);return new _a(e,t.message||"")}(a);n=new $u(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pd(t,r.document.name),o=ld(r.document.updateTime),a=r.document.createTime?ld(r.document.createTime):as.min(),s=new Wl({mapValue:{fields:r.document.fields}}),l=Gl.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Gu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pd(t,r.document),o=r.readTime?ld(r.readTime):as.min(),a=Gl.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Gu([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pd(t,r.document),o=r.removedTargetIds||[];n=new Gu([],o,i,null)}else{if(!("filter"in e))return ba(11601,{Vt:e});{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,o=new Nu(r,i),a=t.targetId;n=new Qu(a,o)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return as.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?as.min():e.readTime?ld(e.readTime):as.min()}(t);return this.listener.J_(e,n)}Z_(t){const e={};e.database=gd(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=bc(r)?{documents:bd(t,r)}:{query:wd(t,r).ft},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=ad(t,e.resumeToken);const r=id(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(as.min())>0){n.readTime=od(t,e.snapshotVersion.toTimestamp());const r=id(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ba(28987,{purpose:t})}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.K_(e)}X_(t){const e={};e.database=gd(this.serializer),e.removeTarget=t,this.K_(e)}}class Qh extends Kh{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Sa(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Sa(!t.writeResults||0===t.writeResults.length,55816),this.listener.ta()}onNext(t){Sa(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=function(t,e){return t&&t.length>0?(Sa(void 0!==e,14353),t.map((t=>function(t,e){let n=t.updateTime?ld(t.updateTime):ld(e);return n.isEqual(as.min())&&(n=ld(e)),new fu(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=ld(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=gd(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>xd(this.serializer,t)))};this.K_(e)}}class $h{}class Yh extends $h{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new _a(Ea.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Wo(t,ud(e,n),r,o,a)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Ea.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new _a(Ea.UNKNOWN,t.toString())}))}jo(t,e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.jo(t,ud(e,n),r,a,s,i)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Ea.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new _a(Ea.UNKNOWN,t.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Jh(t,e,n,r){return new Yh(t,e,n,r)}class Xh{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,"Online"===t&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ya(e),this.aa=!1):ga("OnlineStateTracker",e)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Zh="RemoteStore";class tp{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((t=>{n.enqueueAndForget((async()=>{cp(this)&&(ga(Zh,"Restarting streams for network reachability change."),await async function(t){const e=ka(t);e.Ea.add(4),await np(e),e.Va.set("Unknown"),e.Ea.delete(4),await ep(e)}(this))}))})),this.Va=new Xh(n,r)}}async function ep(t){if(cp(t))for(const e of t.Ra)await e(!0)}async function np(t){for(const e of t.Ra)await e(!1)}function rp(t,e){const n=ka(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lp(n)?sp(n):Ip(n).O_()&&op(n,e))}function ip(t,e){const n=ka(t),r=Ip(n);n.Ia.delete(e),r.O_()&&ap(n,e),0===n.Ia.size&&(r.O_()?r.L_():cp(n)&&n.Va.set("Unknown"))}function op(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(as.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ip(t).Z_(e)}function ap(t,e){t.da.$e(e),Ip(t).X_(e)}function sp(t){t.da=new Ju({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ip(t).start(),t.Va.ua()}function lp(t){return cp(t)&&!Ip(t).x_()&&t.Ia.size>0}function cp(t){return 0===ka(t).Ea.size}function up(t){t.da=void 0}async function dp(t){t.Va.set("Online")}async function hp(t){t.Ia.forEach(((e,n)=>{op(t,e)}))}async function pp(t,e){up(t),lp(t)?(t.Va.ha(e),sp(t)):t.Va.set("Unknown")}async function fp(t,e,n){if(t.Va.set("Online"),e instanceof $u&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.Ia.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.Ia.delete(r),t.da.removeTarget(r))}(t,e)}catch(n){ga(Zh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await mp(t,n)}else if(e instanceof Gu?t.da.Xe(e):e instanceof Qu?t.da.st(e):t.da.tt(e),!n.isEqual(as.min()))try{const e=await bh(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.da.Tt(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Ia.get(r);i&&t.Ia.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.Ia.get(e);if(!r)return;t.Ia.set(e,r.withResumeToken(sl.EMPTY_BYTE_STRING,r.snapshotVersion)),ap(t,e);const i=new Nd(r.target,e,n,r.sequenceNumber);op(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){ga(Zh,"Failed to raise snapshot:",e),await mp(t,e)}}async function mp(t,e,n){if(!vs(e))throw e;t.Ea.add(1),await np(t),t.Va.set("Offline"),n||(n=()=>bh(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ga(Zh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ep(t)}))}function gp(t,e){return e().catch((n=>mp(t,n,e)))}async function yp(t){const e=ka(t),n=Ap(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bs;for(;vp(e);)try{const t=await Sh(e.localStore,r);if(null===t){0===e.Ta.length&&n.L_();break}r=t.batchId,xp(e,t)}catch(t){await mp(e,t)}bp(e)&&wp(e)}function vp(t){return cp(t)&&t.Ta.length<10}function xp(t,e){t.Ta.push(e);const n=Ap(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function bp(t){return cp(t)&&!Ap(t).x_()&&t.Ta.length>0}function wp(t){Ap(t).start()}async function Sp(t){Ap(t).ra()}async function kp(t){const e=Ap(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ep(t,e,n){const r=t.Ta.shift(),i=Pu.from(r,e,n);await gp(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await yp(t)}async function _p(t,e){e&&Ap(t).Y_&&await async function(t,e){if(function(t){return Mu(t)&&t!==Ea.ABORTED}(e.code)){const n=t.Ta.shift();Ap(t).B_(),await gp(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await yp(t)}}(t,e),bp(t)&&wp(t)}async function Cp(t,e){const n=ka(t);n.asyncQueue.verifyOperationInProgress(),ga(Zh,"RemoteStore received new credentials");const r=cp(n);n.Ea.add(3),await np(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ep(n)}async function Tp(t,e){const n=ka(t);e?(n.Ea.delete(2),await ep(n)):e||(n.Ea.add(2),await np(n),n.Va.set("Unknown"))}function Ip(t){return t.ma||(t.ma=function(t,e,n){const r=ka(t);return r.sa(),new Gh(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Zo:dp.bind(null,t),Yo:hp.bind(null,t),t_:pp.bind(null,t),J_:fp.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),lp(t)?sp(t):t.Va.set("Unknown")):(await t.ma.stop(),up(t))}))),t.ma}function Ap(t){return t.fa||(t.fa=function(t,e,n){const r=ka(t);return r.sa(),new Qh(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Sp.bind(null,t),t_:_p.bind(null,t),ta:kp.bind(null,t),na:Ep.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await yp(t)):(await t.fa.stop(),t.Ta.length>0&&(ga(Zh,"Stopping write stream with ".concat(t.Ta.length," pending writes")),t.Ta=[]))}))),t.fa}class jp{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,a=new jp(t,e,o,r,i);return a.start(n),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _a(Ea.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(t,e){if(ya("AsyncQueue","".concat(e,": ").concat(t)),vs(t))return new _a(Ea.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class Rp{static emptySet(t){return new Rp(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Qa.comparator(e.key,n.key):(t,e)=>Qa.comparator(t.key,e.key),this.keyedMap=qc(),this.sortedSet=new tl(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Rp))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Rp;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Np{constructor(){this.ga=new tl(Qa.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?0!==t.type&&3===n.type?this.ga=this.ga.insert(e,t):3===t.type&&1!==n.type?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ga=this.ga.remove(e):1===t.type&&2===n.type?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):ba(63341,{Vt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Op{constructor(t,e,n,r,i,o,a,s,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new Op(t,e,Rp.emptySet(e),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class Dp{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class Mp{constructor(){this.queries=Lp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(t,e){const n=ka(t),r=n.queries;n.queries=Lp(),r.forEach(((t,n)=>{for(const r of n.ba)r.onError(e)}))}(this,new _a(Ea.ABORTED,"Firestore shutting down"))}}function Lp(){return new Fc((t=>Rc(t)),Pc)}async function Fp(t,e){const n=ka(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new Dp,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(t){const n=Pp(t,"Initialization of query '".concat(Nc(e.query),"' failed"));return void e.onError(n)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&qp(n)}async function zp(t,e){const n=ka(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const t=o.ba.indexOf(e);t>=0&&(o.ba.splice(t,1),0===o.ba.length?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Up(t,e){const n=ka(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.ba)t.Fa(i)&&(r=!0);e.wa=i}}r&&qp(n)}function Vp(t,e,n){const r=ka(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function qp(t){t.Ca.forEach((t=>{t.next()}))}var Bp,Hp;(Hp=Bp||(Bp={})).Ma="default",Hp.Cache="cache";class Wp{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Op(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==e;return(!this.options.Ka||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}ka(t){t=Op.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bp.Cache}}class Kp{constructor(t){this.key=t}}class Gp{constructor(t){this.key=t}}class Qp{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$c(),this.mutatedKeys=$c(),this.eu=Mc(t),this.tu=new Rp(this.eu)}get nu(){return this.Za}ru(t,e){const n=e?e.iu:new Np,r=e?e.tu:this.tu;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),u=Oc(this.query,e)?e:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(s||l)&&(a=!0)),p&&(u?(o=o.add(u),i=h?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{tu:o,iu:n,Ss:a,mutatedKeys:i}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){var i;const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ba(20277,{Vt:t})}};return n(t)-n(e)}(t.type,e.type)||this.eu(t.doc,e.doc))),this.ou(n),r=null!==(i=r)&&void 0!==i&&i;const s=e&&!r?this._u():[],l=0===this.Ya.size&&this.current&&!r?1:0,c=l!==this.Xa;return this.Xa=l,0!==a.length||c?{snapshot:new Op(this.query,t.tu,o,a,t.mutatedKeys,0===l,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Np,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=$c(),this.tu.forEach((t=>{this.uu(t.key)&&(this.Ya=this.Ya.add(t.key))}));const e=[];return t.forEach((t=>{this.Ya.has(t)||e.push(new Gp(t))})),this.Ya.forEach((n=>{t.has(n)||e.push(new Kp(n))})),e}cu(t){this.Za=t.ks,this.Ya=$c();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Op.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}const $p="SyncEngine";class Yp{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Jp{constructor(t){this.key=t,this.hu=!1}}class Xp{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fc((t=>Rc(t)),Pc),this.Iu=new Map,this.Eu=new Set,this.Ru=new tl(Qa.comparator),this.Au=new Map,this.Vu=new nh,this.du={},this.mu=new Map,this.fu=qd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Zp(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=wf(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await ef(r,e,n,!0),i}async function tf(t,e){const n=wf(t);await ef(n,e,!0,!1)}async function ef(t,e,n,r){const i=await kh(t.localStore,Tc(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await nf(t,e,o,"current"===a,i.resumeToken)),t.isPrimaryClient&&n&&rp(t.remoteStore,i),s}async function nf(t,e,n,r,i){t.pu=(e,n,r)=>async function(t,e,n,r){let i=e.view.ru(n);i.Ss&&(i=await _h(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.ru(n,i)})));const o=r&&r.targetChanges.get(e.targetId),a=r&&null!=r.targetMismatches.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o,a);return mf(t,e.targetId,s.au),s.snapshot}(t,e,n,r);const o=await _h(t.localStore,e,!0),a=new Qp(e,o.ks),s=a.ru(o.documents),l=Ku.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=a.applyChanges(s,t.isPrimaryClient,l);mf(t,n,c.au);const u=new Yp(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function rf(t,e,n){const r=ka(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((t=>!Pc(t,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Eh(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ip(r.remoteStore,i.targetId),pf(r,i.targetId)})).catch(ms)):(pf(r,i.targetId),await Eh(r.localStore,i.targetId,!0))}async function of(t,e){const n=ka(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ip(n.remoteStore,r.targetId))}async function af(t,e){const n=ka(t);try{const t=await function(t,e){const n=ka(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];e.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.li.removeMatchingKeys(t,o.removedDocuments,s).next((()=>n.li.addMatchingKeys(t,o.addedDocuments,s))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(s)?c=c.withResumeToken(sl.EMPTY_BYTE_STRING,as.min()).withLastLimboFreeSnapshotVersion(as.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=gh||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.li.updateTargetData(t,c))}));let s=Uc(),l=$c();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(wh(t,o,e.documentUpdates).next((t=>{s=t.Bs,l=t.Ls}))),!r.isEqual(as.min())){const e=n.li.getLastRemoteSnapshotVersion(t).next((e=>n.li.setTargetsMetadata(t,t.currentSequenceNumber,r)));a.push(e)}return gs.waitFor(a).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,s,l))).next((()=>s))})).then((t=>(n.vs=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Au.get(e);r&&(Sa(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?r.hu=!0:t.modifiedDocuments.size>0?Sa(r.hu,14607):t.removedDocuments.size>0&&(Sa(r.hu,42227),r.hu=!1))})),await vf(n,t,e)}catch(t){await ms(t)}}function sf(t,e,n){const r=ka(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Tu.forEach(((n,r)=>{const i=r.view.va(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=ka(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.ba)i.va(e)&&(r=!0)})),r&&qp(n)}(r.eventManager,e),t.length&&r.Pu.J_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lf(t,e,n){const r=ka(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let t=new tl(Qa.comparator);t=t.insert(o,Gl.newNoDocument(o,as.min()));const n=$c().add(o),i=new Wu(as.min(),new Map,new tl(La),t,n);await af(r,i),r.Ru=r.Ru.remove(o),r.Au.delete(e),yf(r)}else await Eh(r.localStore,e,!1).then((()=>pf(r,e,n))).catch(ms)}async function cf(t,e){const n=ka(t),r=e.batch.batchId;try{const t=await function(t,e){const n=ka(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let a=gs.resolve();return o.forEach((t=>{a=a.next((()=>r.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);Sa(null!==o,48541),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),a.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=$c();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);hf(n,r,null),df(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vf(n,t)}catch(t){await ms(t)}}async function uf(t,e,n){const r=ka(t);try{const t=await function(t,e){const n=ka(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Sa(null!==e,37113),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);hf(r,e,n),df(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vf(r,t)}catch(n){await ms(n)}}function df(t,e){(t.mu.get(e)||[]).forEach((t=>{t.resolve()})),t.mu.delete(e)}function hf(t,e,n){const r=ka(t);let i=r.du[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function pf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((e=>{t.Vu.containsKey(e)||ff(t,e)}))}function ff(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);null!==n&&(ip(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),yf(t))}function mf(t,e,n){for(const r of n)r instanceof Kp?(t.Vu.addReference(r.key,e),gf(t,r)):r instanceof Gp?(ga($p,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||ff(t,r.key)):ba(19791,{wu:r})}function gf(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(ga($p,"New document in limbo: "+n),t.Eu.add(r),yf(t))}function yf(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Qa(Wa.fromString(e)),r=t.fu.next();t.Au.set(r,new Jp(n)),t.Ru=t.Ru.insert(n,r),rp(t.remoteStore,new Nd(Tc(kc(n.path)),r,"TargetPurposeLimboResolution",xs.ce))}}async function vf(t,e,n){const r=ka(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((t,s)=>{a.push(r.pu(s,e,n).then((t=>{if((t||n)&&r.isPrimaryClient){var e;const i=t?!t.fromCache:null===n||void 0===n||null===(e=n.targetChanges.get(s.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(t){i.push(t);const e=hh.Es(s.targetId,t);o.push(e)}})))})),await Promise.all(a),r.Pu.J_(i),await async function(t,e){const n=ka(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>gs.forEach(e,(e=>gs.forEach(e.Ts,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>gs.forEach(e.Is,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!vs(t))throw t;ga(mh,"Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.vs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(t,i)}}}(r.localStore,o))}async function xf(t,e){const n=ka(t);if(!n.currentUser.isEqual(e)){ga($p,"User change. New user:",e.toKey());const t=await xh(n.localStore,e);n.currentUser=e,function(t,e){t.mu.forEach((t=>{t.forEach((t=>{t.reject(new _a(Ea.CANCELLED,e))}))})),t.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await vf(n,t.Ns)}}function bf(t,e){const n=ka(t),r=n.Au.get(e);if(r&&r.hu)return $c().add(r.key);{let t=$c();const r=n.Iu.get(e);if(!r)return t;for(const e of r){const r=n.Tu.get(e);t=t.unionWith(r.view.nu)}return t}}function wf(t){const e=ka(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=af.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lf.bind(null,e),e.Pu.J_=Up.bind(null,e.eventManager),e.Pu.yu=Vp.bind(null,e.eventManager),e}function Sf(t){const e=ka(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uf.bind(null,e),e}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return vh(this.persistence,new fh,t.initialUser,this.serializer)}Cu(t){return new lh(uh.Vi,this.serializer)}Du(t){return new Ih}async terminate(){var t,e;null!==(t=this.gcScheduler)&&void 0!==t&&t.stop(),null!==(e=this.indexBackfillerScheduler)&&void 0!==e&&e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class Ef extends kf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Sa(this.persistence.referenceDelegate instanceof dh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Gd(n,t.asyncQueue,e)}Cu(t){const e=void 0!==this.cacheSizeBytes?Vd.withCacheSize(this.cacheSizeBytes):Vd.DEFAULT;return new lh((t=>dh.Vi(t,e)),this.serializer)}}class _f{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>sf(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=xf.bind(null,this.syncEngine),await Tp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Mp}createDatastore(t){const e=Bh(t.databaseInfo.databaseId),n=Vh(t.databaseInfo);return Jh(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new tp(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>sf(this.syncEngine,t,0)),Ph.v()?new Ph:new Ah)}createSyncEngine(t,e){return function(t,e,n,r,i,o,a){const s=new Xp(t,e,n,r,i,o);return a&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=ka(t);ga(Zh,"RemoteStore shutting down."),e.Ea.add(5),await np(e),e.Aa.shutdown(),e.Va.set("Unknown")}(this.remoteStore),null!==(t=this.datastore)&&void 0!==t&&t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}_f.provider={build:()=>new _f};class Cf{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ya("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Tf="FirestoreClient";class If{constructor(t,e,n,r,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this._databaseInfo=r,this.user=ha.UNAUTHENTICATED,this.clientId=Ma.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async t=>{ga(Tf,"Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(ga(Tf,"Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Pp(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Af(t,e){t.asyncQueue.verifyOperationInProgress(),ga(Tf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await xh(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function jf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pf(t);ga(Tf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>Cp(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Cp(e.remoteStore,n))),t._onlineComponents=e}async function Pf(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ga(Tf,"Using user provided OfflineComponentProvider");try{await Af(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===Ea.FAILED_PRECONDITION||t.code===Ea.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await Af(t,new kf)}}else ga(Tf,"Using default OfflineComponentProvider"),await Af(t,new Ef(void 0));return t._offlineComponents}async function Rf(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ga(Tf,"Using user provided OnlineComponentProvider"),await jf(t,t._uninitializedComponentsProvider._online)):(ga(Tf,"Using default OnlineComponentProvider"),await jf(t,new _f))),t._onlineComponents}function Nf(t){return Rf(t).then((t=>t.syncEngine))}async function Of(t){const e=await Rf(t),n=e.eventManager;return n.onListen=Zp.bind(null,e.syncEngine),n.onUnlisten=rf.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tf.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=of.bind(null,e.syncEngine),n}function Df(t,e){const n=new Ca;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=Sf(t);try{const t=await function(t,e){const n=ka(t),r=os.now(),i=e.reduce(((t,e)=>t.add(e.key)),$c());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let s=Uc(),l=$c();return n.xs.getEntries(t,i).next((t=>{s=t,s.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,s))).next((i=>{o=i;const a=[];for(const t of e){const e=wu(t,o.get(t.key).overlayedDocument);null!=e&&a.push(new Eu(t.key,e,Kl(e.value.mapValue),mu.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,a,e)})).next((e=>{a=e;const r=e.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Bc(o)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.du[t.currentUser.toKey()];r||(r=new tl(La)),r=r.insert(e,n),t.du[t.currentUser.toKey()]=r}(r,t.batchId,n),await vf(r,t.changes),await yp(r.remoteStore)}catch(t){const e=Pp(t,"Failed to persist write");n.reject(e)}}(await Nf(t),e,n))),n.promise}function Mf(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Lf="ComponentProvider",Ff=new Map;function zf(t,e,n,r,i){return new xl(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Mf(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const Uf="firestore.googleapis.com";class Vf{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new _a(Ea.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uf,this.ssl=true}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.isUsingEmulator=void 0!==t.emulatorOptions,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ud;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<Hd)throw new _a(Ea.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new _a(Ea.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mf(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new _a(Ea.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new _a(Ea.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new _a(Ea.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qf{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _a(Ea.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new _a(Ea.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vf(t),this._emulatorOptions=t.emulatorOptions||{},void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Ia;switch(t.type){case"firstParty":return new Ra(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _a(Ea.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Ff.get(t);e&&(ga(Lf,"Removing Datastore"),Ff.delete(t),e.terminate())}(this),Promise.resolve()}}class Bf{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Bf(this.firestore,t,this._query)}}class Hf{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hf(this.firestore,t,this._key)}toJSON(){return{type:Hf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(ns(e,Hf._jsonSchema))return new Hf(t,n||null,new Qa(Wa.fromString(e.referencePath)))}}Hf._jsonSchemaVersion="firestore/documentReference/1.0",Hf._jsonSchema={type:es("string",Hf._jsonSchemaVersion),referencePath:es("string")};class Wf extends Bf{constructor(t,e,n){super(t,e,kc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hf(this.firestore,null,new Qa(t))}withConverter(t){return new Wf(this.firestore,t,this._path)}}function Kf(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=Hi(t),$a("collection","path",e),t instanceof qf){const n=Wa.fromString(e,...r);return Ja(n),new Wf(t,null,n)}{if(!(t instanceof Hf||t instanceof Wf))throw new _a(Ea.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Wa.fromString(e,...r));return Ja(n),new Wf(t.firestore,null,n)}}function Gf(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=Hi(t),1===arguments.length&&(e=Ma.newId()),$a("doc","path",e),t instanceof qf){const n=Wa.fromString(e,...r);return Ya(n),new Hf(t,null,new Qa(n))}{if(!(t instanceof Hf||t instanceof Wf))throw new _a(Ea.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Wa.fromString(e,...r));return Ya(n),new Hf(t.firestore,t instanceof Wf?t.converter:null,new Qa(n))}}const Qf="AsyncQueue";class $f{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hh(this,"async_queue_retry"),this._c=()=>{const t=qh();t&&ga(Qf,"Visibility state changed to "+t.visibilityState),this.M_.w_()},this.ac=t;const e=qh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=qh();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!vs(t))throw t;ga(Qf,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((t=>{throw this.nc=t,this.rc=!1,ya("INTERNAL UNHANDLED ERROR: ",Yf(t)),t})).then((t=>(this.rc=!1,t))))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=jp.createAndSchedule(this,t,e,n,(t=>this.hc(t)));return this.tc.push(r),r}uc(){this.nc&&ba(47125,{Pc:Yf(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do{t=this.ac,await t}while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Yf(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}class Jf extends qf{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new $f,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $f(t),this._firestoreClient=void 0,await t}}}function Xf(t){if(t._terminated)throw new _a(Ea.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Zf(t),t._firestoreClient}function Zf(t){var e,n,r,i;const o=t._freezeSettings(),a=zf(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,null===(n=t._app)||void 0===n?void 0:n.options.apiKey,o);t._componentsProvider||null!==(r=o.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(i=o.localCache)&&void 0!==i&&i._onlineComponentProvider&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new If(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(t){const e=null===t||void 0===t?void 0:t._online.build();return{_offline:null===t||void 0===t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class tm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tm(sl.fromBase64String(t))}catch(t){throw new _a(Ea.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new tm(sl.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:tm._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ns(t,tm._jsonSchema))return tm.fromBase64String(t.bytes)}}tm._jsonSchemaVersion="firestore/bytes/1.0",tm._jsonSchema={type:es("string",tm._jsonSchemaVersion),bytes:es("string")};class em{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new _a(Ea.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ga(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nm{constructor(t){this._methodName=t}}class rm{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _a(Ea.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _a(Ea.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return La(this._lat,t._lat)||La(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rm._jsonSchemaVersion}}static fromJSON(t){if(ns(t,rm._jsonSchema))return new rm(t.latitude,t.longitude)}}rm._jsonSchemaVersion="firestore/geoPoint/1.0",rm._jsonSchema={type:es("string",rm._jsonSchemaVersion),latitude:es("number"),longitude:es("number")};class im{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}toJSON(){return{type:im._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ns(t,im._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((t=>"number"==typeof t)))return new im(t.vectorValues);throw new _a(Ea.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}im._jsonSchemaVersion="firestore/vectorValue/1.0",im._jsonSchema={type:es("string",im._jsonSchemaVersion),vectorValues:es("object")};const om=/^__.*__$/;class am{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Eu(t,this.data,this.fieldMask,e,this.fieldTransforms):new ku(t,this.data,e,this.fieldTransforms)}}class sm{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Eu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function lm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ba(40011,{dataSource:t})}}class cm{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new cm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return _m(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(0===t.length)throw this.createError("Document fields must not be empty");if(lm(this.dataSource)&&om.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class um{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Bh(t)}createContext(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new cm({dataSource:t,methodName:e,targetDoc:n,path:Ga.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(t){const e=t._freezeSettings(),n=Bh(t._databaseId);return new um(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hm(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);wm("Data must be an object, but it was:",a,r);const s=xm(r,a);let l,c;if(o.merge)l=new ol(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const t=[];for(const r of o.mergeFields){const i=Sm(e,r,n);if(!a.contains(i))throw new _a(Ea.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Cm(t,i)||t.push(i)}l=new ol(t),c=a.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=a.fieldTransforms;return new am(new Wl(s),l,c)}class pm extends nm{_toFieldTransform(t){if(2!==t.dataSource)throw 1===t.dataSource?t.createError("".concat(this._methodName,"() can only appear at the top level of your update data")):t.createError("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pm}}class fm extends nm{_toFieldTransform(t){return new pu(t.path,new ou)}isEqual(t){return t instanceof fm}}function mm(t,e,n,r){const i=t.createContext(1,e,n);wm("Data must be an object, but it was:",i,r);const o=[],a=Wl.empty();Xs(r,((t,r)=>{const s=Em(e,t,n);r=Hi(r);const l=i.childContextForFieldPath(s);if(r instanceof pm)o.push(s);else{const t=vm(r,l);null!=t&&(o.push(s),a.set(s,t))}}));const s=new ol(o);return new sm(a,s,i.fieldTransforms)}function gm(t,e,n,r,i,o){const a=t.createContext(1,e,n),s=[Sm(e,r,n)],l=[i];if(o.length%2!=0)throw new _a(Ea.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(Sm(e,o[h])),l.push(o[h+1]);const c=[],u=Wl.empty();for(let h=s.length-1;h>=0;--h)if(!Cm(c,s[h])){const t=s[h];let e=l[h];e=Hi(e);const n=a.childContextForFieldPath(t);if(e instanceof pm)c.push(t);else{const r=vm(e,n);null!=r&&(c.push(t),u.set(t,r))}}const d=new ol(c);return new sm(u,d,a.fieldTransforms)}function ym(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return vm(n,t.createContext(r?4:3,e))}function vm(t,e){if(bm(t=Hi(t)))return wm("Unsupported field value:",e,t),xm(t,e);if(t instanceof nm)return function(t,e){if(!lm(e.dataSource))throw e.createError("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.createError("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&4!==e.dataSource)throw e.createError("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=vm(i,e.childContextForArray(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Hi(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tu(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=os.fromDate(t);return{timestampValue:od(e.serializer,n)}}if(t instanceof os){const n=new os(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:od(e.serializer,n)}}if(t instanceof rm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tm)return{bytesValue:ad(e.serializer,t._byteString)};if(t instanceof Hf){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.createError("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:cd(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof im)return function(t,e){const n=t instanceof im?t.toArray():t,r={fields:{[Sl]:{stringValue:_l},[Cl]:{arrayValue:{values:n.map((t=>{if("number"!=typeof t)throw e.createError("VectorValues must only contain numeric values.");return Xc(e.serializer,t)}))}}}};return{mapValue:r}}(t,e);if(Rd(t))return t._toProto(e.serializer);throw e.createError("Unsupported field value: ".concat(Za(t)))}(t,e)}function xm(t,e){const n={};return Zs(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,((t,r)=>{const i=vm(r,e.childContextForField(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function bm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof os||t instanceof rm||t instanceof tm||t instanceof Hf||t instanceof nm||t instanceof im||Rd(t))}function wm(t,e,n){if(!bm(n)||!Xa(n)){const r=Za(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Sm(t,e,n){if((e=Hi(e))instanceof em)return e._internalPath;if("string"==typeof e)return Em(t,e);throw _m("Field path arguments must be of type string or ",t,!1,void 0,n)}const km=new RegExp("[~\\*/\\[\\]]");function Em(t,e,n){if(e.search(km)>=0)throw _m("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new em(...e.split("."))._internalPath}catch(O){throw _m("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function _m(t,e,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(e,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new _a(Ea.INVALID_ARGUMENT,s+t+l)}function Cm(t,e){return t.some((t=>t.isEqual(e)))}class Tm{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ul(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(dl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ba(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Xs(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertVectorValue(t){var e;const n=null===(e=t.fields)||void 0===e||null===(e=e[Cl].arrayValue)||void 0===e||null===(e=e.values)||void 0===e?void 0:e.map((t=>ul(t.doubleValue)));return new im(n)}convertGeoPoint(t){return new rm(ul(t.latitude),ul(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=yl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(vl(t));default:return null}}convertTimestamp(t){const e=cl(t);return new os(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Wa.fromString(t);Sa(Pd(n),9688,{name:t});const r=new wl(n.get(1),n.get(3)),i=new Qa(n.popFirst(5));return r.isEqual(e)||ya("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),i}}class Im extends Tm{constructor(t){super(),this.firestore=t}convertBytes(t){return new tm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hf(this.firestore,null,e)}}function Am(){return new fm("serverTimestamp")}const jm="@firebase/firestore",Pm="4.10.0";class Rm{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Nm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t,e;return null!==(t=null===(e=this._document)||void 0===e?void 0:e.data.clone().value.mapValue.fields)&&void 0!==t?t:void 0}get(t){if(this._document){const e=this._document.data.field(Sm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Nm extends Rm{data(){return super.data()}}function Om(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new _a(Ea.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dm{}class Mm extends Dm{}function Lm(t,e){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e instanceof Dm&&n.push(e),n=n.concat(i),function(t){const e=t.filter((t=>t instanceof Um)).length,n=t.filter((t=>t instanceof Fm)).length;if(e>1||e>0&&n>0)throw new _a(Ea.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class Fm extends Mm{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Fm(t,e,n)}_apply(t){const e=this._parse(t);return Bm(t._query,e),new Bf(t.firestore,t.converter,Ac(t._query,e))}_parse(t){const e=dm(t.firestore),n=function(t,e,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new _a(Ea.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){qm(a,o);const e=[];for(const n of a)e.push(Vm(r,t,n));s={arrayValue:{values:e}}}else s=Vm(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||qm(a,o),s=ym(n,e,a,"in"===o||"not-in"===o);return tc.create(i,o,s)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function zm(t,e,n){const r=e,i=Sm("where",t);return Fm._create(i,r,n)}class Um extends Dm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Um(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:ec.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)Bm(n,i),n=Ac(n,i)}(t._query,e),new Bf(t.firestore,t.converter,Ac(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Vm(t,e,n){if("string"==typeof(n=Hi(n))){if(""===n)throw new _a(Ea.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_c(e)&&-1!==n.indexOf("/"))throw new _a(Ea.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=e.path.child(Wa.fromString(n));if(!Qa.isDocumentKey(r))throw new _a(Ea.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ml(t,new Qa(r))}if(n instanceof Hf)return Ml(t,n._key);throw new _a(Ea.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Za(n),"."))}function qm(t,e){if(!Array.isArray(t)||0===t.length)throw new _a(Ea.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Bm(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new _a(Ea.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new _a(Ea.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Hm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Km extends Rm{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Sm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _a(Ea.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Km._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),t&&t.isValidDocument()&&t.isFoundDocument()?(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e):e}}Km._jsonSchemaVersion="firestore/documentSnapshot/1.0",Km._jsonSchema={type:es("string",Km._jsonSchemaVersion),bundleSource:es("string","DocumentSnapshot"),bundleName:es("string"),bundle:es("string")};class Gm extends Km{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Qm{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Wm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Gm(this._firestore,this._userDataWriter,n.key,n,new Wm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _a(Ea.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new Gm(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Wm(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Gm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Wm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:$m(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _a(Ea.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qm._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ma.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],r=[];return this.docs.forEach((t=>{null!==t._document&&(e.push(t._document),n.push(this._userDataWriter.convertObjectMap(t._document.data.value.mapValue.fields,"previous")),r.push(t.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $m(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ba(61501,{type:t})}}Qm._jsonSchemaVersion="firestore/querySnapshot/1.0",Qm._jsonSchema={type:es("string",Qm._jsonSchemaVersion),bundleSource:es("string","QuerySnapshot"),bundleName:es("string"),bundle:es("string")};function Ym(t){t=ts(t,Hf);const e=ts(t.firestore,Jf);return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ca;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Cf({next:s=>{o.Nu(),e.enqueueAndForget((()=>zp(t,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new _a(Ea.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new _a(Ea.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),a=new Wp(kc(n.path),o,{includeMetadataChanges:!0,Ka:!0});return Fp(t,a)}(await Of(t),t.asyncQueue,e,n,r))),r.promise}(Xf(e),t._key).then((n=>ng(e,t,n)))}function Jm(t){t=ts(t,Bf);const e=ts(t.firestore,Jf),n=Xf(e),r=new Im(e);return Om(t._query),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ca;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Cf({next:n=>{o.Nu(),e.enqueueAndForget((()=>zp(t,a))),n.fromCache&&"server"===r.source?i.reject(new _a(Ea.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),a=new Wp(n,o,{includeMetadataChanges:!0,Ka:!0});return Fp(t,a)}(await Of(t),t.asyncQueue,e,n,r))),r.promise}(n,t._query).then((n=>new Qm(e,r,t,n)))}function Xm(t,e,n){t=ts(t,Hf);const r=ts(t.firestore,Jf),i=dm(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(e=Hi(e))||e instanceof em?gm(i,"updateDoc",t._key,e,n,s):mm(i,"updateDoc",t._key,e),eg(r,[o.toMutation(t._key,mu.exists(!0))])}function Zm(t){return eg(ts(t.firestore,Jf),[new Iu(t._key,mu.none())])}function tg(t,e){const n=ts(t.firestore,Jf),r=Gf(t),i=Hm(t.converter,e);return eg(n,[hm(dm(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,mu.exists(!1))]).then((()=>r))}function eg(t,e){return Df(Xf(t),e)}function ng(t,e,n){const r=n.docs.get(e._key),i=new Im(t);return new Km(t,i,e._key,r,new Wm(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(function(t){pa=t})(Mo),Po(new Wi("firestore",((t,n)=>{let{instanceIdentifier:r,options:i}=n;const o=t.getProvider("app").getImmediate(),a=new Jf(new ja(t.getProvider("auth-internal")),new Oa(o,t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _a(Ea.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(t.options.projectId,e)}(o,r),o);return i={useFetchStreams:e,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),zo(jm,Pm,t),zo(jm,Pm,"esm2020")}();const rg="firebasestorage.googleapis.com",ig="storageBucket";class og extends Oi{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(lg(t),"Firebase Storage: ".concat(e," (").concat(lg(t),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,og.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return lg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var ag,sg;function lg(t){return"storage/"+t}function cg(){return new og(ag.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ug(){return new og(ag.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dg(){return new og(ag.CANCELED,"User canceled the upload/download.")}function hg(){return new og(ag.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pg(t){return new og(ag.INVALID_ARGUMENT,t)}function fg(){return new og(ag.APP_DELETED,"The Firebase app was deleted.")}function mg(t,e){return new og(ag.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gg(t){throw new og(ag.INTERNAL_ERROR,"Internal error: "+t)}!function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ag||(ag={}));class yg{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=yg.makeFromUrl(t,e)}catch(i){return new yg(t,"")}if(""===n.path)return n;throw r=t,new og(ag.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(t,e){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}const a=e.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(e===rg?"(?:storage.googleapis.com|storage.cloud.google.com)":e,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const e=s[l],r=e.regex.exec(t);if(r){const t=r[e.indices.bucket];let i=r[e.indices.path];i||(i=""),n=new yg(t,i),e.postModify(n);break}}if(null==n)throw function(t){return new og(ag.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return n}}class vg{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(){}}function xg(t){return"string"===typeof t||t instanceof String}function bg(t){return wg()&&t instanceof Blob}function wg(){return"undefined"!==typeof Blob}function Sg(t,e,n,r){if(r<e)throw pg("Invalid value for '".concat(t,"'. Expected ").concat(e," or greater."));if(r>n)throw pg("Invalid value for '".concat(t,"'. Expected ").concat(n," or less."))}function kg(t,e,n){let r=e;return null==n&&(r="https://".concat(e)),"".concat(n,"://").concat(r,"/v0").concat(t)}function Eg(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1),n}function _g(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),i=-1!==e.indexOf(t);return n||r||i}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(sg||(sg={}));class Cg{constructor(t,e,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new Tg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const e=n.getErrorCode()===sg.NO_ERROR,i=n.getStatus();if(!e||_g(i,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===sg.ABORT;return void t(!1,new Tg(!1,null,e))}const o=-1!==this.successCodes_.indexOf(i);t(!0,new Tg(o,n))}))},e=(t,e)=>{const n=this.resolve_,r=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponse());!function(t){return void 0!==t}(t)?n():n(t)}catch(o){r(o)}else if(null!==i){const t=cg();t.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,t)):r(t)}else if(e.canceled){r(this.appDelete_?fg():dg())}else{r(ug())}};this.canceled_?e(0,new Tg(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(null,n)}}function d(e){i=setTimeout((()=>{i=null,t(p,l())}),e)}function h(){o&&clearTimeout(o)}function p(t){if(c)return void h();for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t)return h(),void u.call(null,t,...n);if(l()||a)return h(),void u.call(null,t,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let f=!1;function m(t){f||(f=!0,h(),c||(null!==i?(t||(s=2),clearTimeout(i),d(0)):t||(s=1)))}return d(0),o=setTimeout((()=>{a=!0,m(!0)}),n),m}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Tg{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function Ig(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ag(){const t=Ig();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(void 0!==t){const e=new t;for(let t=0;t<n.length;t++)e.append(n[t]);return e.getBlob()}if(wg())return new Blob(n);throw new og(ag.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function jg(t){if("undefined"===typeof atob)throw e="base-64",new og(ag.UNSUPPORTED_ENVIRONMENT,"".concat(e," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var e;return atob(t)}const Pg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rg{constructor(t,e){this.data=t,this.contentType=e||null}}function Ng(t,e){switch(t){case Pg.RAW:return new Rg(Og(e));case Pg.BASE64:case Pg.BASE64URL:return new Rg(Dg(t,e));case Pg.DATA_URL:return new Rg(function(t){const e=new Mg(t);return e.base64?Dg(Pg.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(n){throw mg(Pg.DATA_URL,"Malformed data URL.")}return Og(e)}(e.rest)}(e),new Mg(e).contentType)}throw cg()}function Og(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Dg(t,e){switch(t){case Pg.BASE64:{const n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){throw mg(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Pg.BASE64URL:{const n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/");if(n||r){throw mg(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jg(e)}catch(i){if(i.message.includes("polyfill"))throw i;throw mg(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Mg{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw mg(Pg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;null!=n&&(this.base64=function(t,e){const n=t.length>=e.length;if(!n)return!1;return t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}class Lg{constructor(t,e){let n=0,r="";bg(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(bg(this.data_)){const n=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,t,e);return null===n?null:new Lg(n)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new Lg(n,!0)}}static getBlob(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(wg()){const t=e.map((t=>t instanceof Lg?t.data_:t));return new Lg(Ag.apply(null,t))}{const t=e.map((t=>xg(t)?Ng(Pg.RAW,t).data:t.data_));let n=0;t.forEach((t=>{n+=t.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((t=>{for(let e=0;e<t.length;e++)r[i++]=t[e]})),new Lg(r,!0)}}uploadData(){return this.data_}}function Fg(t){let e;try{e=JSON.parse(t)}catch(n){return null}return function(t){return"object"===typeof t&&!Array.isArray(t)}(e)?e:null}function zg(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Ug(t,e){return e}class Vg{constructor(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Ug}}let qg=null;function Bg(){if(qg)return qg;const t=[];t.push(new Vg("bucket")),t.push(new Vg("generation")),t.push(new Vg("metageneration")),t.push(new Vg("name","fullPath",!0));const e=new Vg("name");e.xform=function(t,e){return function(t){return!xg(t)||t.length<2?t:zg(t)}(e)},t.push(e);const n=new Vg("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Vg("timeCreated")),t.push(new Vg("updated")),t.push(new Vg("md5Hash",null,!0)),t.push(new Vg("cacheControl",null,!0)),t.push(new Vg("contentDisposition",null,!0)),t.push(new Vg("contentEncoding",null,!0)),t.push(new Vg("contentLanguage",null,!0)),t.push(new Vg("contentType",null,!0)),t.push(new Vg("metadata","customMetadata",!0)),qg=t,qg}function Hg(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const t=n[o];r[t.local]=t.xform(r,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=t.bucket,r=t.fullPath,i=new yg(n,r);return e._makeStorageReference(i)}})}(r,t),r}function Wg(t,e,n){const r=Fg(e);if(null===r)return null;return Hg(t,r,n)}function Kg(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class Gg{constructor(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qg(t){if(!t)throw cg()}function $g(t,e){return function(n,r){const i=Wg(t,r,e);return Qg(null!==i),i}}function Yg(t,e){return function(n,r){const i=Wg(t,r,e);return Qg(null!==i),function(t,e,n,r){const i=Fg(e);if(null===i)return null;if(!xg(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent,s=o.split(",").map((e=>{const i=t.bucket,o=t.fullPath;return kg("/b/"+a(i)+"/o/"+a(o),n,r)+Eg({alt:"media",token:e})}));return s[0]}(i,r,t.host,t._protocol)}}function Jg(t){return function(e,n){let r;var i,o;return 401===e.getStatus()?r=e.getErrorText().includes("Firebase App Check token is invalid")?new og(ag.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new og(ag.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new og(ag.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new og(ag.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=e.getStatus(),r.serverResponse=n.serverResponse,r}}function Xg(t){const e=Jg(t);return function(n,r){let i=e(n,r);var o;return 404===n.getStatus()&&(o=t.path,i=new og(ag.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Zg(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function ty(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;const l=Zg(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Kg(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=Lg.getBlob(c,r,u);if(null===d)throw hg();const h={name:l.fullPath},p=kg(o,t.host,t._protocol),f=t.maxUploadRetryTime,m=new Gg(p,"POST",$g(t,n),f);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=Jg(e),m}let ey=null;class ny{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sg.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=sg.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=sg.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,n,r,i){if(this.sent_)throw gg("cannot .send() more than once");if(Ei(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw gg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class ry extends ny{initXhr(){this.xhr_.responseType="text"}}function iy(){return ey?ey():new ry}class oy{constructor(t,e){this._service=t,this._location=e instanceof yg?e:yg.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new oy(t,e)}get root(){const t=new yg(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zg(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new yg(this._location.bucket,t);return new oy(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new og(ag.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function ay(t,e,n){t._throwIfRoot("uploadBytes");const r=ty(t.storage,t._location,Bg(),new Lg(e,!0),n);return t.storage.makeRequestWithTokens(r,iy).then((e=>({metadata:e,ref:t})))}function sy(t){t._throwIfRoot("getDownloadURL");const e=function(t,e,n){const r=kg(e.fullServerUrl(),t.host,t._protocol),i=t.maxOperationRetryTime,o=new Gg(r,"GET",Yg(t,n),i);return o.errorHandler=Xg(e),o}(t.storage,t._location,Bg());return t.storage.makeRequestWithTokens(e,iy).then((t=>{if(null===t)throw new og(ag.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}function ly(t,e){const n=function(t,e){const n=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new yg(t._location.bucket,n);return new oy(t.storage,r)}function cy(t,e){if(t instanceof hy){const n=t;if(null==n._bucket)throw new og(ag.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ig+"' property when initializing the app?");const r=new oy(n,n._bucket);return null!=e?cy(r,e):r}return void 0!==e?ly(t,e):t}function uy(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof hy)return new oy(t,e);throw pg("To use ref(service, url), the first argument must be a Storage instance.")}return cy(t,e)}function dy(t,e){const n=null===e||void 0===e?void 0:e[ig];return null==n?null:yg.makeFromBucketSpec(n,t)}class hy{constructor(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=rg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?yg.makeFromBucketSpec(r,this._host):dy(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=yg.makeFromBucketSpec(this._url,t):this._bucket=dy(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Sg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Sg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){if(No(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new oy(this,t)}_makeRequest(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new vg(fg());{const o=function(t,e,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Eg(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Cg(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,s)}(t,this._appId,n,r,e,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}const py="@firebase/storage",fy="0.14.0",my="storage";function gy(t,e){let{instanceIdentifier:n}=e;const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new hy(r,i,o,n,Mo)}Po(new Wi(my,gy,"PUBLIC").setMultipleInstances(!0)),zo(py,fy,""),zo(py,fy,"esm2020");zo("firebase","12.8.0","app");function yy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vy=yy,xy=new Di("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),by=new no("@firebase/auth");function wy(t){if(by.logLevel<=Ji.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];by.error("Auth (".concat(Mo,"): ").concat(t),...n)}}function Sy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Cy(t,...n)}function ky(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Cy(t,...n)}function Ey(t,e,n){const r={...vy(),[e]:n};return new Di("auth","Firebase",r).create(e,{appName:t.name})}function _y(t){return Ey(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("string"!==typeof t){const e=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(e,...r)}return xy.create(t,...n)}function Ty(t,e){if(!t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cy(e,...r)}}function Iy(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wy(e),new Error(e)}function Ay(t,e){t||Iy(e)}function jy(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Py(){return"http:"===Ry()||"https:"===Ry()}function Ry(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Ny(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Py()||function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Oy{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ay(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ji())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ny()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dy(t,e){Ay(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class My{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Iy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Iy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Iy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ly={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fy=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zy=new Oy(3e4,6e4);function Uy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vy(t,e,n,r){return qy(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===e?o=r:i={body:JSON.stringify(r)});const a=zi({key:t.config.apiKey,...o}).slice(1),s=await t._getAdditionalHeaders();s["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode);const l={method:e,headers:s,...i};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&Ei(t.emulatorConfig.host)&&(l.credentials="include"),My.fetch()(await Hy(t,t.config.apiHost,n,a),l)}))}async function qy(t,e,n){t._canInitEmulator=!1;const r={...Ly,...e};try{const e=new Ky(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Gy(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const e=i.ok?o.errorMessage:o.error.message,[n,a]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Gy(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Gy(t,"email-already-in-use",o);if("USER_DISABLED"===n)throw Gy(t,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ey(t,s,a);Sy(t,s)}}catch(i){if(i instanceof Oi)throw i;Sy(t,"network-request-failed",{message:String(i)})}}async function By(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Vy(t,e,n,r,i);return"mfaPendingCredential"in o&&Sy(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Hy(t,e,n,r){const i="".concat(e).concat(n,"?").concat(r),o=t,a=o.config.emulator?Dy(t.config,i):"".concat(t.config.apiScheme,"://").concat(i);if(Fy.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function Wy(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ky{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(ky(this.auth,"network-request-failed"))),zy.get())}))}}function Gy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ky(t,e,r);return i.customData._tokenResponse=n,i}function Qy(t){return void 0!==t&&void 0!==t.enterprise}class $y{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Wy(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yy(t,e){return Vy(t,"GET","/v2/recaptchaConfig",Uy(t,e))}async function Jy(t,e){return Vy(t,"POST","/v1/accounts:lookup",e)}function Xy(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Zy(t){return 1e3*Number(t)}function tv(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return wy("JWT malformed, contained fewer than 3 sections"),null;try{const t=gi(n);return t?JSON.parse(t):(wy("Failed to decode base64 JWT payload"),null)}catch(i){return wy("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function ev(t){const e=tv(t);return Ty(e,"internal-error"),Ty("undefined"!==typeof e.exp,"internal-error"),Ty("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function nv(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(n){throw n instanceof Oi&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}class rv{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{var e;this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void((null===t||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class iv{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xy(this.lastLoginAt),this.creationTime=Xy(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ov(t){var e;const n=t.auth,r=await t.getIdToken(),i=await nv(t,Jy(n,{idToken:r}));Ty(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?av(o.providerUserInfo):[],s=function(t,e){const n=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...n,...e]}(t.providerData,a),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null!==s&&void 0!==s&&s.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new iv(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}function av(t){return t.map((t=>{let{providerId:e,...n}=t;return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class sv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ty(t.idToken,"internal-error"),Ty("undefined"!==typeof t.idToken,"internal-error"),Ty("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ty(0!==t.length,"internal-error");const e=ev(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ty(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await qy(t,{},(async()=>{const n=zi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await Hy(t,r,"/v1/token","key=".concat(i)),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return t.emulatorConfig&&Ei(t.emulatorConfig.host)&&(s.credentials="include"),My.fetch()(o,s)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,o=new sv;return n&&(Ty("string"===typeof n,"internal-error",{appName:t}),o.refreshToken=n),r&&(Ty("string"===typeof r,"internal-error",{appName:t}),o.accessToken=r),i&&(Ty("number"===typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new sv,this.toJSON())}_performRefresh(){return Iy("not implemented")}}function lv(t,e){Ty("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class cv{constructor(t){let{uid:e,auth:n,stsTokenManager:r,...i}=t;this.providerId="firebase",this.proactiveRefresh=new rv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new iv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await nv(this,this.stsTokenManager.getToken(this.auth,t));return Ty(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Hi(t),r=await n.getIdToken(e),i=tv(r);Ty(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Xy(Zy(i.auth_time)),issuedAtTime:Xy(Zy(i.iat)),expirationTime:Xy(Zy(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=Hi(t);await ov(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Ty(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>({...t}))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new cv({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ty(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await ov(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(No(this.auth.app))return Promise.reject(_y(this.auth));const t=await this.getIdToken();return await nv(this,async function(t,e){return Vy(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>({...t}))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,o,a,s,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,d=null!==(r=e.email)&&void 0!==r?r:void 0,h=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,f=null!==(a=e.tenantId)&&void 0!==a?a:void 0,m=null!==(s=e._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:S}=e;Ty(v&&S,t,"internal-error");const k=sv.fromJSON(this.name,S);Ty("string"===typeof v,t,"internal-error"),lv(u,t.name),lv(d,t.name),Ty("boolean"===typeof x,t,"internal-error"),Ty("boolean"===typeof b,t,"internal-error"),lv(h,t.name),lv(p,t.name),lv(f,t.name),lv(m,t.name),lv(g,t.name),lv(y,t.name);const E=new cv({uid:v,auth:t,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(E.providerData=w.map((t=>({...t})))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new sv;r.updateFromServerResponse(e);const i=new cv({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await ov(i),i}static async _fromGetAccountInfoResponse(t,e,n){const r=e.users[0];Ty(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?av(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new sv;a.updateFromIdToken(n);const s=new cv({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new iv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const uv=new Map;function dv(t){Ay(t instanceof Function,"Expected a class definition");let e=uv.get(t);return e?(Ay(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uv.set(t,e),e)}class hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}hv.type="NONE";const pv=hv;function fv(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class mv{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=fv(this.userKey,r.apiKey,i),this.fullPersistenceKey=fv("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if("string"===typeof t){const e=await Jy(this.auth,{idToken:t}).catch((()=>{}));return e?cv._fromGetAccountInfoResponse(this.auth,e,t):null}return cv._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new mv(dv(pv),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||dv(pv);const o=fv(n,t.config.apiKey,t.name);let a=null;for(const l of e)try{const e=await l._get(o);if(e){let n;if("string"===typeof e){const r=await Jy(t,{idToken:e}).catch((()=>{}));if(!r)break;n=await cv._fromGetAccountInfoResponse(t,r,e)}else n=cv._fromJSON(t,e);l!==i&&(a=n),i=l;break}}catch{}const s=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(o)}catch{}}))),new mv(i,t,n)):new mv(i,t,n)}}function gv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sv(e))return"Blackberry";if(kv(e))return"Webos";if(vv(e))return"Safari";if((e.includes("chrome/")||xv(e))&&!e.includes("edge/"))return"Chrome";if(wv(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function yv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/firefox\//i.test(t)}function vv(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/crios\//i.test(t)}function bv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/iemobile/i.test(t)}function wv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/android/i.test(t)}function Sv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/blackberry/i.test(t)}function kv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/webos/i.test(t)}function Ev(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _v(){return function(){const t=ji();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function Cv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return Ev(t)||wv(t)||kv(t)||Sv(t)||/windows phone/i.test(t)||bv(t)}function Tv(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=gv(ji());break;case"Worker":e="".concat(gv(ji()),"-").concat(t);break;default:e=t}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(Mo,"/").concat(r)}class Iv{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(i){r(i)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(J){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Av{constructor(t){var e,n,r,i;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,s),this.validatePasswordCharacterOptions(t,s),s.isValid&&(s.isValid=null===(e=s.meetsMinPasswordLength)||void 0===e||e),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class jv{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rv(this),this.idTokenSubscription=new Rv(this),this.beforeStateQueue=new Iv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((t=>this._resolvePersistenceManagerAvailable=t))}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=dv(e)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await mv.create(this,t),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await Jy(this,{idToken:t}),n=await cv._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(No(this.app)){const t=this.app.settings.authIdToken;return t?new Promise((e=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(t).then(e,e)))})):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let n=e,r=!1;if(t&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const e=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(o=n)||void 0===o?void 0:o._redirectEventId,s=await this.tryRedirectSignIn(t);e&&e!==a||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=e,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(a)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ty(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await ov(t)}catch(e){if((null===e||void 0===e?void 0:e.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(No(this.app))return Promise.reject(_y(this));const e=t?Hi(t):null;return e&&Ty(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&Ty(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return No(this.app)?Promise.reject(_y(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return No(this.app)?Promise.reject(_y(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(dv(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t){return Vy(t,"GET","/v2/passwordPolicy",Uy(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),e=new Av(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Di("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged((()=>{n(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Vy(t,"POST","/v2/accounts:revokeToken",Uy(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&dv(t)||this._popupRedirectResolver;Ty(e,this,"argument-error"),this.redirectPersistenceManager=await mv.create(this,[dv(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ty(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof e){const i=t.addObserver(e,n,r);return()=>{o=!0,i()}}{const n=t.addObserver(e);return()=>{o=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ty(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Tv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(No(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return null!==e&&void 0!==e&&e.error&&function(t){if(by.logLevel<=Ji.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];by.warn("Auth (".concat(Mo,"): ").concat(t),...n)}}("Error while retrieving App Check token: ".concat(e.error)),null===e||void 0===e?void 0:e.token}}function Pv(t){return Hi(t)}class Rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new qi(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return Ty(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ov(t){return Nv.loadJS(t)}function Dv(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}class Mv{constructor(){this.enterprise=new Lv}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Lv{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Fv="NO_RECAPTCHA";class zv{constructor(t){this.type="recaptcha-enterprise",this.auth=Pv(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,r){const i=window.grecaptcha;Qy(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n(Fv)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Mv).execute("siteKey",{action:"verify"})}return new Promise(((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{Yy(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new $y(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((i=>{if(!e&&Qy(window.grecaptcha))n(i,t,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let e=Nv.recaptchaEnterpriseScript;0!==e.length&&(e+=i),Ov(e).then((()=>{n(i,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function Uv(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new zv(t);let a;if(i)a=Fv;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s={...e};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const t=s.phoneEnrollmentInfo.phoneNumber,e=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const t=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Vv(t,e,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=t._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Uv(t,e,n,"getOobCode"===n);return r(t,i)}return r(t,e).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Uv(t,e,n,"getOobCode"===n);return r(t,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){var a;if(null!==(a=t._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await Uv(t,e,n);return r(t,i).catch((async i=>{var o;if("AUDIT"===(null===(o=t._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Uv(t,e,n,!1,!0);return r(t,i)}return Promise.reject(i)}))}{const i=await Uv(t,e,n,!1,!0);return r(t,i)}}return Promise.reject(i+" provider is not supported.")}async function qv(t){const e=Pv(t),n=await Yy(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $y(n);if(null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()){new zv(e).verify()}}function Bv(t,e,n){const r=Pv(t);Ty(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=Hv(e),{host:a,port:s}=function(t){const e=Hv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Wv(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Wv(e)}}}(e),l=null===s?"":":".concat(s),c={url:"".concat(o,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Ty(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ty(Li(c,r.config.emulator)&&Li(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ei(a)?(_i("".concat(o,"//").concat(a).concat(l)),Ai("Auth",!0)):i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function Hv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Kv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Iy("not implemented")}_getIdTokenResponse(t){return Iy("not implemented")}_linkToIdToken(t,e){return Iy("not implemented")}_getReauthenticationResolver(t){return Iy("not implemented")}}async function Gv(t,e){return Vy(t,"POST","/v1/accounts:signUp",e)}async function Qv(t,e){return By(t,"POST","/v1/accounts:signInWithPassword",Uy(t,e))}class $v extends Kv{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new $v(t,e,"password")}static _fromEmailAndCode(t,e){return new $v(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if(null!==e&&void 0!==e&&e.email&&null!==e&&void 0!==e&&e.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Vv(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qv,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return By(t,"POST","/v1/accounts:signInWithEmailLink",Uy(t,e))}(t,{email:this._email,oobCode:this._password});default:Sy(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Vv(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gv,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return By(t,"POST","/v1/accounts:signInWithEmailLink",Uy(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Sy(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Yv(t,e){return By(t,"POST","/v1/accounts:signInWithIdp",Uy(t,e))}class Jv extends Kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Jv(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Sy("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r,...i}=e;if(!n||!r)return null;const o=new Jv(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){return Yv(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Yv(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Yv(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=zi(e)}return t}}async function Xv(t,e){return Vy(t,"POST","/v1/accounts:sendVerificationCode",Uy(t,e))}const Zv={USER_NOT_FOUND:"user-not-found"};class tx extends Kv{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new tx({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new tx({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return By(t,"POST","/v1/accounts:signInWithPhoneNumber",Uy(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await By(t,"POST","/v1/accounts:signInWithPhoneNumber",Uy(t,e));if(n.temporaryProof)throw Gy(t,"account-exists-with-different-credential",n);return n}(t,{idToken:e,...this._makeVerificationRequest()})}_getReauthenticationResolver(t){return async function(t,e){return By(t,"POST","/v1/accounts:signInWithPhoneNumber",Uy(t,{...e,operation:"REAUTH"}),Zv)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new tx({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ex{constructor(t){var e,n,r,i,o,a;const s=Ui(Vi(t)),l=null!==(e=s.apiKey)&&void 0!==e?e:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Ty(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=Ui(Vi(t)).link,n=e?Ui(Vi(e)).deep_link_id:null,r=Ui(Vi(t)).deep_link_id;return(r?Ui(Vi(r)).link:null)||r||n||e||t}(t);try{return new ex(e)}catch{return null}}}class nx{constructor(){this.providerId=nx.PROVIDER_ID}static credential(t,e){return $v._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ex.parseLink(e);return Ty(n,"argument-error"),$v._fromEmailAndCode(t,n.code,n.tenantId)}}nx.PROVIDER_ID="password",nx.EMAIL_PASSWORD_SIGN_IN_METHOD="password",nx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ix extends rx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ox extends ix{constructor(){super("facebook.com")}static credential(t){return Jv._fromParams({providerId:ox.PROVIDER_ID,signInMethod:ox.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ox.credentialFromTaggedObject(t)}static credentialFromError(t){return ox.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ox.credential(e.oauthAccessToken)}catch{return null}}}ox.FACEBOOK_SIGN_IN_METHOD="facebook.com",ox.PROVIDER_ID="facebook.com";class ax extends ix{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Jv._fromParams({providerId:ax.PROVIDER_ID,signInMethod:ax.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ax.credentialFromTaggedObject(t)}static credentialFromError(t){return ax.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ax.credential(n,r)}catch{return null}}}ax.GOOGLE_SIGN_IN_METHOD="google.com",ax.PROVIDER_ID="google.com";class sx extends ix{constructor(){super("github.com")}static credential(t){return Jv._fromParams({providerId:sx.PROVIDER_ID,signInMethod:sx.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sx.credentialFromTaggedObject(t)}static credentialFromError(t){return sx.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return sx.credential(e.oauthAccessToken)}catch{return null}}}sx.GITHUB_SIGN_IN_METHOD="github.com",sx.PROVIDER_ID="github.com";class lx extends ix{constructor(){super("twitter.com")}static credential(t,e){return Jv._fromParams({providerId:lx.PROVIDER_ID,signInMethod:lx.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return lx.credentialFromTaggedObject(t)}static credentialFromError(t){return lx.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lx.credential(n,r)}catch{return null}}}async function cx(t,e){return By(t,"POST","/v1/accounts:signUp",Uy(t,e))}lx.TWITTER_SIGN_IN_METHOD="twitter.com",lx.PROVIDER_ID="twitter.com";class ux{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await cv._fromIdTokenResponse(t,n,r),o=dx(n);return new ux({user:i,providerId:o,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=dx(n);return new ux({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function dx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class hx extends Oi{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,hx.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new hx(t,e,n,r)}}function px(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw hx._fromErrorAndOperation(t,n,e,r);throw n}))}async function fx(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await nv(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ux._forOperation(t,"link",r)}async function mx(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=t;if(No(r.app))return Promise.reject(_y(r));const i="reauthenticate";try{const o=await nv(t,px(r,i,e,t),n);Ty(o.idToken,r,"internal-error");const a=tv(o.idToken);Ty(a,r,"internal-error");const{sub:s}=a;return Ty(t.uid===s,r,"user-mismatch"),ux._forOperation(t,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Sy(r,"user-mismatch"),o}}async function gx(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(No(t.app))return Promise.reject(_y(t));const r="signIn",i=await px(t,r,e),o=await ux._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function yx(t,e){return gx(Pv(t),e)}async function vx(t){const e=Pv(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xx(t,e){let{displayName:n,photoURL:r}=e;if(void 0===n&&void 0===r)return;const i=Hi(t),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await nv(i,async function(t,e){return Vy(t,"POST","/v1/accounts:update",e)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((t=>{let{providerId:e}=t;return"password"===e}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function bx(t,e){return Vy(t,"POST","/v2/accounts/mfaEnrollment:start",Uy(t,e))}new WeakMap;const wx="__sak";class Sx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wx,"1"),this.storage.removeItem(wx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class kx extends Sx{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);_v()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}kx.type="LOCAL";const Ex=kx;function _x(t){var e,n;const r=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(e=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==e?e:null}function Cx(t){const e="http:"===window.location.protocol;return"".concat(e?"__dev_":"__HOST-","FIREBASE_").concat(t.split(":")[3])}class Tx{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(t){if(void 0===typeof window)return t;const e=new URL("".concat(window.location.origin,"/__cookies__"));return e.searchParams.set("finalTarget",t),e}async _isAvailable(){var t;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(t=navigator.cookieEnabled)||void 0===t||t))}async _set(t,e){}async _get(t){if(!this._isAvailable())return null;const e=Cx(t);if(window.cookieStore){const t=await window.cookieStore.get(e);return null===t||void 0===t?void 0:t.value}return _x(e)}async _remove(t){if(!this._isAvailable())return;if(!await this._get(t))return;const e=Cx(t);document.cookie="".concat(e,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(t,e){if(!this._isAvailable())return;const n=Cx(t);if(window.cookieStore){const t=t=>{const r=t.changed.find((t=>t.name===n));r&&e(r.value);t.deleted.find((t=>t.name===n))&&e(null)},r=()=>window.cookieStore.removeEventListener("change",t);return this.listenerUnsubscribes.set(e,r),window.cookieStore.addEventListener("change",t)}let r=_x(n);const i=setInterval((()=>{const t=_x(n);t!==r&&(e(t),r=t)}),1e3);this.listenerUnsubscribes.set(e,(()=>clearInterval(i)))}_removeListener(t,e){const n=this.listenerUnsubscribes.get(e);n&&(n(),this.listenerUnsubscribes.delete(e))}}Tx.type="COOKIE";class Ix extends Sx{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Ix.type="SESSION";const Ax=Ix;class jx{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new jx(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async t=>t(e.origin,i))),s=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Px(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}jx.receivers=[];class Rx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Px("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(e.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Nx(){return window}function Ox(){return"undefined"!==typeof Nx().WorkerGlobalScope&&"function"===typeof Nx().importScripts}const Dx="firebaseLocalStorageDb",Mx="firebaseLocalStorage",Lx="fbase_key";class Fx{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function zx(t,e){return t.transaction([Mx],e?"readwrite":"readonly").objectStore(Mx)}function Ux(){const t=indexedDB.open(Dx,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Mx,{keyPath:Lx})}catch(r){n(r)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Mx)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Dx);return new Fx(t).toPromise()}(),e(await Ux()))}))}))}async function Vx(t,e,n){const r=zx(t,!0).put({[Lx]:e,value:n});return new Fx(r).toPromise()}function qx(t,e){const n=zx(t,!0).delete(e);return new Fx(n).toPromise()}class Bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ux()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ox()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jx._getInstance(Ox()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){var t;if(null===(t=navigator)||void 0===t||!t.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Rx(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(t=n[0])&&void 0!==t&&t.fulfilled&&null!==(e=n[0])&&void 0!==e&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=navigator)||void 0===t||null===(t=t.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ux();return await Vx(t,wx,"1"),await qx(t,wx),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Vx(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=zx(t,!1).get(e),r=await new Fx(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>qx(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=zx(t,!1).getAll();return new Fx(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Bx.type="LOCAL";const Hx=Bx;function Wx(t,e){return Vy(t,"POST","/v2/accounts/mfaSignIn:start",Uy(t,e))}Dv("rcb"),new Oy(3e4,6e4);const Kx="recaptcha";async function Gx(t,e,n){if(!t._getRecaptchaConfig())try{await qv(t)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof e?{phoneNumber:e}:e,"session"in i){const e=i.session;if("phoneNumber"in i){Ty("enroll"===e.type,t,"internal-error");const r={idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Vv(t,r,"mfaSmsEnrollment",(async(t,e)=>{if(e.phoneEnrollmentInfo.captchaResponse===Fv){Ty((null===n||void 0===n?void 0:n.type)===Kx,t,"argument-error");return bx(t,await Qx(t,e,n))}return bx(t,e)}),"PHONE_PROVIDER");return(await o.catch((t=>Promise.reject(t)))).phoneSessionInfo.sessionInfo}{var r;Ty("signin"===e.type,t,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ty(o,t,"missing-multi-factor-info");const a={mfaPendingCredential:e.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Vv(t,a,"mfaSmsSignIn",(async(t,e)=>{if(e.phoneSignInInfo.captchaResponse===Fv){Ty((null===n||void 0===n?void 0:n.type)===Kx,t,"argument-error");return Wx(t,await Qx(t,e,n))}return Wx(t,e)}),"PHONE_PROVIDER");return(await s.catch((t=>Promise.reject(t)))).phoneResponseInfo.sessionInfo}}{const e={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Vv(t,e,"sendVerificationCode",(async(t,e)=>{if(e.captchaResponse===Fv){Ty((null===n||void 0===n?void 0:n.type)===Kx,t,"argument-error");return Xv(t,await Qx(t,e,n))}return Xv(t,e)}),"PHONE_PROVIDER");return(await r.catch((t=>Promise.reject(t)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Qx(t,e,n){Ty(n.type===Kx,t,"argument-error");const r=await n.verify();Ty("string"===typeof r,t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const t=i.phoneEnrollmentInfo.phoneNumber,e=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:r,captchaResponse:e,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const t=i.phoneSignInInfo.captchaResponse,e=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:t,clientType:e,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class $x{constructor(t){this.providerId=$x.PROVIDER_ID,this.auth=Pv(t)}verifyPhoneNumber(t,e){return Gx(this.auth,t,Hi(e))}static credential(t,e){return tx._fromVerification(t,e)}static credentialFromResult(t){const e=t;return $x.credentialFromTaggedObject(e)}static credentialFromError(t){return $x.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?tx._fromTokenResponse(n,r):null}}function Yx(t,e){return e?dv(e):(Ty(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}$x.PROVIDER_ID="phone",$x.PHONE_SIGN_IN_METHOD="phone";class Jx extends Kv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yv(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Yv(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Yv(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Xx(t){return gx(t.auth,new Jx(t),t.bypassAuthState)}function Zx(t){const{auth:e,user:n}=t;return Ty(n,e,"internal-error"),mx(n,new Jx(t),t.bypassAuthState)}async function tb(t){const{auth:e,user:n}=t;return Ty(n,e,"internal-error"),fx(n,new Jx(t),t.bypassAuthState)}class eb{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=t;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Xx;case"linkViaPopup":case"linkViaRedirect":return tb;case"reauthViaPopup":case"reauthViaRedirect":return Zx;default:Sy(this.auth,"internal-error")}}resolve(t){Ay(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ay(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nb=new Oy(2e3,1e4);class rb extends eb{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,rb.currentPopupAction&&rb.currentPopupAction.cancel(),rb.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ty(t,this.auth,"internal-error"),t}async onExecution(){Ay(1===this.filter.length,"Popup operations only handle one event");const t=Px();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(ky(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(ky(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rb.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e;null!==(e=this.authWindow)&&void 0!==e&&null!==(e=e.window)&&void 0!==e&&e.closed?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ky(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,nb.get())};t()}}rb.currentPopupAction=null;const ib="pendingRedirect",ob=new Map;class ab extends eb{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=ob.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=cb(e),r=lb(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}ob.set(this.auth._key(),t)}return this.bypassAuthState||ob.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function sb(t,e){ob.set(t._key(),e)}function lb(t){return dv(t._redirectPersistence)}function cb(t){return fv(ib,t.config.apiKey,t.name)}async function ub(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(No(t.app))return Promise.reject(_y(t));const r=Pv(t),i=Yx(r,e),o=new ab(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}class db{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pb(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!pb(t)){var n;const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(ky(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hb(t))}saveEventToCache(t){this.cachedEventUids.add(hb(t)),this.lastProcessedEventTime=Date.now()}}function hb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function pb(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const fb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mb=/^https?/;async function gb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Vy(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const n of e)try{if(yb(n))return}catch{}Sy(t,"unauthorized-domain")}function yb(t){const e=jy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!mb.test(n))return!1;if(fb.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vb=new Oy(3e4,6e4);function xb(){const t=Nx().___jsl;if(null!==t&&void 0!==t&&t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function bb(t){return new Promise(((e,n)=>{var r,i;function o(){xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xb(),n(ky(t,"network-request-failed"))},timeout:vb.get()})}if(null!==(r=Nx().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(i=Nx().gapi)||void 0===i||!i.load){const e=Dv("iframefcb");return Nx()[e]=()=>{gapi.load?o():n(ky(t,"network-request-failed"))},Ov("".concat(Nv.gapiScript,"?onload=").concat(e)).catch((t=>n(t)))}o()}})).catch((t=>{throw wb=null,t}))}let wb=null;const Sb=new Oy(5e3,15e3),kb="__/auth/iframe",Eb="emulator/auth/iframe",_b={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tb(t){const e=t.config;Ty(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dy(e,Eb):"https://".concat(t.config.authDomain,"/").concat(kb),r={apiKey:e.apiKey,appName:t.name,v:Mo},i=Cb.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(zi(r).slice(1))}async function Ib(t){const e=await function(t){return wb=wb||bb(t),wb}(t),n=Nx().gapi;return Ty(n,t,"internal-error"),e.open({where:document.body,url:Tb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_b,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=ky(t,"network-request-failed"),o=Nx().setTimeout((()=>{r(i)}),Sb.get());function a(){Nx().clearTimeout(o),n(e)}e.ping(a).then(a,(()=>{r(i)}))}))))}const Ab={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function Pb(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...Ab,width:r.toString(),height:i.toString(),top:o,left:a},c=ji().toLowerCase();n&&(s=xv(c)?"_blank":n),yv(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((t,e)=>{let[n,r]=e;return"".concat(t).concat(n,"=").concat(r,",")}),"");if(function(){var t;return Ev(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji())&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(c)&&"_self"!==s)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",s),new jb(null);const d=window.open(e||"",s,u);Ty(d,t,"popup-blocked");try{d.focus()}catch(h){}return new jb(d)}const Rb="__/auth/handler",Nb="emulator/auth/handler",Ob=encodeURIComponent("fac");async function Db(t,e,n,r,i,o){Ty(t.config.authDomain,t,"auth-domain-config-required"),Ty(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:i};if(e instanceof rx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(o||{}))a[t]=e}if(e instanceof ix){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(a.scopes=t.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await t._getAppCheckToken(),c=l?"#".concat(Ob,"=").concat(encodeURIComponent(l)):"";return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(Rb);return Dy(e,Nb)}(t),"?").concat(zi(s).slice(1)).concat(c)}const Mb="webStorageSupport";const Lb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ax,this._completeRedirectFn=ub,this._overrideRedirectResult=sb}async _openPopup(t,e,n,r){var i;Ay(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Pb(t,await Db(t,e,n,jy(),r),Px())}async _openRedirect(t,e,n,r){await this._originValidation(t);return function(t){Nx().location.href=t}(await Db(t,e,n,jy(),r)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(Ay(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await Ib(t),n=new db(t);return e.register("authEvent",(e=>{Ty(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Mb,{type:Mb},(n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Mb];void 0!==i&&e(!!i),Sy(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=gb(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Cv()||vv()||Ev()}};var Fb="@firebase/auth",zb="1.12.0";class Ub{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ty(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vb=Si("authIdTokenMaxAge")||300;let qb=null;var Bb;!function(t){Nv=t}({loadJS:t=>new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=ky("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Bb="Browser",Po(new Wi("auth",((t,e)=>{let{options:n}=e;const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Ty(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Bb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tv(Bb)},c=new jv(r,i,o,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dv);null!==e&&void 0!==e&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),Po(new Wi("auth-internal",(t=>(t=>new Ub(t))(Pv(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),zo(Fb,zb,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bb)),zo(Fb,zb,"esm2020");const Hb=Lo({apiKey:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",authDomain:"mypropertymanager-cda42.firebaseapp.com",projectId:"mypropertymanager-cda42",storageBucket:"mypropertymanager-cda42.firebasestorage.app",messagingSenderId:"581187340388",appId:"1:581187340388:web:101496dabb874cbf9a7771"}),Wb=function(t,e){const n="object"==typeof t?t:Fo(),r="string"==typeof t?t:e||bl,i=Ro(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const t=bi("firestore");t&&function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=ts(t,qf);const i=Ei(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s="".concat(e,":").concat(n);i&&(_i("https://".concat(s)),Ai("Firestore",!0)),o.host!==Uf&&o.host!==s&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!Li(l,a)&&(t._setSettings(l),r.mockUserToken)){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=ha.MOCK_USER;else{var c;e=Ci(r.mockUserToken,null===(c=t._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new _a(Ea.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ha(i)}t._authCredentials=new Aa(new Ta(e,n))}}(i,...t)}return i}(Hb),Kb=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();const e=Ro(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=Ro(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(Li(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;Sy(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Lb,persistence:[Hx,Ex,Ax]}),r=Si("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const t=new URL(r,location.origin);if(location.origin===t.origin){const e=(i=t.toString(),async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>Vb)return;const r=null===e||void 0===e?void 0:e.token;qb!==r&&(qb=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(t,e,n){Hi(t).beforeAuthStateChanged(e,n)}(n,e,(()=>e(n.currentUser))),function(t,e,n,r){Hi(t).onIdTokenChanged(e,n,r)}(n,(t=>e(t)))}}var i;const o=xi("auth");return o&&Bv(n,"http://".concat(o)),n}(Hb),Gb=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo(),e=arguments.length>1?arguments[1]:void 0;t=Hi(t);const n=Ro(t,my).getImmediate({identifier:e}),r=bi("storage");return r&&function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.host="".concat(e,":").concat(n);const i=Ei(e);i&&(_i("https://".concat(t.host,"/b")),Ai("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken="string"===typeof o?o:Ci(o,t.app.options.projectId))}(t,e,n,r)}(n,...r),n}(Hb);(function(t,e){return Hi(t).setPersistence(e)})(Kb,Ex).catch((t=>{console.error("Error setting auth persistence:",t)}));const Qb=t=>t.exists()?{id:t.id,...t.data()}:null,$b=di({reducerPath:"api",baseQuery:function(){throw new Error("When using `fakeBaseQuery`, all queries & mutations must use the `queryFn` definition syntax.")},tagTypes:["PropertyGroups","Properties","TeamGroups","TeamMembers","Tasks","Devices","Suites","Units","Favorites","PropertyShares","UserInvitations"],endpoints:t=>({getPropertyGroups:t.query({async queryFn(){try{var t;const e=Kb.currentUser;if(!e)return{error:"User not authenticated"};const n=e.uid,r=Gf(Wb,"users",n),i=null===(t=(await Ym(r)).data())||void 0===t?void 0:t.email,o=Lm(Kf(Wb,"propertyGroups"),zm("userId","==",n)),a=(await Jm(o)).docs.map((t=>({id:t.id,...t.data()}))),s=await Promise.all(a.map((async t=>{const e=Lm(Kf(Wb,"properties"),zm("groupId","==",t.id)),n=(await Jm(e)).docs.map((t=>({id:t.id,...t.data()})));let r=[];if(i){const e=Lm(Kf(Wb,"propertyShares"),zm("sharedWithEmail","==",i)),n=(await Jm(e)).docs.map((t=>({id:t.id,...t.data()}))).map((t=>t.propertyId));if(n.length>0)for(let i=0;i<n.length;i+=10){const e=n.slice(i,i+10),o=Lm(Kf(Wb,"properties"),zm("__name__","in",e)),a=(await Jm(o)).docs.map((t=>({id:t.id,...t.data()}))).filter((e=>e.groupId===t.id));r.push(...a)}}const o=[...n,...r],a=Array.from(new Map(o.map((t=>[t.id,t]))).values());return{...t,properties:a}})));return{data:s}}catch(e){return{error:e.message}}},providesTags:["PropertyGroups","Properties","PropertyShares"]}),getPropertyGroup:t.query({async queryFn(t){try{const e=Gf(Wb,"propertyGroups",t),n=await Ym(e);return{data:Qb(n)}}catch(e){return{error:e.message}}},providesTags:["PropertyGroups"]}),createPropertyGroup:t.mutation({async queryFn(t){try{return{data:{id:(await tg(Kf(Wb,"propertyGroups"),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})).id,...t}}}catch(e){return{error:e.message}}},invalidatesTags:["PropertyGroups"]}),updatePropertyGroup:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"propertyGroups",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:["PropertyGroups"]}),deletePropertyGroup:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"propertyGroups",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["PropertyGroups"]}),getProperties:t.query({async queryFn(){try{var t;const e=Kb.currentUser;if(!e)return{error:"User not authenticated"};const n=e.uid,r=Gf(Wb,"users",n),i=null===(t=(await Ym(r)).data())||void 0===t?void 0:t.email,o=Lm(Kf(Wb,"propertyGroups"),zm("userId","==",n)),a=(await Jm(o)).docs.map((t=>t.id)),s=[];if(a.length>0)for(let t=0;t<a.length;t+=10){const e=a.slice(t,t+10),n=Lm(Kf(Wb,"properties"),zm("groupId","in",e)),r=(await Jm(n)).docs.map((t=>({id:t.id,...t.data()})));s.push(...r)}const l=[];if(i){const t=Lm(Kf(Wb,"propertyShares"),zm("sharedWithEmail","==",i)),e=await Jm(t),n=e.docs.map((t=>({id:t.id,...t.data()}))).map((t=>t.propertyId));if(n.length>0)for(let r=0;r<n.length;r+=10){const t=n.slice(r,r+10),e=Lm(Kf(Wb,"properties"),zm("__name__","in",t)),i=(await Jm(e)).docs.map((t=>({id:t.id,...t.data()})));l.push(...i)}}const c=[...s,...l],u=Array.from(new Map(c.map((t=>[t.id,t]))).values());return{data:u}}catch(e){return{error:e.message}}},providesTags:["Properties","PropertyShares"]}),getProperty:t.query({async queryFn(t){try{const e=Gf(Wb,"properties",t),n=await Ym(e);return{data:Qb(n)}}catch(e){return{error:e.message}}},providesTags:["Properties"]}),createProperty:t.mutation({async queryFn(t){try{return{data:{id:(await tg(Kf(Wb,"properties"),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})).id,...t}}}catch(e){return{error:e.message}}},invalidatesTags:["Properties","PropertyGroups"]}),updateProperty:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"properties",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:["Properties","PropertyGroups"]}),deleteProperty:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"properties",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["Properties","PropertyGroups"]}),getTasks:t.query({async queryFn(){try{const t=Kb.currentUser;if(!t)return{error:"User not authenticated"};const e=t.uid,n=Lm(Kf(Wb,"propertyGroups"),zm("userId","==",e)),r=(await Jm(n)).docs.map((t=>t.id));if(0===r.length)return{data:[]};const i=[];for(let a=0;a<r.length;a+=10){const t=r.slice(a,a+10),e=Lm(Kf(Wb,"properties"),zm("groupId","in",t));(await Jm(e)).docs.forEach((t=>{i.push(t.id)}))}if(0===i.length)return{data:[]};const o=[];for(let a=0;a<i.length;a+=10){const t=i.slice(a,a+10),e=Lm(Kf(Wb,"tasks"),zm("propertyId","in",t)),n=(await Jm(e)).docs.map((t=>({id:t.id,...t.data()})));o.push(...n)}return{data:o}}catch(t){return{error:t.message}}},providesTags:["Tasks"]}),createTask:t.mutation({async queryFn(t){try{return{data:{id:(await tg(Kf(Wb,"tasks"),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})).id,...t}}}catch(e){return{error:e.message}}},invalidatesTags:["Tasks"]}),updateTask:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"tasks",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:["Tasks"]}),deleteTask:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"tasks",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["Tasks"]}),uploadTaskCompletionFile:t.mutation({async queryFn(t){let{taskId:e,file:n}=t;try{const t=Date.now(),i="".concat(t,"_").concat(n.name),o="task-completions/".concat(e,"/").concat(i),a=(r=o,uy(Hi(Gb),r)),s=await function(t,e,n){return ay(t=Hi(t),e,n)}(a,n),l=await function(t){return sy(t=Hi(t))}(s.ref);return{data:{name:n.name,url:l,size:n.size,type:n.type,uploadedAt:(new Date).toISOString()}}}catch(i){return{error:i.message}}var r}}),submitTaskCompletion:t.mutation({async queryFn(t){let{taskId:e,completionDate:n,completionFile:r,completedBy:i}=t;try{const t=Gf(Wb,"tasks",e),o={status:"Awaiting Approval",completionDate:n,completionFile:r,completedBy:i,rejectionReason:void 0,updatedAt:(new Date).toISOString()};return await Xm(t,o),{data:{id:e,...o}}}catch(o){return{error:o.message}}},invalidatesTags:["Tasks"]}),approveTask:t.mutation({async queryFn(t){let{taskId:e,approvedBy:n}=t;try{const t=Gf(Wb,"tasks",e),r=(new Date).toISOString(),i={status:"Completed",approvedBy:n,approvedAt:r,updatedAt:r};return await Xm(t,i),{data:{id:e,...i}}}catch(r){return{error:r.message}}},invalidatesTags:["Tasks"]}),rejectTask:t.mutation({async queryFn(t){let{taskId:e,rejectionReason:n}=t;try{const t=Gf(Wb,"tasks",e),r={status:"Rejected",rejectionReason:n,updatedAt:(new Date).toISOString()};return await Xm(t,r),{data:{id:e,...r}}}catch(r){return{error:r.message}}},invalidatesTags:["Tasks"]}),updateUser:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"users",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:[]}),getTeamGroups:t.query({async queryFn(){try{const t=Kb.currentUser;if(!t)return{error:"User not authenticated"};const e=t.uid,n=Lm(Kf(Wb,"teamGroups"),zm("userId","==",e)),r=await Jm(n);return{data:r.docs.map((t=>({id:t.id,...t.data()})))}}catch(t){return{error:t.message}}},providesTags:["TeamGroups"]}),createTeamGroup:t.mutation({async queryFn(t){try{return{data:{id:(await tg(Kf(Wb,"teamGroups"),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})).id,...t}}}catch(e){return{error:e.message}}},invalidatesTags:["TeamGroups"]}),updateTeamGroup:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"teamGroups",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:["TeamGroups"]}),deleteTeamGroup:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"teamGroups",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["TeamGroups"]}),getTeamMembers:t.query({async queryFn(){try{const t=Kb.currentUser;if(!t)return{error:"User not authenticated"};const e=t.uid,n=Lm(Kf(Wb,"teamGroups"),zm("userId","==",e)),r=(await Jm(n)).docs.map((t=>t.id));if(0===r.length)return{data:[]};const i=[];for(let o=0;o<r.length;o+=10){const t=r.slice(o,o+10),e=Lm(Kf(Wb,"teamMembers"),zm("groupId","in",t)),n=(await Jm(e)).docs.map((t=>({id:t.id,...t.data()})));i.push(...n)}return{data:i}}catch(t){return{error:t.message}}},providesTags:["TeamMembers"]}),createTeamMember:t.mutation({async queryFn(t){try{return{data:{id:(await tg(Kf(Wb,"teamMembers"),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})).id,...t}}}catch(e){return{error:e.message}}},invalidatesTags:["TeamMembers"]}),updateTeamMember:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"teamMembers",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:["TeamMembers"]}),deleteTeamMember:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"teamMembers",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["TeamMembers"]}),getSuites:t.query({async queryFn(t){try{const e=Lm(Kf(Wb,"suites"),zm("propertyId","==",t)),n=await Jm(e);return{data:n.docs.map(Qb)}}catch(e){return{error:e.message}}},providesTags:["Suites"]}),getSuite:t.query({async queryFn(t){try{const e=Gf(Wb,"suites",t),n=await Ym(e);return{data:Qb(n)}}catch(e){return{error:e.message}}},providesTags:["Suites"]}),createSuite:t.mutation({async queryFn(t){try{return{data:{id:(await tg(Kf(Wb,"suites"),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})).id,...t}}}catch(e){return{error:e.message}}},invalidatesTags:["Suites"]}),updateSuite:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"suites",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:["Suites"]}),deleteSuite:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"suites",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["Suites"]}),getUnits:t.query({async queryFn(t){try{const e=Lm(Kf(Wb,"units"),zm("propertyId","==",t)),n=await Jm(e);return{data:n.docs.map(Qb)}}catch(e){return{error:e.message}}},providesTags:["Units"]}),getUnit:t.query({async queryFn(t){try{const e=Gf(Wb,"units",t),n=await Ym(e);return{data:Qb(n)}}catch(e){return{error:e.message}}},providesTags:["Units"]}),createUnit:t.mutation({async queryFn(t){try{return{data:{id:(await tg(Kf(Wb,"units"),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})).id,...t}}}catch(e){return{error:e.message}}},invalidatesTags:["Units"]}),updateUnit:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"units",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:["Units"]}),deleteUnit:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"units",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["Units"]}),getDevices:t.query({async queryFn(t){try{const e=Lm(Kf(Wb,"devices"),zm("location.propertyId","==",t)),n=await Jm(e);return{data:n.docs.map((t=>({id:t.id,...t.data()})))}}catch(e){return{error:e.message}}},providesTags:["Devices"]}),getDevice:t.query({async queryFn(t){try{const e=Gf(Wb,"devices",t),n=await Ym(e);return{data:Qb(n)}}catch(e){return{error:e.message}}},providesTags:["Devices"]}),createDevice:t.mutation({async queryFn(t){try{return{data:{id:(await tg(Kf(Wb,"devices"),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})).id,...t}}}catch(e){return{error:e.message}}},invalidatesTags:["Devices"]}),updateDevice:t.mutation({async queryFn(t){let{id:e,updates:n}=t;try{const t=Gf(Wb,"devices",e);return await Xm(t,{...n,updatedAt:(new Date).toISOString()}),{data:{id:e,...n}}}catch(r){return{error:r.message}}},invalidatesTags:["Devices"]}),deleteDevice:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"devices",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["Devices"]}),getFavorites:t.query({async queryFn(t){try{const e=Lm(Kf(Wb,"favorites"),zm("userId","==",t)),n=(await Jm(e)).docs.map((t=>({id:t.id,...t.data()})));return n.sort(((t,e)=>e.timestamp-t.timestamp)),{data:n}}catch(e){return{error:e.message}}},providesTags:["Favorites"]}),addFavorite:t.mutation({async queryFn(t){let{userId:e,propertyId:n,title:r,slug:i}=t;try{const t=Lm(Kf(Wb,"favorites"),zm("userId","==",e),zm("propertyId","==",n)),o=await Jm(t);if(!o.empty){const t=o.docs[0];return{data:{id:t.id,...t.data()}}}const a={userId:e,propertyId:n,title:r,slug:i,timestamp:Date.now(),createdAt:(new Date).toISOString()};return{data:{id:(await tg(Kf(Wb,"favorites"),a)).id,...a}}}catch(o){return{error:o.message}}},invalidatesTags:["Favorites"]}),removeFavorite:t.mutation({async queryFn(t){let{userId:e,propertyId:n}=t;try{const t=Lm(Kf(Wb,"favorites"),zm("userId","==",e),zm("propertyId","==",n)),r=(await Jm(t)).docs.map((t=>Zm(Gf(Wb,"favorites",t.id))));return await Promise.all(r),{data:void 0}}catch(r){return{error:r.message}}},invalidatesTags:["Favorites"]}),getPropertyShares:t.query({async queryFn(t){try{const e=Lm(Kf(Wb,"propertyShares"),zm("propertyId","==",t)),n=await Jm(e);return{data:n.docs.map((t=>({id:t.id,...t.data()})))}}catch(e){return{error:e.message}}},providesTags:["PropertyShares"]}),getSharedPropertiesForUser:t.query({async queryFn(t){try{var e;const n=Gf(Wb,"users",t),r=null===(e=(await Ym(n)).data())||void 0===e?void 0:e.email;if(!r)return{data:[]};const i=Lm(Kf(Wb,"propertyShares"),zm("sharedWithEmail","==",r)),o=await Jm(i),a=o.docs.map((t=>({id:t.id,...t.data()}))).map((t=>t.propertyId));if(0===a.length)return{data:[]};const s=[];for(let t=0;t<a.length;t+=10){const e=a.slice(t,t+10),n=Lm(Kf(Wb,"properties"),zm("__name__","in",e)),r=(await Jm(n)).docs.map((t=>({id:t.id,...t.data()})));s.push(...r)}return{data:s}}catch(n){return{error:n.message}}},providesTags:["PropertyShares","Properties"]}),createPropertyShare:t.mutation({async queryFn(t){try{const e=(new Date).toISOString(),n={...t,createdAt:e,updatedAt:e};return{data:{id:(await tg(Kf(Wb,"propertyShares"),n)).id,...n}}}catch(e){return{error:e.message}}},invalidatesTags:["PropertyShares","Properties"]}),updatePropertyShare:t.mutation({async queryFn(t){let{id:e,permission:n}=t;try{const t=Gf(Wb,"propertyShares",e);await Xm(t,{permission:n,updatedAt:(new Date).toISOString()});return{data:{id:e,...(await Ym(t)).data()}}}catch(r){return{error:r.message}}},invalidatesTags:["PropertyShares"]}),deletePropertyShare:t.mutation({async queryFn(t){try{return await Zm(Gf(Wb,"propertyShares",t)),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["PropertyShares","Properties"]}),getUserInvitations:t.query({async queryFn(){try{const t=Kb.currentUser;if(!t||!t.email)return{error:"User not authenticated or email not available"};const e=t.email,n=Lm(Kf(Wb,"userInvitations"),zm("toEmail","==",e),zm("status","==","pending")),r=await Jm(n);return{data:r.docs.map((t=>({id:t.id,...t.data()})))}}catch(t){return{error:t.message}}},providesTags:["UserInvitations"]}),sendInvitation:t.mutation({async queryFn(t){try{const e=new Date,n=new Date(e.getTime()+6048e5),r={...t,status:"pending",createdAt:e.toISOString(),expiresAt:n.toISOString()};return{data:{id:(await tg(Kf(Wb,"userInvitations"),r)).id,...r}}}catch(e){return{error:e.message}}},invalidatesTags:["UserInvitations"]}),acceptInvitation:t.mutation({async queryFn(t){let{invitationId:e,userId:n}=t;try{var r;const t=Gf(Wb,"userInvitations",e),i=await Ym(t),o={id:i.id,...i.data()},a=Gf(Wb,"users",n),s=null===(r=(await Ym(a)).data())||void 0===r?void 0:r.email;if(!s)return{error:"User email not found"};const l=(new Date).toISOString(),c={propertyId:o.propertyId,ownerId:o.fromUserId,sharedWithUserId:n,sharedWithEmail:s,permission:o.permission,createdAt:l,updatedAt:l},u=await tg(Kf(Wb,"propertyShares"),c);return await Xm(t,{status:"accepted"}),{data:{id:u.id,...c}}}catch(i){return{error:i.message}}},invalidatesTags:["UserInvitations","PropertyShares","Properties"]}),rejectInvitation:t.mutation({async queryFn(t){try{const e=Gf(Wb,"userInvitations",t);return await Xm(e,{status:"rejected"}),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["UserInvitations"]}),cancelInvitation:t.mutation({async queryFn(t){try{const e=Gf(Wb,"userInvitations",t);return await Zm(e),{data:void 0}}catch(e){return{error:e.message}}},invalidatesTags:["UserInvitations"]}),getPropertyInvitations:t.query({async queryFn(t){try{const e=Lm(Kf(Wb,"userInvitations"),zm("propertyId","==",t),zm("status","==","pending")),n=await Jm(e);return{data:n.docs.map((t=>({id:t.id,...t.data()})))}}catch(e){return{error:e.message}}},providesTags:["UserInvitations"]})})}),{useGetPropertyGroupsQuery:Yb,useGetPropertyGroupQuery:Jb,useCreatePropertyGroupMutation:Xb,useUpdatePropertyGroupMutation:Zb,useDeletePropertyGroupMutation:tw,useGetPropertiesQuery:ew,useGetPropertyQuery:nw,useCreatePropertyMutation:rw,useUpdatePropertyMutation:iw,useDeletePropertyMutation:ow,useGetTasksQuery:aw,useCreateTaskMutation:sw,useUpdateTaskMutation:lw,useDeleteTaskMutation:cw,useUploadTaskCompletionFileMutation:uw,useSubmitTaskCompletionMutation:dw,useApproveTaskMutation:hw,useRejectTaskMutation:pw,useUpdateUserMutation:fw,useGetTeamGroupsQuery:mw,useCreateTeamGroupMutation:gw,useUpdateTeamGroupMutation:yw,useDeleteTeamGroupMutation:vw,useGetTeamMembersQuery:xw,useCreateTeamMemberMutation:bw,useUpdateTeamMemberMutation:ww,useDeleteTeamMemberMutation:Sw,useGetSuitesQuery:kw,useGetSuiteQuery:Ew,useCreateSuiteMutation:_w,useUpdateSuiteMutation:Cw,useDeleteSuiteMutation:Tw,useGetUnitsQuery:Iw,useGetUnitQuery:Aw,useCreateUnitMutation:jw,useUpdateUnitMutation:Pw,useDeleteUnitMutation:Rw,useGetDevicesQuery:Nw,useGetDeviceQuery:Ow,useCreateDeviceMutation:Dw,useUpdateDeviceMutation:Mw,useDeleteDeviceMutation:Lw,useGetFavoritesQuery:Fw,useAddFavoriteMutation:zw,useRemoveFavoriteMutation:Uw,useGetPropertySharesQuery:Vw,useGetSharedPropertiesForUserQuery:qw,useCreatePropertyShareMutation:Bw,useUpdatePropertyShareMutation:Hw,useDeletePropertyShareMutation:Ww,useGetUserInvitationsQuery:Kw,useSendInvitationMutation:Gw,useAcceptInvitationMutation:Qw,useRejectInvitationMutation:$w,useCancelInvitationMutation:Yw,useGetPropertyInvitationsQuery:Jw}=$b,Xw=function(t){var e,n=xe(),r=t||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,h=r.enhancers,p=void 0===h?void 0:h;if("function"===typeof o)e=o;else{if(!pe(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=Gt(o)}var f=s;"function"===typeof f&&(f=f(n));var m=$t.apply(void 0,f),g=Qt;c&&(g=he(ce({trace:!1},"object"===typeof c&&c)));var y=new ye(m),v=y;return Array.isArray(p)?v=ee([m],p):"function"===typeof p&&(v=p(y)),Kt(e,d,g.apply(void 0,v))}({reducer:{user:$e,[$b.reducerPath]:$b.reducer,navigation:tn,propertyData:fn,team:_n,maintenanceRequests:Rn},middleware:t=>t().concat($b.middleware)});function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}var tS;!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(tS||(tS={}));const eS="popstate";function nS(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function rS(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function iS(t,e){return{usr:t.state,key:t.key,idx:e}}function oS(t,e,n,r){return void 0===n&&(n=null),Zw({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?sS(e):e,{state:n,key:e&&e.key||r||Math.random().toString(36).substr(2,8)})}function aS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function sS(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lS(t,e,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=tS.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){s=tS.Pop;let t=u(),e=null==t?null:t-c;c=t,l&&l({action:s,location:p.location,delta:e})}function h(t){let e="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof t?t:aS(t);return n=n.replace(/ $/,"%20"),nS(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==c&&(c=0,a.replaceState(Zw({},a.state,{idx:c}),""));let p={get action(){return s},get location(){return t(i,a)},listen(t){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eS,d),l=t,()=>{i.removeEventListener(eS,d),l=null}},createHref:t=>e(i,t),createURL:h,encodeLocation(t){let e=h(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){s=tS.Push;let r=oS(p.location,t,e);n&&n(r,t),c=u()+1;let d=iS(r,c),h=p.createHref(r);try{a.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:s,location:p.location,delta:1})},replace:function(t,e){s=tS.Replace;let r=oS(p.location,t,e);n&&n(r,t),c=u();let i=iS(r,c),d=p.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:p.location,delta:0})},go:t=>a.go(t)};return p}var cS;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(cS||(cS={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function uS(t,e,n){return void 0===n&&(n="/"),dS(t,e,n,!1)}function dS(t,e,n,r){let i=_S(("string"===typeof e?sS(e):e).pathname||"/",n);if(null==i)return null;let o=hS(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let t=ES(i);a=SS(o[s],t,r)}return a}function hS(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,o)=>{let a={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(nS(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=NS([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(nS(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),hS(t.children,e,l,s)),(null!=t.path||t.index)&&e.push({path:s,score:wS(s,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let r of pS(t.path))i(t,e,r);else i(t,e)})),e}function pS(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=pS(r.join("/")),s=[];return s.push(...a.map((t=>""===t?o:[o,t].join("/")))),i&&s.push(...a),s.map((e=>t.startsWith("/")&&""===e?"/":e))}const fS=/^:[\w-]+$/,mS=3,gS=2,yS=1,vS=10,xS=-2,bS=t=>"*"===t;function wS(t,e){let n=t.split("/"),r=n.length;return n.some(bS)&&(r+=xS),e&&(r+=gS),n.filter((t=>!bS(t))).reduce(((t,e)=>t+(fS.test(e)?mS:""===e?yS:vS)),r)}function SS(t,e,n){void 0===n&&(n=!1);let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let t=r[s],l=s===r.length-1,c="/"===o?e:e.slice(o.length)||"/",u=kS({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),d=t.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=kS({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:NS([o,u.pathname]),pathnameBase:OS(NS([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=NS([o,u.pathnameBase]))}return a}function kS(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);rS("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=s[n]||"";a=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const l=s[n];return t[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{}),pathname:o,pathnameBase:a,pattern:t}}function ES(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return rS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function _S(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}const CS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TS=t=>CS.test(t);function IS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}function AS(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function jS(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function PS(t,e){let n=jS(t);return e?n.map(((t,e)=>e===n.length-1?t.pathname:t.pathnameBase)):n.map((t=>t.pathnameBase))}function RS(t,e,n,r){let i;void 0===r&&(r=!1),"string"===typeof t?i=sS(t):(i=Zw({},t),nS(!i.pathname||!i.pathname.includes("?"),AS("?","pathname","search",i)),nS(!i.pathname||!i.pathname.includes("#"),AS("#","pathname","hash",i)),nS(!i.search||!i.search.includes("#"),AS("#","search","hash",i)));let o,a=""===t||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let t=e.length-1;if(!r&&s.startsWith("..")){let e=s.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}o=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let n,{pathname:r,search:i="",hash:o=""}="string"===typeof t?sS(t):t;if(r)if(TS(r))n=r;else{if(r.includes("//")){let t=r;r=r.replace(/\/\/+/g,"/"),rS(!1,"Pathnames cannot have embedded double slashes - normalizing "+t+" -> "+r)}n=r.startsWith("/")?IS(r.substring(1),"/"):IS(r,e)}else n=e;return{pathname:n,search:DS(i),hash:MS(o)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const NS=t=>t.join("/").replace(/\/\/+/g,"/"),OS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DS=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",MS=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function LS(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const FS=["post","put","patch","delete"],zS=(new Set(FS),["get",...FS]);new Set(zS),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},US.apply(this,arguments)}const VS=t.createContext(null);const qS=t.createContext(null);const BS=t.createContext(null);const HS=t.createContext(null);const WS=t.createContext({outlet:null,matches:[],isDataRoute:!1});const KS=t.createContext(null);function GS(){return null!=t.useContext(HS)}function QS(){return GS()||nS(!1),t.useContext(HS).location}function $S(e){t.useContext(BS).static||t.useLayoutEffect(e)}function YS(){let{isDataRoute:e}=t.useContext(WS);return e?function(){let{router:e}=lk(ak.UseNavigateStable),n=uk(sk.UseNavigateStable),r=t.useRef(!1);return $S((()=>{r.current=!0})),t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,US({fromRouteId:n},i)))}),[e,n])}():function(){GS()||nS(!1);let e=t.useContext(VS),{basename:n,future:r,navigator:i}=t.useContext(BS),{matches:o}=t.useContext(WS),{pathname:a}=QS(),s=JSON.stringify(PS(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return $S((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=RS(t,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:NS([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,s,a,e])}()}const JS=t.createContext(null);function XS(){let{matches:e}=t.useContext(WS),n=e[e.length-1];return n?n.params:{}}function ZS(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(BS),{matches:o}=t.useContext(WS),{pathname:a}=QS(),s=JSON.stringify(PS(o,i.v7_relativeSplatPath));return t.useMemo((()=>RS(e,JSON.parse(s),a,"path"===r)),[e,s,a,r])}function tk(e,n,r,i){GS()||nS(!1);let{navigator:o}=t.useContext(BS),{matches:a}=t.useContext(WS),s=a[a.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,d=QS();if(n){var h;let t="string"===typeof n?sS(n):n;"/"===c||(null==(h=t.pathname)?void 0:h.startsWith(c))||nS(!1),u=t}else u=d;let p=u.pathname||"/",f=p;if("/"!==c){let t=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(t.length).join("/")}let m=uS(e,{pathname:f});let g=ok(m&&m.map((t=>Object.assign({},t,{params:Object.assign({},l,t.params),pathname:NS([c,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?c:NS([c,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,r,i);return n&&g?t.createElement(HS.Provider,{value:{location:US({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tS.Pop}},g):g}function ek(){let e=function(){var e;let n=t.useContext(KS),r=ck(sk.UseRouteError),i=uk(sk.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=LS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const nk=t.createElement(ek,null);class rk extends t.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?t.createElement(WS.Provider,{value:this.props.routeContext},t.createElement(KS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ik(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(VS);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(WS.Provider,{value:n},i)}function ok(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let t=s.findIndex((t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id])));t>=0||nS(!1),s=s.slice(0,Math.min(s.length,t+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,d=!1,h=null,p=null;var f;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||nk,c&&(u<0&&0===o?(f="route-fallback",!1||dk[f]||(dk[f]=!0),d=!0,p=null):u===o&&(d=!0,p=i.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,o+1)),g=()=>{let n;return n=a?h:d?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ik,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(rk,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ak=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ak||{}),sk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sk||{});function lk(e){let n=t.useContext(VS);return n||nS(!1),n}function ck(e){let n=t.useContext(qS);return n||nS(!1),n}function uk(e){let n=function(e){let n=t.useContext(WS);return n||nS(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||nS(!1),r.route.id}const dk={};const hk=(t,e,n)=>{};function pk(t,e){void 0===(null==t?void 0:t.v7_startTransition)&&hk("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==t?void 0:t.v7_relativeSplatPath)||e&&void 0!==e.v7_relativeSplatPath||hk("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(void 0===e.v7_fetcherPersist&&hk("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===e.v7_normalizeFormMethod&&hk("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===e.v7_partialHydration&&hk("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===e.v7_skipActionErrorRevalidation&&hk("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}e.startTransition;function fk(e){let{to:n,replace:r,state:i,relative:o}=e;GS()||nS(!1);let{future:a,static:s}=t.useContext(BS),{matches:l}=t.useContext(WS),{pathname:c}=QS(),u=YS(),d=RS(n,PS(l,a.v7_relativeSplatPath),c,"path"===o),h=JSON.stringify(d);return t.useEffect((()=>u(JSON.parse(h),{replace:r,state:i,relative:o})),[u,h,o,r,i]),null}function mk(e){return function(e){let n=t.useContext(WS).outlet;return n?t.createElement(JS.Provider,{value:e},n):n}(e.context)}function gk(t){nS(!1)}function yk(e){let{basename:n="/",children:r=null,location:i,navigationType:o=tS.Pop,navigator:a,static:s=!1,future:l}=e;GS()&&nS(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:a,static:s,future:US({v7_relativeSplatPath:!1},l)})),[c,l,a,s]);"string"===typeof i&&(i=sS(i));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:m="default"}=i,g=t.useMemo((()=>{let t=_S(d,c);return null==t?null:{location:{pathname:t,search:h,hash:p,state:f,key:m},navigationType:o}}),[c,d,h,p,f,m,o]);return null==g?null:t.createElement(BS.Provider,{value:u},t.createElement(HS.Provider,{children:r,value:g}))}function vk(t){let{children:e,location:n}=t;return tk(xk(e),n)}new Promise((()=>{}));t.Component;function xk(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,xk(e.props.children,o));e.type!==gk&&nS(!1),e.props.index&&e.props.children&&nS(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xk(e.props.children,o)),r.push(a)})),r}function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bk.apply(this,arguments)}function wk(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Sk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(GQ){}new Map;const kk=e.startTransition;l.flushSync,e.useId;function Ek(e){let{basename:n,children:r,future:i,window:o}=e,a=t.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),lS((function(t,e){let{pathname:n="/",search:r="",hash:i=""}=sS(t.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),oS("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){let n=t.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");r=-1===n?e:e.slice(0,n)}return r+"#"+("string"===typeof e?e:aS(e))}),(function(t,e){rS("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(e)+")")}),s)));let l=a.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((t=>{d&&kk?kk((()=>u(t))):u(t)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.useEffect((()=>pk(i)),[i]),t.createElement(yk,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const _k="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ck=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tk=t.forwardRef((function(e,n){let r,{onClick:i,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=wk(e,Sk),{basename:f}=t.useContext(BS),m=!1;if("string"===typeof u&&Ck.test(u)&&(r=u,_k))try{let t=new URL(window.location.href),e=u.startsWith("//")?new URL(t.protocol+u):new URL(u),n=_S(e.pathname,f);e.origin===t.origin&&null!=n?u=n+e.search+e.hash:m=!0}catch(GQ){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;GS()||nS(!1);let{basename:i,navigator:o}=t.useContext(BS),{hash:a,pathname:s,search:l}=ZS(e,{relative:r}),c=s;return"/"!==i&&(c="/"===s?i:NS([i,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),y=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===n?{}:n,c=YS(),u=QS(),d=ZS(e,{relative:s});return t.useCallback((t=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(t,r)){t.preventDefault();let n=void 0!==i?i:aS(u)===aS(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}}),[u,c,d,i,o,r,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:o,viewTransition:h});return t.createElement("a",bk({},p,{href:r||g,onClick:m||a?i:function(t){i&&i(t),t.defaultPrevented||y(t)},ref:n,target:c}))}));var Ik,Ak;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ik||(Ik={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Ak||(Ak={}));var jk=n(579);const Pk=()=>(0,jk.jsx)("div",{children:(0,jk.jsxs)("p",{children:["Opps, you took a wrong turn. Go back ",(0,jk.jsx)("a",{href:"/",children:"home"})]})});function Rk(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Nk=function(){return Nk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Nk.apply(this,arguments)};Object.create;function Ok(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Dk="-ms-",Mk="-moz-",Lk="-webkit-",Fk="comm",zk="rule",Uk="decl",Vk="@import",qk="@namespace",Bk="@keyframes",Hk="@layer",Wk=Math.abs,Kk=String.fromCharCode,Gk=Object.assign;function Qk(t){return t.trim()}function $k(t,e){return(t=e.exec(t))?t[0]:t}function Yk(t,e,n){return t.replace(e,n)}function Jk(t,e,n){return t.indexOf(e,n)}function Xk(t,e){return 0|t.charCodeAt(e)}function Zk(t,e,n){return t.slice(e,n)}function tE(t){return t.length}function eE(t){return t.length}function nE(t,e){return e.push(t),t}function rE(t,e){return t.filter((function(t){return!$k(t,e)}))}var iE=1,oE=1,aE=0,sE=0,lE=0,cE="";function uE(t,e,n,r,i,o,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:iE,column:oE,length:a,return:"",siblings:s}}function dE(t,e){return Gk(uE("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function hE(t){for(;t.root;)t=dE(t.root,{children:[t]});nE(t,t.siblings)}function pE(){return lE=sE>0?Xk(cE,--sE):0,oE--,10===lE&&(oE=1,iE--),lE}function fE(){return lE=sE<aE?Xk(cE,sE++):0,oE++,10===lE&&(oE=1,iE++),lE}function mE(){return Xk(cE,sE)}function gE(){return sE}function yE(t,e){return Zk(cE,t,e)}function vE(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xE(t){return iE=oE=1,aE=tE(cE=t),sE=0,[]}function bE(t){return cE="",t}function wE(t){return Qk(yE(sE-1,EE(91===t?t+2:40===t?t+1:t)))}function SE(t){for(;(lE=mE())&&lE<33;)fE();return vE(t)>2||vE(lE)>3?"":" "}function kE(t,e){for(;--e&&fE()&&!(lE<48||lE>102||lE>57&&lE<65||lE>70&&lE<97););return yE(t,gE()+(e<6&&32==mE()&&32==fE()))}function EE(t){for(;fE();)switch(lE){case t:return sE;case 34:case 39:34!==t&&39!==t&&EE(lE);break;case 40:41===t&&EE(t);break;case 92:fE()}return sE}function _E(t,e){for(;fE()&&t+lE!==57&&(t+lE!==84||47!==mE()););return"/*"+yE(e,sE-1)+"*"+Kk(47===t?t:fE())}function CE(t){for(;!vE(mE());)fE();return yE(t,sE)}function TE(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function IE(t,e,n,r){switch(t.type){case Hk:if(t.children.length)break;case Vk:case qk:case Uk:return t.return=t.return||t.value;case Fk:return"";case Bk:return t.return=t.value+"{"+TE(t.children,r)+"}";case zk:if(!tE(t.value=t.props.join(",")))return""}return tE(n=TE(t.children,r))?t.return=t.value+"{"+n+"}":""}function AE(t,e,n){switch(function(t,e){return 45^Xk(t,0)?(((e<<2^Xk(t,0))<<2^Xk(t,1))<<2^Xk(t,2))<<2^Xk(t,3):0}(t,e)){case 5103:return Lk+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return Lk+t+t;case 4855:return Lk+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return Mk+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Lk+t+Mk+t+Dk+t+t;case 5936:switch(Xk(t,e+11)){case 114:return Lk+t+Dk+Yk(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Lk+t+Dk+Yk(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Lk+t+Dk+Yk(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Lk+t+Dk+t+t;case 6165:return Lk+t+Dk+"flex-"+t+t;case 5187:return Lk+t+Yk(t,/(\w+).+(:[^]+)/,Lk+"box-$1$2"+Dk+"flex-$1$2")+t;case 5443:return Lk+t+Dk+"flex-item-"+Yk(t,/flex-|-self/g,"")+($k(t,/flex-|baseline/)?"":Dk+"grid-row-"+Yk(t,/flex-|-self/g,""))+t;case 4675:return Lk+t+Dk+"flex-line-pack"+Yk(t,/align-content|flex-|-self/g,"")+t;case 5548:return Lk+t+Dk+Yk(t,"shrink","negative")+t;case 5292:return Lk+t+Dk+Yk(t,"basis","preferred-size")+t;case 6060:return Lk+"box-"+Yk(t,"-grow","")+Lk+t+Dk+Yk(t,"grow","positive")+t;case 4554:return Lk+Yk(t,/([^-])(transform)/g,"$1"+Lk+"$2")+t;case 6187:return Yk(Yk(Yk(t,/(zoom-|grab)/,Lk+"$1"),/(image-set)/,Lk+"$1"),t,"")+t;case 5495:case 3959:return Yk(t,/(image-set\([^]*)/,Lk+"$1$`$1");case 4968:return Yk(Yk(t,/(.+:)(flex-)?(.*)/,Lk+"box-pack:$3"+Dk+"flex-pack:$3"),/space-between/,"justify")+Lk+t+t;case 4200:if(!$k(t,/flex-|baseline/))return Dk+"grid-column-align"+Zk(t,e)+t;break;case 2592:case 3360:return Dk+Yk(t,"template-","")+t;case 4384:case 3616:return n&&n.some((function(t,n){return e=n,$k(t.props,/grid-\w+-end/)}))?~Jk(t+(n=n[e].value),"span",0)?t:Dk+Yk(t,"-start","")+t+Dk+"grid-row-span:"+(~Jk(n,"span",0)?$k(n,/\d+/):+$k(n,/\d+/)-+$k(t,/\d+/))+";":Dk+Yk(t,"-start","")+t;case 4896:case 4128:return n&&n.some((function(t){return $k(t.props,/grid-\w+-start/)}))?t:Dk+Yk(Yk(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Yk(t,/(.+)-inline(.+)/,Lk+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tE(t)-1-e>6)switch(Xk(t,e+1)){case 109:if(45!==Xk(t,e+4))break;case 102:return Yk(t,/(.+:)(.+)-([^]+)/,"$1"+Lk+"$2-$3$1"+Mk+(108==Xk(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Jk(t,"stretch",0)?AE(Yk(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Yk(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(e,n,r,i,o,a,s){return Dk+n+":"+r+s+(i?Dk+n+"-span:"+(o?a:+a-+r)+s:"")+t}));case 4949:if(121===Xk(t,e+6))return Yk(t,":",":"+Lk)+t;break;case 6444:switch(Xk(t,45===Xk(t,14)?18:11)){case 120:return Yk(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Lk+(45===Xk(t,14)?"inline-":"")+"box$3$1"+Lk+"$2$3$1"+Dk+"$2box$3")+t;case 100:return Yk(t,":",":"+Dk)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Yk(t,"scroll-","scroll-snap-")+t}return t}function jE(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Uk:return void(t.return=AE(t.value,t.length,n));case Bk:return TE([dE(t,{value:Yk(t.value,"@","@"+Lk)})],r);case zk:if(t.length)return function(t,e){return t.map(e).join("")}(n=t.props,(function(e){switch($k(e,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":hE(dE(t,{props:[Yk(e,/:(read-\w+)/,":"+Mk+"$1")]})),hE(dE(t,{props:[e]})),Gk(t,{props:rE(n,r)});break;case"::placeholder":hE(dE(t,{props:[Yk(e,/:(plac\w+)/,":"+Lk+"input-$1")]})),hE(dE(t,{props:[Yk(e,/:(plac\w+)/,":"+Mk+"$1")]})),hE(dE(t,{props:[Yk(e,/:(plac\w+)/,Dk+"input-$1")]})),hE(dE(t,{props:[e]})),Gk(t,{props:rE(n,r)})}return""}))}}function PE(t){return bE(RE("",null,null,null,[""],t=xE(t),0,[0],t))}function RE(t,e,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,y=1,v=0,x="",b=i,w=o,S=r,k=x;g;)switch(f=v,v=fE()){case 40:if(108!=f&&58==Xk(k,d-1)){-1!=Jk(k+=Yk(wE(v),"&","&\f"),"&\f",Wk(c?s[c-1]:0))&&(y=-1);break}case 34:case 39:case 91:k+=wE(v);break;case 9:case 10:case 13:case 32:k+=SE(f);break;case 92:k+=kE(gE()-1,7);continue;case 47:switch(mE()){case 42:case 47:nE(OE(_E(fE(),gE()),e,n,l),l),5!=vE(f||1)&&5!=vE(mE()||1)||!tE(k)||" "===Zk(k,-1,void 0)||(k+=" ");break;default:k+="/"}break;case 123*m:s[c++]=tE(k)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(k=Yk(k,/\f/g,"")),p>0&&(tE(k)-d||0===m&&47===f)&&nE(p>32?DE(k+";",r,n,d-1,l):DE(Yk(k," ","")+";",r,n,d-2,l),l);break;case 59:k+=";";default:if(nE(S=NE(k,e,n,c,u,i,s,x,b=[],w=[],d,o),o),123===v)if(0===u)RE(k,e,S,S,b,o,d,s,w);else{switch(h){case 99:if(110===Xk(k,3))break;case 108:if(97===Xk(k,2))break;default:u=0;case 100:case 109:case 115:}u?RE(t,S,S,r&&nE(NE(t,S,S,0,0,i,s,x,i,b=[],d,w),w),i,w,d,s,r?b:w):RE(k,S,S,S,[""],w,0,s,w)}}c=u=p=0,m=y=1,x=k="",d=a;break;case 58:d=1+tE(k),p=f;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==pE())continue;switch(k+=Kk(v),v*m){case 38:y=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(tE(k)-1)*y,y=1;break;case 64:45===mE()&&(k+=wE(fE())),h=mE(),u=d=tE(x=k+=CE(gE())),v++;break;case 45:45===f&&2==tE(k)&&(m=0)}}return o}function NE(t,e,n,r,i,o,a,s,l,c,u,d){for(var h=i-1,p=0===i?o:[""],f=eE(p),m=0,g=0,y=0;m<r;++m)for(var v=0,x=Zk(t,h+1,h=Wk(g=a[m])),b=t;v<f;++v)(b=Qk(g>0?p[v]+" "+x:Yk(x,/&\f/g,p[v])))&&(l[y++]=b);return uE(t,e,n,0===i?zk:s,l,c,u,d)}function OE(t,e,n,r){return uE(t,e,n,Fk,Kk(lE),Zk(t,2,-2),0,r)}function DE(t,e,n,r,i){return uE(t,e,n,Uk,Zk(t,0,r),Zk(t,r+1,-1),r,i)}var ME={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},LE="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}&&({NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.SC_ATTR)||"data-styled",FE="active",zE="data-styled-version",UE="6.3.8",VE="/*!sc*/\n",qE="undefined"!=typeof window&&"undefined"!=typeof document,BE=void 0===t.createContext,HE=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/propertyManagerWebApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAspPUj4ErpPSjOteHsbRqFfCr4KtWx25k",REACT_APP_FIREBASE_APP_ID:"1:581187340388:web:101496dabb874cbf9a7771",REACT_APP_FIREBASE_AUTH_DOMAIN:"mypropertymanager-cda42.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"581187340388",REACT_APP_FIREBASE_PROJECT_ID:"mypropertymanager-cda42",REACT_APP_FIREBASE_STORAGE_BUCKET:"mypropertymanager-cda42.firebasestorage.app"}.SC_DISABLE_SPEEDY)),WE={},KE=(new Set,Object.freeze([])),GE=Object.freeze({});function QE(t,e,n){return void 0===n&&(n=GE),t.theme!==n.theme&&t.theme||e||n.theme}var $E=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),YE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,JE=/(^-|-$)/g;function XE(t){return t.replace(YE,"-").replace(JE,"")}var ZE=/(a)(d)/gi,t_=function(t){return String.fromCharCode(t+(t>25?39:97))};function e_(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=t_(e%52)+n;return(t_(e%52)+n).replace(ZE,"$1-$2")}var n_,r_=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},i_=function(t){return r_(5381,t)};function o_(t){return e_(i_(t)>>>0)}function a_(t){return t.displayName||t.name||"Component"}function s_(t){return"string"==typeof t&&!0}var l_="function"==typeof Symbol&&Symbol.for,c_=l_?Symbol.for("react.memo"):60115,u_=l_?Symbol.for("react.forward_ref"):60112,d_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},h_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},p_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f_=((n_={})[u_]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n_[c_]=p_,n_);function m_(t){return("type"in(e=t)&&e.type.$$typeof)===c_?p_:"$$typeof"in t?f_[t.$$typeof]:d_;var e}var g_=Object.defineProperty,y_=Object.getOwnPropertyNames,v_=Object.getOwnPropertySymbols,x_=Object.getOwnPropertyDescriptor,b_=Object.getPrototypeOf,w_=Object.prototype;function S_(t,e,n){if("string"!=typeof e){if(w_){var r=b_(e);r&&r!==w_&&S_(t,r,n)}var i=y_(e);v_&&(i=i.concat(v_(e)));for(var o=m_(t),a=m_(e),s=0;s<i.length;++s){var l=i[s];if(!(l in h_||n&&n[l]||a&&l in a||o&&l in o)){var c=x_(e,l);try{g_(t,l,c)}catch(t){}}}}return t}function k_(t){return"function"==typeof t}function E_(t){return"object"==typeof t&&"styledComponentId"in t}function __(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function C_(t,e){if(0===t.length)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function T_(t){return null!==t&&"object"==typeof t&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function I_(t,e,n){if(void 0===n&&(n=!1),!n&&!T_(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=I_(t[r],e[r]);else if(T_(e))for(var r in e)t[r]=I_(t[r],e[r]);return t}function A_(t,e){Object.defineProperty(t,"toString",{value:e})}function j_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var P_=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return t.prototype.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},t.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)if((i<<=1)<0)throw j_(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),s=(o=0,e.length);o<s;o++)this.tag.insertRule(a,e[o])&&(this.groupSizes[t]++,a++)},t.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,o=r;o<i;o++)e+="".concat(this.tag.getRule(o)).concat(VE);return e},t}(),R_=new Map,N_=new Map,O_=1,D_=function(t){if(R_.has(t))return R_.get(t);for(;N_.has(O_);)O_++;var e=O_++;return R_.set(t,e),N_.set(e,t),e},M_=function(t,e){O_=e+1,R_.set(t,e),N_.set(e,t)},L_="style[".concat(LE,"][").concat(zE,'="').concat(UE,'"]'),F_=new RegExp("^".concat(LE,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),z_=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},U_=function(t,e){for(var n,r=(null!==(n=e.textContent)&&void 0!==n?n:"").split(VE),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(F_);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(M_(u,c),z_(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}},V_=function(t){for(var e=document.querySelectorAll(L_),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(LE)!==FE&&(U_(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function q_(){return n.nc}var B_=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){var e=Array.from(t.querySelectorAll("style[".concat(LE,"]")));return e[e.length-1]}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(LE,FE),r.setAttribute(zE,UE);var a=q_();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},H_=function(){function t(t){this.element=B_(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}throw j_(17)}(this.element),this.length=0}return t.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},t.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},t.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},t}(),W_=function(){function t(t){this.element=B_(t),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},t.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),K_=function(){function t(t){this.rules=[],this.length=0}return t.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},t.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},t.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),G_=qE,Q_={isServer:!qE,useCSSOMInjection:!HE},$_=function(){function t(t,e,n){void 0===t&&(t=GE),void 0===e&&(e={});var r=this;this.options=Nk(Nk({},Q_),t),this.gs=e,this.names=new Map(n),this.server=!!t.isServer,!this.server&&qE&&G_&&(G_=!1,V_(this)),A_(this,(function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=function(n){var i=function(t){return N_.get(t)}(n);if(void 0===i)return"continue";var o=t.names.get(i),a=e.getGroup(n);if(void 0===o||!o.size||0===a.length)return"continue";var s="".concat(LE,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==o&&o.forEach((function(t){t.length>0&&(l+="".concat(t,","))})),r+="".concat(a).concat(s,'{content:"').concat(l,'"}').concat(VE)},o=0;o<n;o++)i(o);return r}(r)}))}return t.registerId=function(t){return D_(t)},t.prototype.rehydrate=function(){!this.server&&qE&&V_(this)},t.prototype.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(Nk(Nk({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(t=function(t){var e=t.useCSSOMInjection,n=t.target;return t.isServer?new K_(n):e?new H_(n):new W_(n)}(this.options),new P_(t)));var t},t.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},t.prototype.registerName=function(t,e){if(D_(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},t.prototype.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(D_(t),n)},t.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},t.prototype.clearRules=function(t){this.getTag().clearGroup(D_(t)),this.clearNames(t)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Y_=/&/g,J_=47;function X_(t){if(-1===t.indexOf("}"))return!1;for(var e=t.length,n=0,r=0,i=!1,o=0;o<e;o++){var a=t.charCodeAt(o);if(0!==r||i||a!==J_||42!==t.charCodeAt(o+1))if(i)42===a&&t.charCodeAt(o+1)===J_&&(i=!1,o++);else if(34!==a&&39!==a||0!==o&&92===t.charCodeAt(o-1)){if(0===r)if(123===a)n++;else if(125===a&&--n<0)return!0}else 0===r?r=a:r===a&&(r=0);else i=!0,o++}return 0!==n||0!==r}function Z_(t,e){return t.map((function(t){return"rule"===t.type&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map((function(t){return"".concat(e," ").concat(t)}))),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=Z_(t.children,e)),t}))}function tC(t){var e,n,r,i=void 0===t?GE:t,o=i.options,a=void 0===o?GE:o,s=i.plugins,l=void 0===s?KE:s,c=function(t,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(e):t},u=l.slice();u.push((function(t){t.type===zk&&t.value.includes("&")&&(t.props[0]=t.props[0].replace(Y_,n).replace(r,c))})),a.prefix&&u.push(jE),u.push(IE);var d=function(t,i,o,s){void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s="&"),e=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=function(t){if(!X_(t))return t;for(var e=t.length,n="",r=0,i=0,o=0,a=!1,s=0;s<e;s++){var l=t.charCodeAt(s);if(0!==o||a||l!==J_||42!==t.charCodeAt(s+1))if(a)42===l&&t.charCodeAt(s+1)===J_&&(a=!1,s++);else if(34!==l&&39!==l||0!==s&&92===t.charCodeAt(s-1)){if(0===o)if(123===l)i++;else if(125===l){if(--i<0){for(var c=s+1;c<e;){var u=t.charCodeAt(c);if(59===u||10===u)break;c++}c<e&&59===t.charCodeAt(c)&&c++,i=0,s=c-1,r=c;continue}0===i&&(n+=t.substring(r,s+1),r=s+1)}else 59===l&&0===i&&(n+=t.substring(r,s+1),r=s+1)}else 0===o?o=l:o===l&&(o=0);else a=!0,s++}if(r<e){var d=t.substring(r);X_(d)||(n+=d)}return n}(function(t){if(-1===t.indexOf("//"))return t;for(var e=t.length,n=[],r=0,i=0,o=0,a=0;i<e;){var s=t.charCodeAt(i);if(34!==s&&39!==s||0!==i&&92===t.charCodeAt(i-1))if(0===o)if(40===s&&i>=3&&108==(32|t.charCodeAt(i-1))&&114==(32|t.charCodeAt(i-2))&&117==(32|t.charCodeAt(i-3)))a=1,i++;else if(a>0)41===s?a--:40===s&&a++,i++;else if(s===J_&&i+1<e&&t.charCodeAt(i+1)===J_){for(i>r&&n.push(t.substring(r,i));i<e&&10!==t.charCodeAt(i);)i++;r=i}else i++;else i++;else 0===o?o=s:o===s&&(o=0),i++}return 0===r?t:(r<e&&n.push(t.substring(r)),n.join(""))}(t)),c=PE(o||i?"".concat(o," ").concat(i," { ").concat(l," }"):l);a.namespace&&(c=Z_(c,a.namespace));var d=[];return TE(c,function(t){var e=eE(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}(u.concat(function(t){return function(e){e.root||(e=e.return)&&t(e)}}((function(t){return d.push(t)}))))),d};return d.hash=l.length?l.reduce((function(t,e){return e.name||j_(15),r_(t,e.name)}),5381).toString():"",d}var eC=new $_,nC=tC(),rC={shouldForwardProp:void 0,styleSheet:eC,stylis:nC},iC=BE?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(rC)}}:t.createContext(rC),oC=(iC.Consumer,BE?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(void 0)}}:t.createContext(void 0));function aC(){return BE?rC:t.useContext(iC)}function sC(e){if(BE||!t.useMemo)return e.children;var n=aC().styleSheet,r=t.useMemo((function(){var t=n;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,n]),i=t.useMemo((function(){return tC({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:e.stylisPlugins})}),[e.enableVendorPrefixes,e.namespace,e.stylisPlugins]),o=t.useMemo((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:r,stylis:i}}),[e.shouldForwardProp,r,i]);return t.createElement(iC.Provider,{value:o},t.createElement(oC.Provider,{value:i},e.children))}var lC=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=nC);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,A_(this,(function(){throw j_(12,String(n.name))}))}return t.prototype.getName=function(t){return void 0===t&&(t=nC),this.name+t.hash},t}();function cC(t,e){return null==e||"boolean"==typeof e||""===e?"":"number"!=typeof e||0===e||t in ME||t.startsWith("--")?String(e).trim():"".concat(e,"px")}var uC=function(t){return t>="A"&&t<="Z"};function dC(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(1===n&&"-"===r&&"-"===t[0])return t;uC(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var hC=function(t){return null==t||!1===t||""===t},pC=function(t){var e=[];for(var n in t){var r=t[n];t.hasOwnProperty(n)&&!hC(r)&&(Array.isArray(r)&&r.isCss||k_(r)?e.push("".concat(dC(n),":"),r,";"):T_(r)?e.push.apply(e,Ok(Ok(["".concat(n," {")],pC(r),!1),["}"],!1)):e.push("".concat(dC(n),": ").concat(cC(n,r),";")))}return e};function fC(t,e,n,r){return hC(t)?[]:E_(t)?[".".concat(t.styledComponentId)]:k_(t)?!k_(i=t)||i.prototype&&i.prototype.isReactComponent||!e?[t]:fC(t(e),e,n,r):t instanceof lC?n?(t.inject(n,r),[t.getName(r)]):[t]:T_(t)?pC(t):Array.isArray(t)?Array.prototype.concat.apply(KE,t.map((function(t){return fC(t,e,n,r)}))):[t.toString()];var i}function mC(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(k_(n)&&!E_(n))return!1}return!0}var gC=i_(UE),yC=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&mC(t),this.componentId=e,this.baseHash=r_(gC,e),this.baseStyle=n,$_.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,n).className:"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))r=__(r,this.staticRulesId);else{var i=C_(fC(this.rules,t,e,n)),o=e_(r_(this.baseHash,i)>>>0);if(!e.hasNameForId(this.componentId,o)){var a=n(i,".".concat(o),void 0,this.componentId);e.insertRules(this.componentId,o,a)}r=__(r,o),this.staticRulesId=o}else{for(var s=r_(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=C_(fC(u,t,e,n));s=r_(s,d+c),l+=d}}if(l){var h=e_(s>>>0);if(!e.hasNameForId(this.componentId,h)){var p=n(l,".".concat(h),void 0,this.componentId);e.insertRules(this.componentId,h,p)}r=__(r,h)}}return{className:r,css:"undefined"==typeof window?e.getTag().getGroup(D_(this.componentId)):""}},t}(),vC=BE?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(void 0)}}:t.createContext(void 0);vC.Consumer;var xC={};new Set;function bC(e,n,r){var i=E_(e),o=e,a=!s_(e),s=n.attrs,l=void 0===s?KE:s,c=n.componentId,u=void 0===c?function(t,e){var n="string"!=typeof t?"sc":XE(t);xC[n]=(xC[n]||0)+1;var r="".concat(n,"-").concat(o_(UE+n+xC[n]));return e?"".concat(e,"-").concat(r):r}(n.displayName,n.parentComponentId):c,d=n.displayName,h=void 0===d?function(t){return s_(t)?"styled.".concat(t):"Styled(".concat(a_(t),")")}(e):d,p=n.displayName&&n.componentId?"".concat(XE(n.displayName),"-").concat(n.componentId):n.componentId||u,f=i&&o.attrs?o.attrs.concat(l).filter(Boolean):l,m=n.shouldForwardProp;if(i&&o.shouldForwardProp){var g=o.shouldForwardProp;if(n.shouldForwardProp){var y=n.shouldForwardProp;m=function(t,e){return g(t,e)&&y(t,e)}}else m=g}var v=new yC(r,p,i?o.componentStyle:void 0);function x(e,n){return function(e,n,r){var i=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=BE?void 0:t.useContext(vC),d=aC(),h=e.shouldForwardProp||d.shouldForwardProp,p=QE(n,u,a)||GE,f=function(t,e,n){for(var r,i=Nk(Nk({},e),{className:void 0,theme:n}),o=0;o<t.length;o+=1){var a=k_(r=t[o])?r(i):r;for(var s in a)"className"===s?i.className=__(i.className,a[s]):"style"===s?i.style=Nk(Nk({},i.style),a[s]):i[s]=a[s]}return"className"in e&&"string"==typeof e.className&&(i.className=__(i.className,e.className)),i}(i,n,p),m=f.as||c,g={};for(var y in f)void 0===f[y]||"$"===y[0]||"as"===y||"theme"===y&&f.theme===p||("forwardedAs"===y?g.as=f.forwardedAs:h&&!h(y,m)||(g[y]=f[y]));var v=function(t,e){var n=aC();return t.generateAndInjectStyles(e,n.styleSheet,n.stylis)}(o,f),x=v.className,b=v.css,w=__(s,l);x&&(w+=" "+x),f.className&&(w+=" "+f.className),g[s_(m)&&!$E.has(m)?"class":"className"]=w,r&&(g.ref=r);var S=(0,t.createElement)(m,g);return BE&&b?t.createElement(t.Fragment,null,t.createElement("style",{precedence:"styled-components",href:"sc-".concat(l,"-").concat(x),children:b}),S):S}(b,e,n)}x.displayName=h;var b=t.forwardRef(x);return b.attrs=f,b.componentStyle=v,b.displayName=h,b.shouldForwardProp=m,b.foldedComponentIds=i?__(o.foldedComponentIds,o.styledComponentId):"",b.styledComponentId=p,b.target=i?o.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)I_(t,i[r],!0);return t}({},o.defaultProps,t):t}}),A_(b,(function(){return".".concat(b.styledComponentId)})),a&&S_(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function wC(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var SC=function(t){return Object.assign(t,{isCss:!0})};function kC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(k_(t)||T_(t))return SC(fC(wC(KE,Ok([t],e,!0))));var r=t;return 0===e.length&&1===r.length&&"string"==typeof r[0]?fC(r):SC(fC(wC(r,e)))}function EC(t,e,n){if(void 0===n&&(n=GE),!e)throw j_(1,e);var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(e,n,kC.apply(void 0,Ok([r],i,!1)))};return r.attrs=function(r){return EC(t,e,Nk(Nk({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return EC(t,e,Nk(Nk({},n),r))},r}var _C=function(t){return EC(bC,t)},CC=_C;$E.forEach((function(t){CC[t]=_C(t)}));var TC=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=mC(t),$_.registerId(this.componentId+1)}return t.prototype.createStyles=function(t,e,n,r){var i=r(C_(fC(this.rules,e,n,r)),""),o=this.componentId+t;n.insertRules(o,o,i)},t.prototype.removeStyles=function(t,e){e.clearRules(this.componentId+t)},t.prototype.renderStyles=function(t,e,n,r){t>2&&$_.registerId(this.componentId+t);var i=this.componentId+t;this.isStatic?n.hasNameForId(i,i)||this.createStyles(t,e,n,r):(this.removeStyles(t,n),this.createStyles(t,e,n,r))},t}();var IC,AC,jC,PC,RC;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=q_(),r=C_([n&&'nonce="'.concat(n,'"'),"".concat(LE,'="true"'),"".concat(zE,'="').concat(UE,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw j_(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw j_(2);var r=e.instance.toString();if(!r)return[];var i=((n={})[LE]="",n[zE]=UE,n.dangerouslySetInnerHTML={__html:r},n),o=q_();return o&&(i.nonce=o),[t.createElement("style",Nk({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new $_({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw j_(2);return t.createElement(sC,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(t){throw j_(3)}})(),"__sc-".concat(LE,"__");const NC=CC.div(IC||(IC=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tmin-height: 100vh;\n\ttext-align: center;\n\tbackground-color: #f5f5f5;\n"]))),OC=CC.div(AC||(AC=Rk(["\n\tbackground: white;\n\tpadding: 40px;\n\tborder-radius: 8px;\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\tmax-width: 600px;\n"]))),DC=CC.h1(jC||(jC=Rk(["\n\tfont-size: 48px;\n\tmargin-bottom: 16px;\n\tcolor: #d32f2f;\n"]))),MC=CC.p(PC||(PC=Rk(["\n\tfont-size: 18px;\n\tcolor: #666;\n\tmargin-bottom: 32px;\n"]))),LC=CC(Tk)(RC||(RC=Rk(["\n\tdisplay: inline-block;\n\tpadding: 10px 24px;\n\tbackground-color: #1976d2;\n\tcolor: white;\n\ttext-decoration: none;\n\tborder-radius: 4px;\n\tfont-weight: 500;\n\ttransition: background-color 0.3s;\n\n\t&:hover {\n\t\tbackground-color: #1565c0;\n\t}\n"]))),FC=()=>(0,jk.jsx)(NC,{children:(0,jk.jsxs)(OC,{children:[(0,jk.jsx)(DC,{children:"403"}),(0,jk.jsx)(MC,{children:"You do not have permission to access this page. Your user role does not grant access to this resource."}),(0,jk.jsx)(LC,{to:"/dashboard",children:"Return to Dashboard"})]})}),zC={primary:"#10b981",primaryLight:"#d1fae5",primaryDark:"#059669",primaryHover:"#22c55e",primaryDarker:"#16a34a",secondary:"#3b82f6",secondaryLight:"#dbeafe",secondaryDark:"#1e40af",secondaryHover:"#2563eb",gray50:"#f9fafb",gray100:"#f3f4f6",gray200:"#e5e7eb",gray300:"#d1d5db",gray400:"#9ca3af",gray500:"#6b7280",gray600:"#4b5563",gray700:"#374151",gray800:"#1f2937",gray900:"#111827",success:"#10b981",warning:"#f59e0b",error:"#ef4444",errorDark:"#dc2626",info:"#3b82f6",bgWhite:"#ffffff",bgLight:"#f9fafb",bgDark:"#111827",border:"#e5e7eb",borderLight:"#f3f4f6",borderDark:"#9ca3af",textPrimary:"#1f2937",textSecondary:"#6b7280",textMuted:"#9ca3af",textInverse:"#ffffff",gradientPrimary:"linear-gradient(135deg, #10b981 0%, #059669 100%)",gradientSecondary:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",gradientWarm:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",gradientCool:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",gradientLight:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",shadowMd:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",shadowLg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",shadowXl:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",overlay:"rgba(0, 0, 0, 0.5)",overlayLight:"rgba(0, 0, 0, 0.25)"};var UC,VC,qC,BC,HC,WC,KC,GC,QC,$C,YC,JC;const XC=CC.form(UC||(UC=Rk(["\n\tdisplay: grid;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 32px 24px;\n\tborder: none;\n\tborder-radius: 12px;\n\tbackground-color: ",";\n\twidth: 100%;\n\tmax-width: 420px;\n\tbox-shadow: ",";\n\tposition: relative;\n\tz-index: 10;\n\n\t@media (max-width: 768px) {\n\t\tmax-width: 380px;\n\t\tpadding: 28px 20px;\n\t\tborder-radius: 10px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmax-width: 100%;\n\t\tpadding: 20px 16px;\n\t\tborder-radius: 8px;\n\t\tmargin: 10px;\n\t}\n"])),zC.bgWhite,zC.shadowLg),ZC=CC.h2(VC||(VC=Rk(["\n\tfont-size: 32px;\n\tfont-weight: 800;\n\tmargin: 0 auto 28px auto;\n\ttext-decoration: none;\n\ttext-align: center;\n\tbackground: ",";\n\t-webkit-background-clip: text;\n\t-webkit-text-fill-color: transparent;\n\tbackground-clip: text;\n\tletter-spacing: 0.5px;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 28px;\n\t\tmargin: 0 auto 24px auto;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 24px;\n\t\tmargin: 0 auto 20px auto;\n\t}\n"])),zC.gradientPrimary),tT=CC.input(qC||(qC=Rk(["\n\tpadding: 12px 14px;\n\tfont-size: 16px;\n\tmargin: 10px 0;\n\tborder: 1.5px solid ",";\n\tborder-radius: 6px;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\ttransition: all 0.2s ease;\n\tbackground-color: ",";\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: ",";\n\t\tbox-shadow: 0 0 0 3px ",";\n\t\tbackground-color: ",";\n\t}\n\n\t&:hover {\n\t\tborder-color: ",";\n\t\tbackground-color: ",";\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 11px 13px;\n\t\tfont-size: 15px;\n\t\tmargin: 9px 0;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px 12px;\n\t\tfont-size: 14px;\n\t\tmargin: 8px 0;\n\t}\n"])),zC.gray200,zC.gray50,zC.primary,zC.primaryLight,zC.bgWhite,zC.gray300,zC.bgWhite),eT=CC.a(BC||(BC=Rk(["\n\tpadding: 10px 0;\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 0;\n\t\tfont-size: 14px;\n\t}\n"]))),nT=CC.button(HC||(HC=Rk(["\n\tmargin: 24px auto 0 auto;\n\tfont-size: 16px;\n\tpadding: 12px 32px;\n\tborder-radius: 6px;\n\tborder: none;\n\tbackground: ",";\n\tcolor: white;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\tbox-shadow: 0 4px 6px rgba(16, 185, 129, 0.25);\n\n\t&:hover {\n\t\tbackground: linear-gradient(\n\t\t\t135deg,\n\t\t\t"," 0%,\n\t\t\t"," 100%\n\t\t);\n\t\tbox-shadow: 0 6px 12px rgba(16, 185, 129, 0.35);\n\t\ttransform: translateY(-2px);\n\t}\n\n\t&:active {\n\t\ttransform: translateY(0);\n\t}\n\n\t&:disabled {\n\t\topacity: 0.6;\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 15px;\n\t\tpadding: 10px 28px;\n\t\tmargin: 20px auto 0 auto;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t\tpadding: 10px 24px;\n\t\tmargin: 16px auto 0 auto;\n\t}\n"])),zC.gradientPrimary,zC.primaryDark,zC.primaryDarker),rT=CC.div(WC||(WC=Rk(["\n\tmargin: 28px 0 0 0;\n\ttext-align: center;\n\tfont-size: 15px;\n\tcolor: ",";\n\n\ta {\n\t\tcolor: ",";\n\t\ttext-decoration: none;\n\t\tfont-weight: 600;\n\t\ttransition: color 0.2s ease;\n\t\t&:hover {\n\t\t\tcolor: ",";\n\t\t\tcursor: pointer;\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\tmargin: 24px 0 0 0;\n\t\tfont-size: 14px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmargin: 20px 0 0 0;\n\t\tfont-size: 13px;\n\t}\n"])),zC.textSecondary,zC.primary,zC.primaryDark),iT=CC.div(KC||(KC=Rk(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tmargin: 10px 0;\n\twidth: 100%;\n\n\tinput[type='password'],\n\tinput[type='text'] {\n\t\tpadding-right: 45px;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tmargin: 8px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmargin: 6px;\n\t}\n"]))),oT=CC.button(GC||(GC=Rk(["\n\tposition: absolute;\n\tright: 12px;\n\tbackground: none;\n\tborder: none;\n\tcursor: pointer;\n\tcolor: ",";\n\tfont-size: 18px;\n\tpadding: 8px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tflex-shrink: 0;\n\ttransition: color 0.2s ease;\n\n\t&:hover {\n\t\tcolor: ",";\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t\tright: 12px;\n\t\tpadding: 4px 8px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t\tright: 10px;\n\t\tpadding: 3px 6px;\n\t}\n"])),zC.textMuted,zC.textPrimary),aT=CC.div(QC||(QC=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tmargin: 16px 0 12px 0;\n\tgap: 8px;\n\n\tinput[type='checkbox'] {\n\t\twidth: 18px;\n\t\theight: 18px;\n\t\tcursor: pointer;\n\t\taccent-color: ",";\n\t\tborder-radius: 3px;\n\n\t\t&:hover {\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\tmargin: 14px 0 10px 0;\n\t\tgap: 7px;\n\n\t\tinput[type='checkbox'] {\n\t\t\twidth: 17px;\n\t\t\theight: 17px;\n\t\t}\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmargin: 12px 0 8px 0;\n\t\tgap: 6px;\n\n\t\tinput[type='checkbox'] {\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t}\n\t}\n"])),zC.primary),sT=CC.label($C||($C=Rk(["\n\tfont-size: 14px;\n\tcolor: ",";\n\tcursor: pointer;\n\tuser-select: none;\n\tmargin: 0;\n\ttransition: color 0.2s ease;\n\n\t&:hover {\n\t\tcolor: ",";\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 13px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t}\n"])),zC.gray600,zC.textPrimary),lT=CC.div(YC||(YC=Rk(["\n\tbackground-color: #fef2f2;\n\tborder: 1px solid #fecaca;\n\tcolor: ",";\n\tpadding: 12px;\n\tmargin: 10px;\n\tborder-radius: 5px;\n\tfont-size: 14px;\n\ttext-align: center;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 10px;\n\t\tmargin: 8px;\n\t\tfont-size: 13px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px;\n\t\tmargin: 6px;\n\t\tfont-size: 12px;\n\t}\n"])),zC.error),cT=CC.div(JC||(JC=Rk(["\n\tdisplay: inline-block;\n\twidth: 20px;\n\theight: 20px;\n\tborder: 3px solid ",";\n\tborder-top: 3px solid ",";\n\tborder-radius: 50%;\n\tanimation: spin 1s linear infinite;\n\tmargin-right: 8px;\n\n\t@keyframes spin {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n"])),zC.gray100,zC.primary);function uT(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dT(Object(n),!0).forEach((function(e){uT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const pT=()=>{};let fT={},mT={},gT=null,yT={mark:pT,measure:pT};try{"undefined"!==typeof window&&(fT=window),"undefined"!==typeof document&&(mT=document),"undefined"!==typeof MutationObserver&&(gT=MutationObserver),"undefined"!==typeof performance&&(yT=performance)}catch(GQ){}const{userAgent:vT=""}=fT.navigator||{},xT=fT,bT=mT,wT=gT,ST=yT,kT=(xT.document,!!bT.documentElement&&!!bT.head&&"function"===typeof bT.addEventListener&&"function"===typeof bT.createElement),ET=~vT.indexOf("MSIE")||~vT.indexOf("Trident/");var _T={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},CT=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],TT="classic",IT="duotone",AT=[TT,IT,"sharp","sharp-duotone"],jT=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),PT=["fak","fa-kit","fakd","fa-kit-duotone"],RT={fak:"kit","fa-kit":"kit"},NT={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},OT=["fak","fakd"],DT={kit:"fak"},MT={"kit-duotone":"fakd"},LT={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},FT=["fak","fa-kit","fakd","fa-kit-duotone"],zT={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},UT=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],VT=[1,2,3,4,5,6,7,8,9,10],qT=VT.concat([11,12,13,14,15,16,17,18,19,20]),BT=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",LT.GROUP,LT.SWAP_OPACITY,LT.PRIMARY,LT.SECONDARY].concat(VT.map((t=>"".concat(t,"x")))).concat(qT.map((t=>"w-".concat(t))));const HT="___FONT_AWESOME___",WT=16,KT="fa",GT="svg-inline--fa",QT="data-fa-i2svg",$T="data-fa-pseudo-element",YT="data-fa-pseudo-element-pending",JT="data-prefix",XT="data-icon",ZT="fontawesome-i2svg",tI="async",eI=["HTML","HEAD","STYLE","SCRIPT"],nI=(()=>{try{return!0}catch(t){return!1}})();function rI(t){return new Proxy(t,{get:(t,e)=>e in t?t[e]:t[TT]})}const iI=hT({},_T);iI[TT]=hT(hT(hT(hT({},{"fa-duotone":"duotone"}),_T[TT]),RT),NT);const oI=rI(iI),aI=hT({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});aI[TT]=hT(hT(hT(hT({},{duotone:"fad"}),aI[TT]),DT),MT);const sI=rI(aI),lI=hT({},zT);lI[TT]=hT(hT({},lI[TT]),{fak:"fa-kit"});const cI=rI(lI),uI=hT({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});uI[TT]=hT(hT({},uI[TT]),{"fa-kit":"fak"});rI(uI);const dI=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,hI="fa-layers-text",pI=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,fI=(rI(hT({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),mI={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},gI=["kit",...BT],yI=xT.FontAwesomeConfig||{};if(bT&&"function"===typeof bT.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((t=>{let[e,n]=t;const r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=bT.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e));void 0!==r&&null!==r&&(yI[n]=r)}))}const vI={styleDefault:"solid",familyDefault:TT,cssPrefix:KT,replacementClass:GT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};yI.familyPrefix&&(yI.cssPrefix=yI.familyPrefix);const xI=hT(hT({},vI),yI);xI.autoReplaceSvg||(xI.observeMutations=!1);const bI={};Object.keys(vI).forEach((t=>{Object.defineProperty(bI,t,{enumerable:!0,set:function(e){xI[t]=e,wI.forEach((t=>t(bI)))},get:function(){return xI[t]}})})),Object.defineProperty(bI,"familyPrefix",{enumerable:!0,set:function(t){xI.cssPrefix=t,wI.forEach((t=>t(bI)))},get:function(){return xI.cssPrefix}}),xT.FontAwesomeConfig=bI;const wI=[];const SI=WT,kI={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};const EI="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _I(){let t=12,e="";for(;t-- >0;)e+=EI[62*Math.random()|0];return e}function CI(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function TI(t){return t.classList?CI(t.classList):(t.getAttribute("class")||"").split(" ").filter((t=>t))}function II(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function AI(t){return Object.keys(t||{}).reduce(((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";")),"")}function jI(t){return t.size!==kI.size||t.x!==kI.x||t.y!==kI.y||t.rotate!==kI.rotate||t.flipX||t.flipY}var PI=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';function RI(){const t=KT,e=GT,n=bI.cssPrefix,r=bI.replacementClass;let i=PI;if(n!==t||r!==e){const o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}let NI=!1;function OI(){bI.autoAddCss&&!NI&&(!function(t){if(!t||!kT)return;const e=bT.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=bT.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const t=n[i],e=(t.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(e)>-1&&(r=t)}bT.head.insertBefore(e,r)}(RI()),NI=!0)}var DI={mixout:()=>({dom:{css:RI,insertCss:OI}}),hooks:()=>({beforeDOMElementCreation(){OI()},beforeI2svg(){OI()}})};const MI=xT||{};MI[HT]||(MI[HT]={}),MI[HT].styles||(MI[HT].styles={}),MI[HT].hooks||(MI[HT].hooks={}),MI[HT].shims||(MI[HT].shims=[]);var LI=MI[HT];const FI=[],zI=function(){bT.removeEventListener("DOMContentLoaded",zI),UI=1,FI.map((t=>t()))};let UI=!1;function VI(t){const{tag:e,attributes:n={},children:r=[]}=t;return"string"===typeof t?II(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(((e,n)=>e+"".concat(n,'="').concat(II(t[n]),'" ')),"").trim()}(n),">").concat(r.map(VI).join(""),"</").concat(e,">")}function qI(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}kT&&(UI=(bT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(bT.readyState),UI||bT.addEventListener("DOMContentLoaded",zI));var BI=function(t,e,n,r){var i,o,a,s=Object.keys(t),l=s.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,a=t[s[0]]):(i=0,a=n);i<l;i++)a=c(a,t[o=s[i]],o,t);return a};function HI(t){const e=function(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=t.charCodeAt(n++);56320==(64512&r)?e.push(((1023&i)<<10)+(1023&r)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function WI(t){return Object.keys(t).reduce(((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{})}function KI(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,i=WI(e);"function"!==typeof LI.hooks.addPack||r?LI.styles[t]=hT(hT({},LI.styles[t]||{}),i):LI.hooks.addPack(t,WI(e)),"fas"===t&&KI("fa",e)}const{styles:GI,shims:QI}=LI,$I=Object.keys(cI),YI=$I.reduce(((t,e)=>(t[e]=Object.keys(cI[e]),t)),{});let JI=null,XI={},ZI={},tA={},eA={},nA={};function rA(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||(o=i,~gI.indexOf(o))?null:i;var o}const iA=()=>{const t=t=>BI(GI,((e,n,r)=>(e[r]=BI(n,t,{}),e)),{});XI=t(((t,e,n)=>{if(e[3]&&(t[e[3]]=n),e[2]){e[2].filter((t=>"number"===typeof t)).forEach((e=>{t[e.toString(16)]=n}))}return t})),ZI=t(((t,e,n)=>{if(t[n]=n,e[2]){e[2].filter((t=>"string"===typeof t)).forEach((e=>{t[e]=n}))}return t})),nA=t(((t,e,n)=>{const r=e[2];return t[n]=n,r.forEach((e=>{t[e]=n})),t}));const e="far"in GI||bI.autoFetchSvg,n=BI(QI,((t,n)=>{const r=n[0];let i=n[1];const o=n[2];return"far"!==i||e||(i="fas"),"string"===typeof r&&(t.names[r]={prefix:i,iconName:o}),"number"===typeof r&&(t.unicodes[r.toString(16)]={prefix:i,iconName:o}),t}),{names:{},unicodes:{}});tA=n.names,eA=n.unicodes,JI=dA(bI.styleDefault,{family:bI.familyDefault})};var oA;function aA(t,e){return(XI[t]||{})[e]}function sA(t,e){return(nA[t]||{})[e]}function lA(t){return tA[t]||{prefix:null,iconName:null}}function cA(){return JI}oA=t=>{JI=dA(t.styleDefault,{family:bI.familyDefault})},wI.push(oA),iA();const uA=()=>({prefix:null,iconName:null,rest:[]});function dA(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=TT}=e,r=oI[n][t];if(n===IT&&!t)return"fad";const i=sI[n][t]||sI[n][r],o=t in LI.styles?t:null;return i||o||null}function hA(t){return t.sort().filter(((t,e,n)=>n.indexOf(t)===e))}function pA(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const i=UT.concat(FT),o=hA(t.filter((t=>i.includes(t)))),a=hA(t.filter((t=>!UT.includes(t)))),s=o.filter((t=>(r=t,!CT.includes(t)))),[l=null]=s,c=function(t){let e=TT;const n=$I.reduce(((t,e)=>(t[e]="".concat(bI.cssPrefix,"-").concat(e),t)),{});return AT.forEach((r=>{(t.includes(n[r])||t.some((t=>YI[r].includes(t))))&&(e=r)})),e}(o),u=hT(hT({},function(t){let e=[],n=null;return t.forEach((t=>{const r=rA(bI.cssPrefix,t);r?n=r:t&&e.push(t)})),{iconName:n,rest:e}}(a)),{},{prefix:dA(l,{family:c})});return hT(hT(hT({},u),function(t){const{values:e,family:n,canonical:r,givenPrefix:i="",styles:o={},config:a={}}=t,s=n===IT,l=e.includes("fa-duotone")||e.includes("fad"),c="duotone"===a.familyDefault,u="fad"===r.prefix||"fa-duotone"===r.prefix;!s&&(l||c||u)&&(r.prefix="fad");(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&fA.includes(n)){if(Object.keys(o).find((t=>mA.includes(t)))||a.autoFetchSvg){const t=jT.get(n).defaultShortPrefixId;r.prefix=t,r.iconName=sA(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==i||(r.prefix=cA()||"fas");return r}({values:t,family:c,styles:GI,config:bI,canonical:u,givenPrefix:r})),function(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};const o="fa"===e?lA(i):{},a=sA(r,i);i=o.iconName||a||i,r=o.prefix||r,"far"!==r||GI.far||!GI.fas||bI.autoFetchSvg||(r="fas");return{prefix:r,iconName:i}}(n,r,u))}const fA=AT.filter((t=>t!==TT||t!==IT)),mA=Object.keys(zT).filter((t=>t!==TT)).map((t=>Object.keys(zT[t]))).flat();let gA=[],yA={};const vA={},xA=Object.keys(vA);function bA(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(yA[t]||[]).forEach((t=>{e=t.apply(null,[e,...r])})),e}function wA(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(yA[t]||[]).forEach((t=>{t.apply(null,n)}))}function SA(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return vA[t]?vA[t].apply(null,e):void 0}function kA(t){"fa"===t.prefix&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||cA();if(e)return e=sA(n,e)||e,qI(EA.definitions,n,e)||qI(LI.styles,n,e)}const EA=new class{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.reduce(this._pullDefinitions,{});Object.keys(r).forEach((t=>{this.definitions[t]=hT(hT({},this.definitions[t]||{}),r[t]),KI(t,r[t]);const e=cI[TT][t];e&&KI(e,r[t]),iA()}))}reset(){this.definitions={}}_pullDefinitions(t,e){const n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((e=>{const{prefix:r,iconName:i,icon:o}=n[e],a=o[2];t[r]||(t[r]={}),a.length>0&&a.forEach((e=>{"string"===typeof e&&(t[r][e]=o)})),t[r][i]=o})),t}},_A={i2svg:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kT?(wA("beforeI2svg",t),SA("pseudoElements2svg",t),SA("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;!1===bI.autoReplaceSvg&&(bI.autoReplaceSvg=!0),bI.observeMutations=!0,function(t){kT&&(UI?setTimeout(t,0):FI.push(t))}((()=>{IA({autoReplaceSvgRoot:e}),wA("watch",t)}))}},CA={icon:t=>{if(null===t)return null;if("object"===typeof t&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:sA(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){const e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],n=dA(t[0]);return{prefix:n,iconName:sA(n,e)||e}}if("string"===typeof t&&(t.indexOf("".concat(bI.cssPrefix,"-"))>-1||t.match(dI))){const e=pA(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||cA(),iconName:sA(e.prefix,e.iconName)||e.iconName}}if("string"===typeof t){const e=cA();return{prefix:e,iconName:sA(e,t)||t}}}},TA={noAuto:()=>{bI.autoReplaceSvg=!1,bI.observeMutations=!1,wA("noAuto")},config:bI,dom:_A,parse:CA,library:EA,findIconDefinition:kA,toHtml:VI},IA=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:e=bT}=t;(Object.keys(LI.styles).length>0||bI.autoFetchSvg)&&kT&&bI.autoReplaceSvg&&TA.dom.i2svg({node:e})};function AA(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((t=>VI(t)))}}),Object.defineProperty(t,"node",{get:function(){if(!kT)return;const e=bT.createElement("div");return e.innerHTML=t.html,e.children}}),t}function jA(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:o,symbol:a,title:s,maskId:l,titleId:c,extra:u,watchable:d=!1}=t,{width:h,height:p}=n.found?n:e,f=OT.includes(r),m=[bI.replacementClass,i?"".concat(bI.cssPrefix,"-").concat(i):""].filter((t=>-1===u.classes.indexOf(t))).filter((t=>""!==t||!!t)).concat(u.classes).join(" ");let g={children:[],attributes:hT(hT({},u.attributes),{},{"data-prefix":r,"data-icon":i,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(p)})};const y=f&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/p*16*.0625,"em")}:{};d&&(g.attributes[QT]=""),s&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||_I())},children:[s]}),delete g.attributes.title);const v=hT(hT({},g),{},{prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:o,symbol:a,styles:hT(hT({},y),u.styles)}),{children:x,attributes:b}=n.found&&e.found?SA("generateAbstractMask",v)||{children:[],attributes:{}}:SA("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=x,v.attributes=b,a?function(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:o}=t;const a=!0===o?"".concat(e,"-").concat(bI.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:hT(hT({},i),{},{id:a}),children:r}]}]}(v):function(t){let{children:e,main:n,mask:r,attributes:i,styles:o,transform:a}=t;if(jI(a)&&n.found&&!r.found){const{width:t,height:e}=n,r={x:t/e/2,y:.5};i.style=AI(hT(hT({},o),{},{"transform-origin":"".concat(r.x+a.x/16,"em ").concat(r.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(v)}function PA(t){const{content:e,width:n,height:r,transform:i,title:o,extra:a,watchable:s=!1}=t,l=hT(hT(hT({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});s&&(l[QT]="");const c=hT({},a.styles);jI(i)&&(c.transform=function(t){let{transform:e,width:n=WT,height:r=WT,startCentered:i=!1}=t,o="";return o+=i&&ET?"translate(".concat(e.x/SI-n/2,"em, ").concat(e.y/SI-r/2,"em) "):i?"translate(calc(-50% + ".concat(e.x/SI,"em), calc(-50% + ").concat(e.y/SI,"em)) "):"translate(".concat(e.x/SI,"em, ").concat(e.y/SI,"em) "),o+="scale(".concat(e.size/SI*(e.flipX?-1:1),", ").concat(e.size/SI*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=AI(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[e]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}const{styles:RA}=LI;function NA(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(bI.cssPrefix,"-").concat(mI.GROUP)},children:[{tag:"path",attributes:{class:"".concat(bI.cssPrefix,"-").concat(mI.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(bI.cssPrefix,"-").concat(mI.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const OA={found:!1,width:512,height:512};function DA(t,e){let n=e;return"fa"===e&&null!==bI.styleDefault&&(e=cA()),new Promise(((r,i)=>{if("fa"===n){const n=lA(t)||{};t=n.iconName||t,e=n.prefix||e}if(t&&e&&RA[e]&&RA[e][t]){return r(NA(RA[e][t]))}!function(t,e){nI||bI.showMissingIcons||!t||console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}(t,e),r(hT(hT({},OA),{},{icon:bI.showMissingIcons&&t&&SA("missingIconAbstract")||{}}))}))}const MA=()=>{},LA=bI.measurePerformance&&ST&&ST.mark&&ST.measure?ST:{mark:MA,measure:MA},FA='FA "6.7.2"',zA=t=>{LA.mark("".concat(FA," ").concat(t," ends")),LA.measure("".concat(FA," ").concat(t),"".concat(FA," ").concat(t," begins"),"".concat(FA," ").concat(t," ends"))};var UA={begin:t=>(LA.mark("".concat(FA," ").concat(t," begins")),()=>zA(t)),end:zA};const VA=()=>{};function qA(t){return"string"===typeof(t.getAttribute?t.getAttribute(QT):null)}function BA(t){return bT.createElementNS("http://www.w3.org/2000/svg",t)}function HA(t){return bT.createElement(t)}function WA(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===t.tag?BA:HA)}=e;if("string"===typeof t)return bT.createTextNode(t);const r=n(t.tag);Object.keys(t.attributes||[]).forEach((function(e){r.setAttribute(e,t.attributes[e])}));return(t.children||[]).forEach((function(t){r.appendChild(WA(t,{ceFn:n}))})),r}const KA={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach((t=>{e.parentNode.insertBefore(WA(t),e)})),null===e.getAttribute(QT)&&bI.keepOriginalSource){let t=bT.createComment(function(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~TI(e).indexOf(bI.replacementClass))return KA.replace(t);const r=new RegExp("".concat(bI.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const t=n[0].attributes.class.split(" ").reduce(((t,e)=>(e===bI.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t)),{toNode:[],toSvg:[]});n[0].attributes.class=t.toSvg.join(" "),0===t.toNode.length?e.removeAttribute("class"):e.setAttribute("class",t.toNode.join(" "))}const i=n.map((t=>VI(t))).join("\n");e.setAttribute(QT,""),e.innerHTML=i}};function GA(t){t()}function QA(t,e){const n="function"===typeof e?e:VA;if(0===t.length)n();else{let e=GA;bI.mutateApproach===tI&&(e=xT.requestAnimationFrame||GA),e((()=>{const e=!0===bI.autoReplaceSvg?KA.replace:KA[bI.autoReplaceSvg]||KA.replace,r=UA.begin("mutate");t.map(e),r(),n()}))}}let $A=!1;function YA(){$A=!0}function JA(){$A=!1}let XA=null;function ZA(t){if(!wT)return;if(!bI.observeMutations)return;const{treeCallback:e=VA,nodeCallback:n=VA,pseudoElementsCallback:r=VA,observeMutationsRoot:i=bT}=t;XA=new wT((t=>{if($A)return;const i=cA();CI(t).forEach((t=>{if("childList"===t.type&&t.addedNodes.length>0&&!qA(t.addedNodes[0])&&(bI.searchPseudoElements&&r(t.target),e(t.target)),"attributes"===t.type&&t.target.parentNode&&bI.searchPseudoElements&&r(t.target.parentNode),"attributes"===t.type&&qA(t.target)&&~fI.indexOf(t.attributeName))if("class"===t.attributeName&&function(t){const e=t.getAttribute?t.getAttribute(JT):null,n=t.getAttribute?t.getAttribute(XT):null;return e&&n}(t.target)){const{prefix:e,iconName:n}=pA(TI(t.target));t.target.setAttribute(JT,e||i),n&&t.target.setAttribute(XT,n)}else(function(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(bI.replacementClass)})(t.target)&&n(t.target)}))})),kT&&XA.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function tj(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"";let i=pA(TI(t));return i.prefix||(i.prefix=cA()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(t,e){return(ZI[t]||{})[e]}(i.prefix,t.innerText)||aA(i.prefix,HI(t.innerText))),!i.iconName&&bI.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function ej(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=tj(t),o=function(t){const e=CI(t.attributes).reduce(((t,e)=>("class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t)),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return bI.autoA11y&&(n?e["aria-labelledby"]="".concat(bI.replacementClass,"-title-").concat(r||_I()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=bA("parseNodeAttributes",{},t);let s=e.styleParser?function(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce(((t,e)=>{const n=e.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(t[r]=i.join(":").trim()),t}),{})),n}(t):[];return hT({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:kI,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:s,attributes:o}},a)}const{styles:nj}=LI;function rj(t){const e="nest"===bI.autoReplaceSvg?ej(t,{styleParser:!1}):ej(t);return~e.extra.classes.indexOf(hI)?SA("generateLayersText",t,e):SA("generateSvgReplacementMutation",t,e)}function ij(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!kT)return Promise.resolve();const n=bT.documentElement.classList,r=t=>n.add("".concat(ZT,"-").concat(t)),i=t=>n.remove("".concat(ZT,"-").concat(t)),o=bI.autoFetchSvg?[...PT,...UT]:CT.concat(Object.keys(nj));o.includes("fa")||o.push("fa");const a=[".".concat(hI,":not([").concat(QT,"])")].concat(o.map((t=>".".concat(t,":not([").concat(QT,"])")))).join(", ");if(0===a.length)return Promise.resolve();let s=[];try{s=CI(t.querySelectorAll(a))}catch(u){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");const l=UA.begin("onTree"),c=s.reduce(((t,e)=>{try{const n=rj(e);n&&t.push(n)}catch(u){nI||"MissingIcon"===u.name&&console.error(u)}return t}),[]);return new Promise(((t,n)=>{Promise.all(c).then((n=>{QA(n,(()=>{r("active"),r("complete"),i("pending"),"function"===typeof e&&e(),l(),t()}))})).catch((t=>{l(),n(t)}))}))}function oj(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;rj(t).then((t=>{t&&QA([t],e)}))}function aj(t){return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(e||{}).icon?e:kA(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:kA(i||{})),t(r,hT(hT({},n),{},{mask:i}))}}const sj=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=kI,symbol:r=!1,mask:i=null,maskId:o=null,title:a=null,titleId:s=null,classes:l=[],attributes:c={},styles:u={}}=e;if(!t)return;const{prefix:d,iconName:h,icon:p}=t;return AA(hT({type:"icon"},t),(()=>(wA("beforeDOMElementCreation",{iconDefinition:t,params:e}),bI.autoA11y&&(a?c["aria-labelledby"]="".concat(bI.replacementClass,"-title-").concat(s||_I()):(c["aria-hidden"]="true",c.focusable="false")),jA({icons:{main:NA(p),mask:i?NA(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:hT(hT({},kI),n),symbol:r,title:a,maskId:o,titleId:s,extra:{attributes:c,styles:u,classes:l}}))))};var lj={mixout:()=>({icon:aj(sj)}),hooks:()=>({mutationObserverCallbacks:t=>(t.treeCallback=ij,t.nodeCallback=oj,t)}),provides(t){t.i2svg=function(t){const{node:e=bT,callback:n=(()=>{})}=t;return ij(e,n)},t.generateSvgReplacementMutation=function(t,e){const{iconName:n,title:r,titleId:i,prefix:o,transform:a,symbol:s,mask:l,maskId:c,extra:u}=e;return new Promise(((e,d)=>{Promise.all([DA(n,o),l.iconName?DA(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[d,h]=l;e([t,jA({icons:{main:d,mask:h},prefix:o,iconName:n,transform:a,symbol:s,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},t.generateAbstractIcon=function(t){let{children:e,attributes:n,main:r,transform:i,styles:o}=t;const a=AI(o);let s;return a.length>0&&(n.style=a),jI(i)&&(s=SA("generateAbstractTransformGrouping",{main:r,transform:i,containerWidth:r.width,iconWidth:r.width})),e.push(s||r.icon),{children:e,attributes:n}}}},cj={mixout:()=>({layer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=e;return AA({type:"layer"},(()=>{wA("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t((t=>{Array.isArray(t)?t.map((t=>{r=r.concat(t.abstract)})):r=r.concat(t.abstract)})),[{tag:"span",attributes:{class:["".concat(bI.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},uj={mixout:()=>({counter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:o={}}=e;return AA({type:"counter",content:t},(()=>(wA("beforeDOMElementCreation",{content:t,params:e}),function(t){const{content:e,title:n,extra:r}=t,i=hT(hT(hT({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=AI(r.styles);o.length>0&&(i.style=o);const a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:t.toString(),title:n,extra:{attributes:i,styles:o,classes:["".concat(bI.cssPrefix,"-layers-counter"),...r]}}))))}})},dj={mixout:()=>({text(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=kI,title:r=null,classes:i=[],attributes:o={},styles:a={}}=e;return AA({type:"text",content:t},(()=>(wA("beforeDOMElementCreation",{content:t,params:e}),PA({content:t,transform:hT(hT({},kI),n),title:r,extra:{attributes:o,styles:a,classes:["".concat(bI.cssPrefix,"-layers-text"),...i]}}))))}}),provides(t){t.generateLayersText=function(t,e){const{title:n,transform:r,extra:i}=e;let o=null,a=null;if(ET){const e=parseInt(getComputedStyle(t).fontSize,10),n=t.getBoundingClientRect();o=n.width/e,a=n.height/e}return bI.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,PA({content:t.innerHTML,width:o,height:a,transform:r,title:n,extra:i,watchable:!0})])}}};const hj=new RegExp('"',"ug"),pj=[1105920,1112319],fj=hT(hT(hT(hT({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),mj=Object.keys(fj).reduce(((t,e)=>(t[e.toLowerCase()]=fj[e],t)),{}),gj=Object.keys(mj).reduce(((t,e)=>{const n=mj[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t}),{});function yj(t,e){const n="".concat(YT).concat(e.replace(":","-"));return new Promise(((r,i)=>{if(null!==t.getAttribute(n))return r();const o=CI(t.children).filter((t=>t.getAttribute($T)===e))[0],a=xT.getComputedStyle(t,e),s=a.getPropertyValue("font-family"),l=s.match(pI),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&"none"!==u&&""!==u){const u=a.getPropertyValue("content");let d=function(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(mj[n]||{})[i]||gj[n]}(s,c);const{value:h,isSecondary:p}=function(t){const e=t.replace(hj,""),n=function(t,e){const n=t.length;let r,i=t.charCodeAt(e);return i>=55296&&i<=56319&&n>e+1&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?1024*(i-55296)+r-56320+65536:i}(e,0),r=n>=pj[0]&&n<=pj[1],i=2===e.length&&e[0]===e[1];return{value:HI(i?e[0]:e),isSecondary:r||i}}(u),f=l[0].startsWith("FontAwesome");let m=aA(d,h),g=m;if(f){const t=function(t){const e=eA[t],n=aA("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);t.iconName&&t.prefix&&(m=t.iconName,d=t.prefix)}if(!m||p||o&&o.getAttribute(JT)===d&&o.getAttribute(XT)===g)r();else{t.setAttribute(n,g),o&&t.removeChild(o);const a={iconName:null,title:null,titleId:null,prefix:null,transform:kI,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:s}=a;s.attributes[$T]=e,DA(m,d).then((i=>{const o=jA(hT(hT({},a),{},{icons:{main:i,mask:uA()},prefix:d,iconName:g,extra:s,watchable:!0})),l=bT.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(l,t.firstChild):t.appendChild(l),l.outerHTML=o.map((t=>VI(t))).join("\n"),t.removeAttribute(n),r()})).catch(i)}}else r()}))}function vj(t){return Promise.all([yj(t,"::before"),yj(t,"::after")])}function xj(t){return t.parentNode!==document.head&&!~eI.indexOf(t.tagName.toUpperCase())&&!t.getAttribute($T)&&(!t.parentNode||"svg"!==t.parentNode.tagName)}function bj(t){if(kT)return new Promise(((e,n)=>{const r=CI(t.querySelectorAll("*")).filter(xj).map(vj),i=UA.begin("searchPseudoElements");YA(),Promise.all(r).then((()=>{i(),JA(),e()})).catch((()=>{i(),JA(),n()}))}))}var wj={hooks:()=>({mutationObserverCallbacks:t=>(t.pseudoElementsCallback=bj,t)}),provides(t){t.pseudoElements2svg=function(t){const{node:e=bT}=t;bI.searchPseudoElements&&bj(e)}}};let Sj=!1;const kj=t=>t.toLowerCase().split(" ").reduce(((t,e)=>{const n=e.toLowerCase().split("-"),r=n[0];let i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var Ej={mixout:()=>({parse:{transform:t=>kj(t)}}),hooks:()=>({parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=kj(n)),t}}),provides(t){t.generateAbstractTransformGrouping=function(t){let{main:e,transform:n,containerWidth:r,iconWidth:i}=t;const o={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:hT({},c.outer),children:[{tag:"g",attributes:hT({},c.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:hT(hT({},e.icon.attributes),c.path)}]}]}}}};const _j={x:0,y:0,width:"100%",height:"100%"};function Cj(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}var Tj={hooks:()=>({parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?pA(n.split(" ").map((t=>t.trim()))):uA();return r.prefix||(r.prefix=cA()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}),provides(t){t.generateAbstractMask=function(t){let{children:e,attributes:n,main:r,mask:i,maskId:o,transform:a}=t;const{width:s,icon:l}=r,{width:c,icon:u}=i,d=function(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:a,containerWidth:c,iconWidth:s}),h={tag:"rect",attributes:hT(hT({},_j),{},{fill:"white"})},p=l.children?{children:l.children.map(Cj)}:{},f={tag:"g",attributes:hT({},d.inner),children:[Cj(hT({tag:l.tag,attributes:hT(hT({},l.attributes),d.path)},p))]},m={tag:"g",attributes:hT({},d.outer),children:[f]},g="mask-".concat(o||_I()),y="clip-".concat(o||_I()),v={tag:"mask",attributes:hT(hT({},_j),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(b=u,"g"===b.tag?b.children:[b])},v]};var b;return e.push(x,{tag:"rect",attributes:hT({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},_j)}),{children:e,attributes:n}}}},Ij={provides(t){let e=!1;xT.matchMedia&&(e=xT.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const t=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:hT(hT({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=hT(hT({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:hT(hT({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:hT(hT({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:hT(hT({},i),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:hT(hT({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:hT(hT({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:hT(hT({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:hT(hT({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},Aj={hooks:()=>({parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return t.symbol=r,t}})};!function(t,e){let{mixoutsTo:n}=e;gA=t,yA={},Object.keys(vA).forEach((t=>{-1===xA.indexOf(t)&&delete vA[t]})),gA.forEach((t=>{const e=t.mixout?t.mixout():{};if(Object.keys(e).forEach((t=>{"function"===typeof e[t]&&(n[t]=e[t]),"object"===typeof e[t]&&Object.keys(e[t]).forEach((r=>{n[t]||(n[t]={}),n[t][r]=e[t][r]}))})),t.hooks){const e=t.hooks();Object.keys(e).forEach((t=>{yA[t]||(yA[t]=[]),yA[t].push(e[t])}))}t.provides&&t.provides(vA)}))}([DI,lj,cj,uj,dj,wj,{mixout:()=>({dom:{unwatch(){YA(),Sj=!0}}}),hooks:()=>({bootstrap(){ZA(bA("mutationObserverCallbacks",{}))},noAuto(){XA&&XA.disconnect()},watch(t){const{observeMutationsRoot:e}=t;Sj?JA():ZA(bA("mutationObserverCallbacks",{observeMutationsRoot:e}))}})},Ej,Tj,Ij,Aj],{mixoutsTo:TA});const jj=TA.parse,Pj=TA.icon;var Rj=n(173),Nj=n.n(Rj);function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oj(Object(n),!0).forEach((function(e){Lj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mj(t){return Mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mj(t)}function Lj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fj(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zj(t){return function(t){if(Array.isArray(t))return Uj(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Uj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uj(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vj(t){return e=t,(e-=0)===e?t:(t=t.replace(/[\-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))).substr(0,1).toLowerCase()+t.substr(1);var e}var qj=["style"];var Bj=!1;try{Bj=!0}catch(GQ){}function Hj(t){return t&&"object"===Mj(t)&&t.prefix&&t.iconName&&t.icon?t:jj.icon?jj.icon(t):null===t?null:t&&"object"===Mj(t)&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"===typeof t?{prefix:"fas",iconName:t}:void 0}function Wj(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Lj({},t,e):{}}var Kj=t.forwardRef((function(t,e){var n=t.icon,r=t.mask,i=t.symbol,o=t.className,a=t.title,s=t.titleId,l=t.maskId,c=Hj(n),u=Wj("classes",[].concat(zj(function(t){var e,n=t.beat,r=t.fade,i=t.beatFade,o=t.bounce,a=t.shake,s=t.flash,l=t.spin,c=t.spinPulse,u=t.spinReverse,d=t.pulse,h=t.fixedWidth,p=t.inverse,f=t.border,m=t.listItem,g=t.flip,y=t.size,v=t.rotation,x=t.pull,b=(Lj(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":h,"fa-inverse":p,"fa-border":f,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(y),"undefined"!==typeof y&&null!==y),Lj(e,"fa-rotate-".concat(v),"undefined"!==typeof v&&null!==v&&0!==v),Lj(e,"fa-pull-".concat(x),"undefined"!==typeof x&&null!==x),Lj(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(b).map((function(t){return b[t]?t:null})).filter((function(t){return t}))}(t)),zj(o.split(" ")))),d=Wj("transform","string"===typeof t.transform?jj.transform(t.transform):t.transform),h=Wj("mask",Hj(r)),p=Pj(c,Dj(Dj(Dj(Dj({},u),d),h),{},{symbol:i,title:a,titleId:s,maskId:l}));if(!p)return function(){var t;!Bj&&console&&"function"===typeof console.error&&(t=console).error.apply(t,arguments)}("Could not find icon",c),null;var f=p.abstract,m={ref:e};return Object.keys(t).forEach((function(e){Kj.defaultProps.hasOwnProperty(e)||(m[e]=t[e])})),Gj(f[0],m)}));Kj.displayName="FontAwesomeIcon",Kj.propTypes={beat:Nj().bool,border:Nj().bool,beatFade:Nj().bool,bounce:Nj().bool,className:Nj().string,fade:Nj().bool,flash:Nj().bool,mask:Nj().oneOfType([Nj().object,Nj().array,Nj().string]),maskId:Nj().string,fixedWidth:Nj().bool,inverse:Nj().bool,flip:Nj().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Nj().oneOfType([Nj().object,Nj().array,Nj().string]),listItem:Nj().bool,pull:Nj().oneOf(["right","left"]),pulse:Nj().bool,rotation:Nj().oneOf([0,90,180,270]),shake:Nj().bool,size:Nj().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Nj().bool,spinPulse:Nj().bool,spinReverse:Nj().bool,symbol:Nj().oneOfType([Nj().bool,Nj().string]),title:Nj().string,titleId:Nj().string,transform:Nj().oneOfType([Nj().string,Nj().object]),swapOpacity:Nj().bool},Kj.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Gj=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return t(e,n)})),o=Object.keys(n.attributes||{}).reduce((function(t,e){var r=n.attributes[e];switch(e){case"class":t.attrs.className=r,delete n.attributes.class;break;case"style":t.attrs.style=r.split(";").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n,r=e.indexOf(":"),i=Vj(e.slice(0,r)),o=e.slice(r+1).trim();return i.startsWith("webkit")?t[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:t[i]=o,t}),{});break;default:0===e.indexOf("aria-")||0===e.indexOf("data-")?t.attrs[e.toLowerCase()]=r:t.attrs[Vj(e)]=r}return t}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,l=Fj(r,qj);return o.attrs.style=Dj(Dj({},o.attrs.style),s),e.apply(void 0,[n.tag,Dj(Dj({},o.attrs),l)].concat(zj(i)))}.bind(null,t.createElement);const Qj={prefix:"far",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"]},$j={prefix:"far",iconName:"eye",icon:[576,512,[128065],"f06e","M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"]},Yj={prefix:"far",iconName:"circle-left",icon:[512,512,[61840,"arrow-alt-circle-left"],"f359","M48 256a208 208 0 1 1 416 0A208 208 0 1 1 48 256zm464 0A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM217.4 376.9c4.2 4.5 10.1 7.1 16.3 7.1c12.3 0 22.3-10 22.3-22.3l0-57.7 96 0c17.7 0 32-14.3 32-32l0-32c0-17.7-14.3-32-32-32l-96 0 0-57.7c0-12.3-10-22.3-22.3-22.3c-6.2 0-12.1 2.6-16.3 7.1L117.5 242.2c-3.5 3.8-5.5 8.7-5.5 13.8s2 10.1 5.5 13.8l99.9 107.1z"]},Jj=Yj;const Xj="admin",Zj="property_manager",tP="assistant_manager",eP="maintenance_lead",nP="maintenance",rP="contractor",iP="tenant",oP=[Xj,Zj,tP],aP=[Xj,Zj],sP=[Xj,Zj,tP,eP,nP],lP=[Xj,Zj,tP,eP],cP=[nP,rP,iP],uP=[Xj,Zj,tP,eP,nP],dP="admin",hP="viewer",pP=async(t,e)=>{try{const n=await function(t,e,n){return No(t.app)?Promise.reject(_y(t)):yx(Hi(t),nx.credential(e,n)).catch((async e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&vx(t),e}))}(Kb,t,e);return await mP(n.user.uid)}catch(n){throw console.error("Sign in error:",n),new Error(yP(n.code))}},fP=async function(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xj;try{const o=await async function(t,e,n){if(No(t.app))return Promise.reject(_y(t));const r=Pv(t),i=Vv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cx,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&vx(t),e})),a=await ux._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(Kb,t,e);await xx(o.user,{displayName:"".concat(n," ").concat(r)});const a={id:o.user.uid,firstName:n,lastName:r,email:t,role:i,title:vP(i),image:"https://ui-avatars.com/api/?name=".concat(n,"+").concat(r,"&background=22c55e&color=fff")};return await function(t,e,n){t=ts(t,Hf);const r=ts(t.firestore,Jf),i=Hm(t.converter,e,n);return eg(r,[hm(dm(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,mu.none())])}(Gf(Wb,"users",o.user.uid),{...a,createdAt:Am(),updatedAt:Am()}),a}catch(o){throw console.error("Sign up error:",o),new Error(yP(o.code))}},mP=async t=>{try{const e=await Ym(Gf(Wb,"users",t));if(!e.exists())throw new Error("User profile not found");const n=e.data(),r={...n,id:t};return n.createdAt&&"object"===typeof n.createdAt&&"toDate"in n.createdAt&&(r.createdAt=n.createdAt.toDate().toISOString()),n.updatedAt&&"object"===typeof n.updatedAt&&"toDate"in n.updatedAt&&(r.updatedAt=n.updatedAt.toDate().toISOString()),r}catch(e){throw console.error("Get user profile error:",e),new Error("Failed to load user profile")}},gP=t=>function(t,e,n,r){return Hi(t).onAuthStateChanged(e,n,r)}(Kb,(async e=>{if(e)try{const n=await mP(e.uid);t(n)}catch(n){console.error("Error loading user profile:",n),t(null)}else t(null)})),yP=t=>{switch(t){case"auth/user-not-found":return"No account found with this email address";case"auth/wrong-password":return"Incorrect password";case"auth/invalid-email":return"Invalid email address";case"auth/user-disabled":return"This account has been disabled";case"auth/email-already-in-use":return"An account already exists with this email";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/too-many-requests":return"Too many failed attempts. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";case"auth/invalid-credential":return"Invalid email or password";default:return"Authentication failed. Please try again"}},vP=t=>({[Xj]:"Administrator",[Zj]:"Property Manager",[tP]:"Assistant Manager",[eP]:"Maintenance Lead",[nP]:"Maintenance Technician",[rP]:"Contractor",[iP]:"Tenant"}[t]||"User"),xP=()=>{const e=YS(),n=A(),[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const t=localStorage.getItem("savedEmail");t&&(i(t),f(!0))}),[]);return(0,jk.jsxs)(XC,{children:[(0,jk.jsx)(eT,{href:"/",children:(0,jk.jsx)(Kj,{icon:Jj})}),(0,jk.jsx)(ZC,{children:"Login"}),s&&(0,jk.jsx)(lT,{children:s}),(0,jk.jsx)(tT,{placeholder:"Email Address",autoComplete:"email",value:r,onChange:t=>{var e;e=t.target.value,i(e),l(""),p&&localStorage.setItem("savedEmail",e)}}),(0,jk.jsxs)(iT,{children:[(0,jk.jsx)(tT,{placeholder:"Password",type:d?"text":"password",autoComplete:"current-password",value:o,onChange:t=>{a(t.target.value),l("")}}),(0,jk.jsx)(oT,{type:"button",tabIndex:-1,onClick:t=>{t.preventDefault(),h(!d)},title:d?"Hide password":"Show password",children:(0,jk.jsx)(Kj,{icon:d?Qj:$j})})]}),(0,jk.jsxs)(aT,{children:[(0,jk.jsx)("input",{type:"checkbox",id:"rememberEmail",checked:p,onChange:t=>{return e=t.target.checked,f(e),void(e?localStorage.setItem("savedEmail",r):localStorage.removeItem("savedEmail"));var e}}),(0,jk.jsx)(sT,{htmlFor:"rememberEmail",children:"Save email address"})]}),(0,jk.jsxs)(nT,{onClick:t=>(async t=>{t.preventDefault(),l(""),u(!0);try{console.log("LoginCard: Attempting Firebase login with:",{email:r,emailLength:r.length,passwordLength:o.length,emailTrimmed:r.trim(),hasEmail:!!r,hasPassword:!!o});const t=await pP(r.trim(),o.trim());console.log("LoginCard: Firebase authentication successful:",t),n(We(t)),localStorage.setItem("loggedUser",JSON.stringify({token:"firebase-token-".concat(t.id),user:t})),e("/dashboard")}catch(s){console.error("LoginCard: Authentication error:",s),l(s.message||"Login failed. Please try again.")}finally{u(!1)}})(t),disabled:c,children:[c&&(0,jk.jsx)(cT,{}),c?"Signing in...":"Login"]}),(0,jk.jsx)(rT,{children:(0,jk.jsxs)("p",{children:["Don't have an account? ",(0,jk.jsx)("a",{href:"#/registration",children:"Sign up here"})]})})]})};var bP;const wP=CC.div(bP||(bP=Rk(["\n\tdisplay: grid;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\twidth: 100vw;\n\tbackground: linear-gradient(\n\t\t135deg,\n\t\t"," 0%,\n\t\t"," 50%,\n\t\t#e0f2fe 100%\n\t);\n\tposition: relative;\n\toverflow: hidden;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: -50%;\n\t\tright: -10%;\n\t\twidth: 500px;\n\t\theight: 500px;\n\t\tbackground: radial-gradient(\n\t\t\tcircle,\n\t\t\t"," 0%,\n\t\t\ttransparent 70%\n\t\t);\n\t\topacity: 0.3;\n\t\tpointer-events: none;\n\t}\n\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: -30%;\n\t\tleft: -5%;\n\t\twidth: 300px;\n\t\theight: 300px;\n\t\tbackground: radial-gradient(\n\t\t\tcircle,\n\t\t\t"," 0%,\n\t\t\ttransparent 70%\n\t\t);\n\t\topacity: 0.3;\n\t\tpointer-events: none;\n\t}\n"])),zC.bgLight,zC.gray100,zC.primaryLight,zC.secondaryLight),SP=()=>(0,jk.jsx)(wP,{children:(0,jk.jsx)(xP,{})});var kP,EP,_P,CP,TP,IP,AP,jP,PP,RP;const NP=CC.form(kP||(kP=Rk(["\n\tdisplay: grid;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 10px;\n\tborder: 1px solid black;\n\tborder-radius: 10px;\n\tbackground-color: white;\n\twidth: 100%;\n\tmax-width: 400px;\n\n\t@media (max-width: 768px) {\n\t\tmax-width: 350px;\n\t\tpadding: 8px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmax-width: 100%;\n\t\tpadding: 8px;\n\t\tborder-radius: 5px;\n\t}\n"]))),OP=CC.a(EP||(EP=Rk(["\n\tpadding: 10px;\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px;\n\t\tfont-size: 14px;\n\t}\n"]))),DP=CC.h2(_P||(_P=Rk(["\n\tfont-size: 26px;\n\tfont-weight: 700;\n\tmargin: 10px auto 20px auto;\n\ttext-decoration: underline;\n\ttext-align: center;\n\tcolor: #333;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 20px;\n\t\tmargin: 10px auto 18px auto;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 17px;\n\t\tmargin: 8px auto 16px auto;\n\t}\n"]))),MP=CC.input(CP||(CP=Rk(["\n\tpadding: 12px 12px;\n\tfont-size: 16px;\n\tmargin: 8px 0;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\twidth: calc(100% - 24px);\n\tbox-sizing: border-box;\n\ttransition: border-color 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #3498db;\n\t\tbox-shadow: 0 0 4px rgba(52, 152, 219, 0.3);\n\t}\n\n\t&:hover {\n\t\tborder-color: #999;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 11px 11px;\n\t\tfont-size: 15px;\n\t\tmargin: 7px 0;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px 10px;\n\t\tfont-size: 14px;\n\t\tmargin: 6px 0;\n\t\twidth: calc(100% - 20px);\n\t}\n"]))),LP=CC.button(TP||(TP=Rk(["\n\tmargin: 20px auto;\n\tfont-size: 18px;\n\tpadding: 5px 20px;\n\tborder-radius: 5px;\n\tborder: 1px solid gray;\n\n\t&:hover {\n\t\tborder-color: black;\n\t\tcursor: pointer;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t\tpadding: 4px 15px;\n\t\tmargin: 15px auto;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t\tpadding: 4px 12px;\n\t\tmargin: 10px auto;\n\t}\n"]))),FP=CC.div(IP||(IP=Rk(["\n\tspan {\n\t\tcolor: #10b981;\n\t\t&:hover {\n\t\t\tcolor: #059669;\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 14px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t}\n"]))),zP=CC.div(AP||(AP=Rk(["\n\tbackground-color: #fee;\n\tborder: 1px solid #fcc;\n\tcolor: #c33;\n\tpadding: 12px;\n\tborder-radius: 4px;\n\tmargin-bottom: 16px;\n\tfont-size: 14px;\n\twidth: 100%;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 10px;\n\t\tmargin-bottom: 14px;\n\t\tfont-size: 13px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px;\n\t\tmargin-bottom: 12px;\n\t\tfont-size: 12px;\n\t}\n"]))),UP=CC.div(jP||(jP=Rk(["\n\tborder: 3px solid #f3f3f3;\n\tborder-top: 3px solid #3498db;\n\tborder-radius: 50%;\n\twidth: 20px;\n\theight: 20px;\n\tanimation: spin 1s linear infinite;\n\tdisplay: inline-block;\n\tmargin-right: 8px;\n\tvertical-align: middle;\n\n\t@keyframes spin {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n"]))),VP=CC.div(PP||(PP=Rk(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tmargin: 10px;\n\n\t@media (max-width: 768px) {\n\t\tmargin: 8px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmargin: 6px;\n\t}\n"]))),qP=CC.button(RP||(RP=Rk(["\n\tposition: absolute;\n\tright: 15px;\n\tbackground: none;\n\tborder: none;\n\tcursor: pointer;\n\tcolor: #666;\n\tfont-size: 18px;\n\tpadding: 5px 10px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&:hover {\n\t\tcolor: #333;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t\tright: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t\tright: 10px;\n\t\tpadding: 4px 8px;\n\t}\n"]))),BP={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},HP=BP,WP={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},KP=WP,GP={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM215 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L392 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-214.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L103 273c-9.4-9.4-9.4-24.6 0-33.9L215 127z"]},QP=GP,$P={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},YP={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},JP=YP,XP={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},ZP={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},tR={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},eR=tR;const nR=()=>{const[e,n]=(0,t.useState)(1),[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(""),[w,S]=(0,t.useState)(!1),[k,E]=(0,t.useState)(!1),[_,C]=(0,t.useState)(!1),T=YS(),I=A(),j=()=>{b(""),1===e&&(r.trim()?o.trim()||(b("Please enter your last name"),0):(b("Please enter your first name"),0))?n(2):2===e&&(s.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?c.length<8?(b("Password must be at least 8 characters long"),0):y||(b("Passwords do not match"),0):(b("Please enter a valid email address"),0):(b("Please enter your email address"),0))&&n(3)},P=()=>{b(""),e>1&&n(e-1)},R=async()=>{b(""),S(!0);try{console.log("RegistrationCard: Starting Firebase registration",{email:s.trim(),emailLength:s.length,firstName:r.trim(),lastName:o.trim(),passwordLength:c.length});const t=await fP(s.trim(),c.trim(),r.trim(),o.trim(),Xj);console.log("RegistrationCard: Firebase registration successful",t),I(We(t)),localStorage.setItem("loggedUser",JSON.stringify({token:"firebase-token-".concat(t.id),user:t})),console.log("RegistrationCard: Navigating to dashboard"),T("/dashboard")}catch(x){console.error("RegistrationCard: Registration error",x),b(x.message||"Registration failed. Please try again."),S(!1)}};return(0,t.useEffect)((()=>{v(c===d)}),[c,d]),(0,jk.jsxs)(NP,{onSubmit:t=>t.preventDefault(),children:[(0,jk.jsx)(OP,{href:"#/login",children:(0,jk.jsx)(Kj,{icon:QP})}),(0,jk.jsxs)(DP,{children:[1===e&&"Create Account - Step 1 of 3",2===e&&"Create Account - Step 2 of 3",3===e&&"Create Account - Step 3 of 3"]}),x&&(0,jk.jsx)(zP,{children:x}),1===e&&(0,jk.jsxs)(jk.Fragment,{children:[(0,jk.jsx)("p",{style:{margin:"10px",fontSize:"14px",color:"#666"},children:"Let's start with your name"}),(0,jk.jsx)(MP,{placeholder:"First Name *",type:"text",autoComplete:"given-name",value:r,onChange:t=>{i(t.target.value),b("")},required:!0}),(0,jk.jsx)(MP,{placeholder:"Last Name *",type:"text",autoComplete:"family-name",value:o,onChange:t=>{a(t.target.value),b("")},required:!0}),(0,jk.jsx)(LP,{type:"button",onClick:j,children:"Next"})]}),2===e&&(0,jk.jsxs)(jk.Fragment,{children:[(0,jk.jsx)("p",{style:{margin:"10px",fontSize:"14px",color:"#666"},children:"Create your login credentials"}),(0,jk.jsx)(MP,{placeholder:"Email Address *",type:"email",autoComplete:"email",value:s,onChange:t=>{l(t.target.value),b("")},required:!0}),(0,jk.jsxs)(VP,{children:[(0,jk.jsx)(MP,{placeholder:"Password (min 8 characters) *",type:k?"text":"password",autoComplete:"new-password",value:c,onChange:t=>{u(t.target.value),b("")},required:!0}),(0,jk.jsx)(qP,{type:"button",tabIndex:-1,onClick:t=>{t.preventDefault(),E(!k)},title:k?"Hide password":"Show password",children:(0,jk.jsx)(Kj,{icon:k?Qj:$j})})]}),(0,jk.jsxs)(VP,{children:[(0,jk.jsx)(MP,{placeholder:"Confirm Password *",type:_?"text":"password",autoComplete:"new-password",value:d,onChange:t=>{h(t.target.value),b("")},required:!0}),(0,jk.jsx)(qP,{type:"button",tabIndex:-1,onClick:t=>{t.preventDefault(),C(!_)},title:_?"Hide password":"Show password",children:(0,jk.jsx)(Kj,{icon:_?Qj:$j})})]}),c&&d&&(0,jk.jsx)("p",{style:{margin:"5px 10px",fontSize:"12px",color:y?"#22c55e":"#c33"},children:y?"\u2713 Passwords match":"\u2717 Passwords do not match"}),(0,jk.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,jk.jsx)(LP,{type:"button",onClick:P,children:"Back"}),(0,jk.jsx)(LP,{type:"button",onClick:j,children:"Next"})]})]}),3===e&&(0,jk.jsxs)(jk.Fragment,{children:[(0,jk.jsx)("p",{style:{margin:"10px",fontSize:"14px",color:"#666"},children:"Additional information (optional)"}),(0,jk.jsx)(MP,{placeholder:"Phone Number (optional)",type:"tel",autoComplete:"tel",value:p,onChange:t=>f(t.target.value)}),(0,jk.jsx)(MP,{placeholder:"Address (optional)",type:"text",autoComplete:"street-address",value:m,onChange:t=>g(t.target.value)}),(0,jk.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,jk.jsx)(LP,{type:"button",onClick:P,disabled:w,children:"Back"}),(0,jk.jsxs)(LP,{type:"button",onClick:()=>{b(""),R()},disabled:w,children:[w&&(0,jk.jsx)(UP,{}),w?"Creating account...":"Skip & Complete"]}),(0,jk.jsxs)(LP,{type:"button",onClick:R,disabled:w,style:{backgroundColor:"#22c55e",color:"white"},children:[w&&(0,jk.jsx)(UP,{}),w?"Creating account...":"Complete"]})]})]}),(0,jk.jsx)(FP,{children:(0,jk.jsxs)("p",{children:["Already have an account? ",(0,jk.jsx)("a",{href:"#/login",children:"Login here"})]})})]})};var rR;const iR=CC.div(rR||(rR=Rk(["\n\tdisplay: grid;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\twidth: 100vw;\n\tbackground: linear-gradient(112.6deg, #ffffff, #dddddd, #aaaaaa);\n"]))),oR=()=>(0,jk.jsx)(iR,{children:(0,jk.jsx)(nR,{})}),aR=()=>(0,jk.jsx)("div",{children:"Loading....."}),sR=e=>{let{children:n,requiredRoles:r=[]}=e;const i=A(),o=b((t=>t.user.currentUser)),a=b((t=>t.user.authLoading));return(0,t.useEffect)((()=>{a||o||(localStorage.removeItem("loggedUser"),i(Qe()))}),[o,a,i]),a?(0,jk.jsx)(aR,{}):o?r.length>0&&!r.includes(o.role)?(0,jk.jsx)(fk,{to:"/unauthorized",replace:!0}):(0,jk.jsx)(jk.Fragment,{children:n}):(0,jk.jsx)(fk,{to:"/login",replace:!0})};var lR,cR;const uR=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=kC.apply(void 0,Ok([e],n,!1)),o="sc-global-".concat(o_(JSON.stringify(i))),a=new TC(i,o),s=new WeakMap,l=function(e){var n=aC(),r=BE?void 0:t.useContext(vC),i=s.get(n.styleSheet);if(void 0===i&&(i=n.styleSheet.allocateGSInstance(o),s.set(n.styleSheet,i)),("undefined"==typeof window||!n.styleSheet.server)&&function(t,e,n,r,i){if(a.isStatic)a.renderStyles(t,WE,n,i);else{var o=Nk(Nk({},e),{theme:QE(e,r,l.defaultProps)});a.renderStyles(t,o,n,i)}}(i,e,n.styleSheet,r,n.stylis),!BE){var c=t.useRef(!0);t.useLayoutEffect((function(){return c.current=!1,function(){c.current=!0,queueMicrotask((function(){c.current&&(a.removeStyles(i,n.styleSheet),"undefined"!=typeof document&&document.querySelectorAll('style[data-styled-global="'.concat(o,'"]')).forEach((function(t){return t.remove()})))}))}}),[i,n.styleSheet])}if(BE){var u=o+i,d="undefined"==typeof window?n.styleSheet.getTag().getGroup(D_(u)):"";if(d){var h="".concat(o,"-").concat(i);return t.createElement("style",{key:h,"data-styled-global":o,precedence:"styled-components",href:h,children:d})}}return null};return t.memo(l)}(lR||(lR=Rk(["\n    *, *::before, *::after {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n\tbox-sizing: border-box;\n\t}\n\n    html {\n        scroll-behavior: smooth;\n    }\n\n    body {\n        background-color: ",";\n        color: ",";\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    /* Scrollbar styling */\n    ::-webkit-scrollbar {\n        width: 8px;\n        height: 8px;\n    }\n\n    ::-webkit-scrollbar-track {\n        background: ",";\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 4px;\n\n        &:hover {\n            background: ",";\n        }\n    }\n\n    /* Selection styling */\n    ::selection {\n        background-color: ",";\n        color: ",";\n    }\n\n"])),zC.bgLight,zC.textPrimary,zC.gray100,zC.gray300,zC.gray400,zC.primaryLight,zC.textPrimary),dR="70px",hR="18px",pR=(CC.div(cR||(cR=Rk(["\n\t@media only screen and (min-width: 768px) {\n\t\twidth: ",";\n\t}\n"])),(t=>t.span?t.span/12*100:"25%")),uR);var fR,mR,gR,yR,vR;const xR=CC.div(fR||(fR=Rk(["\n\twidth: 30%;\n\tborder: 1px solid black;\n\tmin-height: calc(500px - ",");\n\theight: 100%;\n\tpadding: 10px;\n\n\t@media (max-width: 1024px) {\n\t\twidth: 40%;\n\t}\n\n\t@media (max-width: 768px) {\n\t\twidth: 60%;\n\t\tpadding: 8px;\n\t\tmin-height: calc(450px - ",");\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 90%;\n\t\tpadding: 8px;\n\t\tmin-height: auto;\n\t}\n"])),dR,dR),bR=CC.div(mR||(mR=Rk(["\n\theight: 200px;\n\tdisplay: grid;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: #b0c4de;\n\tborder-bottom: solid 1px;\n\n\t@media (max-width: 768px) {\n\t\theight: 180px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\theight: 150px;\n\t}\n"]))),wR=CC.img(gR||(gR=Rk(["\n\theight: 150px;\n\twidth: 150px;\n\tborder-radius: 50%;\n\n\t@media (max-width: 768px) {\n\t\theight: 130px;\n\t\twidth: 130px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\theight: 110px;\n\t\twidth: 110px;\n\t}\n"]))),SR=CC.div(yR||(yR=Rk(["\n\theight: 60%;\n"]))),kR=CC.div(vR||(vR=Rk(["\n\theight: 20%;\n\tpadding: 10px;\n\tfont-size: 18px;\n\tfont-weight: 600;\n\ttext-align: center;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t\tpadding: 8px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t\tpadding: 6px;\n\t}\n"]))),ER=()=>{const t=n(752);return(0,jk.jsxs)(xR,{children:[(0,jk.jsx)(bR,{children:(0,jk.jsx)(wR,{src:t,alt:"Profile picture"})}),(0,jk.jsxs)(SR,{children:[(0,jk.jsx)(kR,{children:(0,jk.jsxs)("p",{children:["Total Tasks: ",(0,jk.jsx)("span",{children:"10"})]})}),(0,jk.jsx)(kR,{children:(0,jk.jsxs)("p",{children:["Properties Added: ",(0,jk.jsx)("span",{children:"2"})]})}),(0,jk.jsx)(kR,{children:(0,jk.jsxs)("p",{children:["Overdue Tasks: ",(0,jk.jsx)("span",{children:"10"})]})}),(0,jk.jsx)(kR,{children:(0,jk.jsxs)("p",{children:["My Completed: ",(0,jk.jsx)("span",{children:"10"})]})})]})]})};var _R,CR;const TR=CC.ul(_R||(_R=Rk(["\n\twidth: 90%;\n\tpadding: 0;\n\tmargin: 0;\n\n\t@media (max-width: 768px) {\n\t\twidth: 95%;\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 100%;\n\t\tpadding: 0 10px;\n\t}\n"]))),IR=(CC.li(CR||(CR=Rk(["\n\tlist-style: none;\n\ttext-align: center;\n\tfont-size: 16px;\n\tmargin-top: 10px;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 14px;\n\t\tmargin-top: 8px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t\tmargin-top: 6px;\n\t}\n"]))),t=>{console.log(t);const e=t.taskData.dueDate;return console.log(e),(0,jk.jsx)(TR,{children:t.taskData.map((t=>(console.log(t),(0,jk.jsxs)("div",{children:[(0,jk.jsx)("div",{children:t.taskName}),(0,jk.jsx)("div",{children:new Date(t.dueDate).toDateString()})]}))))})});var AR,jR;const PR=CC.div(AR||(AR=Rk([""]))),RR=CC.div(jR||(jR=Rk(["\n\tdisplay: grid;\n\tmin-height: 50vh;\n\theight: 100%;\n\tjustify-content: center;\n"]))),NR=()=>{const e=b((t=>t.user.cred)),n=b((t=>t.navigation.tabSelection));console.info("Homepage states",{store_User:e});const[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)([]);return console.log("tabIndex",n),(0,jk.jsx)("div",{children:1===n?(0,jk.jsx)(PR,{children:(0,jk.jsx)(RR,{})}):2===n?(0,jk.jsx)(PR,{children:(0,jk.jsx)(RR,{children:(0,jk.jsx)(ER,{})})}):(0,jk.jsx)(PR,{children:(0,jk.jsxs)(RR,{children:[(0,jk.jsx)("div",{children:"Overdue Tasks"}),(0,jk.jsx)(IR,{taskData:r}),(0,jk.jsx)("div",{children:"Upcoming Tasks (Next 7 Days)"}),(0,jk.jsx)(IR,{taskData:o})]})})})};var OR,DR,MR,LR,FR,zR,UR,VR,qR;const BR=CC.div(OR||(OR=Rk(["\n\tborder: none;\n\tborder-bottom: 2px solid ",";\n\tdisplay: flex;\n\tflex-flow: row;\n\talign-items: center;\n\tjustify-content: space-between;\n\theight: ",";\n\tbackground: linear-gradient(\n\t\t90deg,\n\t\t"," 0%,\n\t\t"," 100%\n\t);\n\tpadding: 0 20px;\n\toverflow: visible;\n\tposition: relative;\n\tz-index: 100;\n\tbox-shadow: ",";\n\n\t@media (max-width: 768px) {\n\t\tpadding: 0 15px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 0 10px;\n\t}\n"])),zC.gray200,dR,zC.bgWhite,zC.gray50,zC.shadow),HR=CC.div(DR||(DR=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 30px;\n\tflex-shrink: 0;\n\twidth: 250px;\n\n\t.desktop-profile {\n\t\tdisplay: flex;\n\t}\n\n\t.mobile-title {\n\t\tdisplay: none;\n\t}\n\n\t@media (max-width: 1024px) {\n\t\tgap: 20px;\n\t\twidth: 200px;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tgap: 15px;\n\t\twidth: auto;\n\n\t\t.desktop-profile {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.mobile-title {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n"]))),WR=CC.div(MR||(MR=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tflex: 1;\n\toverflow: visible;\n\tz-index: 10;\n\tgap: 20px;\n\n\t.mobile-profile {\n\t\tdisplay: none;\n\t}\n\n\t.desktop-title {\n\t\tdisplay: block;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tflex-wrap: nowrap;\n\t\tjustify-content: flex-end;\n\n\t\t.mobile-profile {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.desktop-title {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n"]))),KR=CC.h1(LR||(LR=Rk(["\n\tfont-size: 20px;\n\tmargin: 0;\n\tflex-shrink: 0;\n\tbackground: ",";\n\t-webkit-background-clip: text;\n\t-webkit-text-fill-color: transparent;\n\tbackground-clip: text;\n\tfont-weight: 700;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t}\n"])),zC.gradientPrimary),GR=(CC.div(FR||(FR=Rk(["\n\tdisplay: flex;\n\tgap: 20px;\n\talign-items: center;\n\tflex-shrink: 0;\n\n\t@media (max-width: 1024px) {\n\t\tgap: 15px;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tgap: 10px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgap: 5px;\n\t}\n"]))),CC(Tk)(zR||(zR=Rk(["\n\ttext-align: center;\n\tcolor: ",";\n\ttext-decoration: none;\n\tcursor: pointer;\n\twhite-space: nowrap;\n\tpadding: 8px 12px;\n\tfont-size: ",";\n\tfont-weight: 500;\n\tborder-radius: 4px;\n\ttransition: all 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t}\n\n\t&.active {\n\t\tbackground: ",";\n\t\tcolor: ",";\n\t\tbox-shadow: ",";\n\t}\n"])),zC.primary,hR,zC.primaryLight,zC.primaryDark,zC.gradientPrimary,zC.bgWhite,zC.shadowMd),CC.button(UR||(UR=Rk(["\n\tdisplay: none;\n\tbackground: none;\n\tborder: none;\n\tcursor: pointer;\n\tfont-size: 24px;\n\tcolor: ",";\n\tpadding: 8px;\n\tmargin-right: 10px;\n\ttransition: all 0.2s ease;\n\n\t&:hover {\n\t\ttransform: scale(1.1);\n\t\tcolor: ",";\n\t}\n\n\t@media (max-width: 768px) {\n\t\tdisplay: block;\n\t}\n"])),zC.primary,zC.primaryDark)),QR=CC.div(VR||(VR=Rk(["\n\tdisplay: none;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: ",";\n\tz-index: 999;\n\n\t@media (max-width: 768px) {\n\t\tdisplay: block;\n\t}\n"])),zC.overlay),$R=CC.div(qR||(qR=Rk(["\n\tdisplay: none;\n\tposition: fixed;\n\tleft: 0;\n\ttop: 60px;\n\twidth: 100%;\n\tmax-width: 300px;\n\theight: calc(100vh - 60px - 70px);\n\tbackground-color: #fefefe;\n\toverflow-y: auto;\n\tz-index: 1000;\n\tbox-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);\n\ttransform: ",";\n\ttransition: transform 0.3s ease;\n\n\t@media (max-width: 768px) {\n\t\tdisplay: block;\n\t}\n"])),(t=>t.isOpen?"translateX(0)":"translateX(-100%)"));var YR,JR,XR,ZR,tN,eN,nN,rN;const iN=CC.div(YR||(YR=Rk(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\n\t@media (max-width: 480px) {\n\t\tgap: 4px;\n\t}\n"]))),oN=CC.img(JR||(JR=Rk(["\n\twidth: 40px;\n\theight: 40px;\n\tborder-radius: 50%;\n\tobject-fit: cover;\n\tborder: 2px solid black;\n\n\t@media (max-width: 480px) {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tborder: 1px solid black;\n\t}\n"]))),aN=CC.div(XR||(XR=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tmargin-left: 8px;\n\n\t@media (max-width: 768px) {\n\t\tmargin-left: 6px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmargin-left: 4px;\n\t\tdisplay: none;\n\t}\n"]))),sN=CC.span(ZR||(ZR=Rk(["\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcolor: black;\n\twhite-space: nowrap;\n\tmargin: 0;\n\tline-height: 1.2;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 12px;\n\t}\n"]))),lN=CC.span(tN||(tN=Rk(["\n\tfont-size: 12px;\n\tcolor: #999999;\n\twhite-space: nowrap;\n\tmargin: 0;\n\tline-height: 1.2;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 10px;\n\t}\n"]))),cN=CC.div(eN||(eN=Rk(["\n\tposition: absolute;\n\ttop: calc(100% + 5px);\n\tleft: 0;\n\tbackground-color: white;\n\tborder: 1px solid #ccc;\n\tborder-radius: 4px;\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n\tz-index: 10000;\n\tmin-width: 150px;\n\tpointer-events: auto;\n\n\t@media (max-width: 480px) {\n\t\tmin-width: 120px;\n\t\ttop: calc(100% + 2px);\n\t}\n"]))),uN=CC(Tk)(nN||(nN=Rk(["\n\tdisplay: block;\n\tpadding: 10px 15px;\n\tcolor: #22c55e;\n\ttext-decoration: none;\n\tfont-size: 14px;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\n\t&:first-child {\n\t\tborder-radius: 4px 4px 0 0;\n\t}\n\n\t&:last-child {\n\t\tborder-radius: 0 0 4px 4px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: rgba(34, 197, 94, 0.1);\n\t\tcolor: #22c55e;\n\t}\n\n\t&.active {\n\t\tbackground-color: #22c55e;\n\t\tcolor: white;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 12px;\n\t}\n"]))),dN=CC.button(rN||(rN=Rk(["\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 10px 15px;\n\tcolor: ",";\n\tbackground: none;\n\tborder: none;\n\ttext-align: left;\n\tfont-size: 14px;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\n\t&:last-child {\n\t\tborder-radius: 0 0 4px 4px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 12px;\n\t}\n"])),(t=>"danger"===t.variant?"#ef4444":"#22c55e"),(t=>"danger"===t.variant?"rgba(239, 68, 68, 0.1)":"rgba(34, 197, 94, 0.1)"),(t=>"danger"===t.variant?"#dc2626":"#22c55e")),hN=e=>{let{userName:n="John Doe",userTitle:r="Administrator",userImage:i,onLogout:o}=e;const[a,s]=(0,t.useState)(!1);return console.log("UserProfile: Received props:",{userName:n,userTitle:r,userImage:i}),(0,jk.jsxs)(iN,{isOpen:a,children:[(0,jk.jsxs)("div",{onClick:()=>s(!a),style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[(0,jk.jsx)(oN,{src:i,alt:n}),(0,jk.jsxs)(aN,{children:[(0,jk.jsx)(sN,{children:n}),(0,jk.jsx)(lN,{children:r})]})]}),a&&(0,jk.jsxs)(cN,{children:[(0,jk.jsx)(uN,{to:"/profile",children:"Edit Profile"}),(0,jk.jsx)(uN,{to:"/settings",children:"Settings"}),(0,jk.jsx)(dN,{onClick:()=>{s(!1);const t=document.createElement("a");t.href="/PropertyManager.apk",t.download="PropertyManager.apk",document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:"Download Mobile App"}),o&&(0,jk.jsx)(dN,{variant:"danger",onClick:()=>{s(!1),o()},children:"Log Out"})]})]})};function pN(t,e){return"user_".concat(t,"_").concat(e)}const fN="recentlyViewedProperties",mN="recently-viewed-updated",gN=e=>{const[n,r]=(0,t.useState)([]);(0,t.useEffect)((()=>{const t=()=>{const t=e?pN(e,fN):fN,n=localStorage.getItem(t);if(n)try{r(JSON.parse(n))}catch(i){console.error("Error parsing recently viewed properties:",i)}else r([])};t();const n=()=>t();return window.addEventListener(mN,n),()=>window.removeEventListener(mN,n)}),[e]);return{recentProperties:n,addRecentlyViewed:t=>{r((n=>{const r=n.filter((e=>e.id!==t.id)),i=[{...t,timestamp:Date.now()},...r].slice(0,5),o=e?pN(e,fN):fN;return localStorage.setItem(o,JSON.stringify(i)),window.dispatchEvent(new Event(mN)),i}))},clearRecentlyViewed:()=>{r([]);const t=e?pN(e,fN):fN;localStorage.removeItem(t),window.dispatchEvent(new Event(mN))}}},yN="favoriteProperties",vN="favorites-updated",xN=e=>{const[n,r]=(0,t.useState)([]),{data:i=[],isLoading:o}=Fw(String(e||""),{skip:!e}),[a]=zw(),[s]=Uw();(0,t.useEffect)((()=>{if(i.length>0){const t=i.map((t=>({id:t.propertyId,title:t.title,slug:t.slug,timestamp:t.timestamp})));r(t);const n=e?pN(e,yN):yN;localStorage.setItem(n,JSON.stringify(t))}else!o&&e&&r([])}),[i,e,o]),(0,t.useEffect)((()=>{const t=()=>{const t=e?pN(e,yN):yN,n=localStorage.getItem(t);if(n)try{r(JSON.parse(n))}catch(i){console.error("Error parsing favorite properties:",i)}else r([])};t();const n=()=>t();return window.addEventListener(vN,n),()=>{window.removeEventListener(vN,n)}}),[e]);const l=async t=>{if(r((n=>{if(n.some((e=>e.id===t.id)))return n;const r=[{...t,timestamp:Date.now()},...n],i=e?pN(e,yN):yN;return localStorage.setItem(i,JSON.stringify(r)),window.dispatchEvent(new Event(vN)),r})),e)try{await a({userId:String(e),propertyId:t.id,title:t.title,slug:t.slug}).unwrap()}catch(n){console.error("Failed to add favorite to Firebase:",n)}},c=async t=>{if(r((n=>{const r=n.filter((e=>e.id!==t)),i=e?pN(e,yN):yN;return localStorage.setItem(i,JSON.stringify(r)),window.dispatchEvent(new Event(vN)),r})),e)try{await s({userId:String(e),propertyId:t}).unwrap()}catch(n){console.error("Failed to remove favorite from Firebase:",n)}},u=t=>n.some((e=>e.id===t));return{favorites:n,addFavorite:l,removeFavorite:c,toggleFavorite:t=>{u(t.id)?c(t.id):l(t)},isFavorite:u,clearFavorites:()=>{r([]);const t=e?pN(e,yN):yN;localStorage.removeItem(t),window.dispatchEvent(new Event(vN))},isLoading:o}},bN=t=>oP.includes(t),wN=t=>aP.includes(t),SN=t=>lP.includes(t),kN=t=>cP.includes(t),EN=t=>[Xj,Zj,tP,eP].includes(t),_N=t=>uP.includes(t),CN=t=>t===iP,TN=t=>({admin:"Administrator",viewer:"Viewer"}[t]||t),IN=()=>{const e=YS(),n=A(),r=b((t=>t.user.currentUser)),{recentProperties:i}=gN(r.id),{favorites:o}=xN(r.id),[a,s]=(0,t.useState)(!1),l=!!r&&wN(r.role),c=!!r&&bN(r.role),u=!!r&&_N(r.role),d=!!r&&CN(r.role),h=[{label:"Dashboard",path:"dashboard",visible:!d},{label:"Properties",path:"properties",visible:!d&&(c||u)},{label:"Team",path:"team",visible:!d&&(l||u)},{label:"Report",path:"report",visible:!d&&(c||u)}],p=()=>{localStorage.removeItem("loggedUser"),n(Qe()),e("/")};return(0,jk.jsxs)(jk.Fragment,{children:[(0,jk.jsxs)(BR,{children:[(0,jk.jsxs)(HR,{children:[(0,jk.jsx)(GR,{onClick:()=>s(!a),title:"Open menu",children:"\u2630"}),(0,jk.jsx)(KR,{className:"mobile-title",children:"My Property Manager"}),r&&(0,jk.jsx)("div",{className:"desktop-profile",children:(0,jk.jsx)(hN,{userName:"".concat(r.firstName," ").concat(r.lastName),userTitle:r.title,userImage:r.image,onLogout:p})})]}),(0,jk.jsxs)(WR,{children:[(0,jk.jsx)(KR,{className:"desktop-title",children:"My Property Manager"}),r&&(0,jk.jsx)("div",{className:"mobile-profile",children:(0,jk.jsx)(hN,{userName:"".concat(r.firstName," ").concat(r.lastName),userTitle:r.title,userImage:r.image,onLogout:p})})]})]}),a&&(0,jk.jsx)(QR,{onClick:()=>s(!1)}),(0,jk.jsxs)($R,{isOpen:a,children:[" ",(0,jk.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb"},children:[(0,jk.jsx)("h3",{style:{margin:"0 0 12px 0",fontSize:"12px",fontWeight:"600",color:"#999999",textTransform:"uppercase"},children:"Navigation"}),(0,jk.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:h.filter((t=>t.visible)).map((t=>(0,jk.jsx)("li",{style:{padding:"10px 0",fontSize:"14px",color:"#666666",cursor:"pointer",transition:"color 0.2s ease",borderBottom:"1px solid #f0f0f0"},onClick:()=>{e("/".concat(t.path)),s(!1)},onMouseEnter:t=>t.currentTarget.style.color="#22c55e",onMouseLeave:t=>t.currentTarget.style.color="#666666",children:t.label},t.label)))})]}),(0,jk.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb"},children:[(0,jk.jsx)("h3",{style:{margin:"0 0 12px 0",fontSize:"12px",fontWeight:"600",color:"#999999",textTransform:"uppercase"},children:"Favorites"}),o.length>0?(0,jk.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:o.slice(0,10).map((t=>(0,jk.jsx)("li",{style:{padding:"8px 0",fontSize:"13px",color:"#666666",cursor:"pointer",transition:"color 0.2s ease",borderBottom:"1px solid #f0f0f0"},onClick:()=>{e("/property/".concat(t.slug)),s(!1)},onMouseEnter:t=>t.currentTarget.style.color="#22c55e",onMouseLeave:t=>t.currentTarget.style.color="#666666",children:"\u2605 "+t.title},t.id)))}):(0,jk.jsx)("div",{style:{fontSize:"12px",color:"#999999"},children:"No favorite properties"})]}),(0,jk.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb"},children:[(0,jk.jsx)("h3",{style:{margin:"0 0 12px 0",fontSize:"12px",fontWeight:"600",color:"#999999",textTransform:"uppercase"},children:"Recently Viewed"}),i.length>0?(0,jk.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:i.slice(0,10).map((t=>(0,jk.jsx)("li",{style:{padding:"8px 0",fontSize:"13px",color:"#666666",cursor:"pointer",transition:"color 0.2s ease",borderBottom:"1px solid #f0f0f0"},onClick:()=>{e("/property/".concat(t.slug)),s(!1)},onMouseEnter:t=>t.currentTarget.style.color="#22c55e",onMouseLeave:t=>t.currentTarget.style.color="#666666",children:t.title},t.id)))}):(0,jk.jsx)("div",{style:{fontSize:"12px",color:"#999999"},children:"No recently viewed properties"})]}),(0,jk.jsx)("div",{style:{padding:"20px"},children:(0,jk.jsx)("button",{onClick:()=>{p(),s(!1)},style:{width:"100%",padding:"12px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>t.currentTarget.style.backgroundColor="#dc2626",onMouseLeave:t=>t.currentTarget.style.backgroundColor="#ef4444",children:"Log Out"})})]})]})};var AN,jN,PN,RN,NN,ON,DN,MN,LN,FN;const zN=CC.div(AN||(AN=Rk(["\n\tbackground-color: #fefefe;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n\tmin-height: 100%;\n\toverflow: visible;\n\n\t@media (max-width: 768px) {\n\t\tdisplay: none;\n\t}\n"]))),UN=CC.div(jN||(jN=Rk(["\n\tdisplay: flex;\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground-color: #fefefe;\n\tborder-top: 1px solid #e5e7eb;\n\tflex-direction: row;\n\tjustify-content: space-around;\n\tpadding: 8px 0;\n\tz-index: 100;\n\tbox-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);\n\n\t@media (max-width: 768px) {\n\t\tdisplay: flex;\n\t}\n\n\t@media (min-width: 769px) {\n\t\tdisplay: none;\n\t}\n"]))),VN=CC(Tk)(PN||(PN=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 4px;\n\tpadding: 8px 12px;\n\ttext-decoration: none;\n\tcolor: #666666;\n\tfont-size: 11px;\n\tfont-weight: 600;\n\ttext-align: center;\n\tflex: 1;\n\ttransition: all 0.2s ease;\n\tcursor: pointer;\n\twhite-space: nowrap;\n\n\t&:hover {\n\t\tcolor: #22c55e;\n\t\tbackground-color: rgba(34, 197, 94, 0.05);\n\t}\n\n\t&.active {\n\t\tcolor: #22c55e;\n\t\tbackground-color: rgba(34, 197, 94, 0.1);\n\t\tborder-top: 3px solid #22c55e;\n\t\tpadding-top: 5px;\n\t}\n"]))),qN=CC.div(RN||(RN=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n\tpadding: 20px;\n\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1); /* Divider added back above Favorites */\n\tflex: 0 0 auto;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 20px;\n\t\tborder-right: none;\n\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\t\tmin-width: auto;\n\t\tflex: 0 0 auto;\n\t\tmargin-top: 50px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 15px;\n\t\tmargin-top: 45px;\n\t}\n"]))),BN=CC.div(NN||(NN=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n\n\t@media (max-width: 768px) {\n\t\tgap: 8px;\n\t}\n"]))),HN=CC(Tk)(ON||(ON=Rk(["\n\tcolor: #22c55e;\n\ttext-decoration: none;\n\tfont-size: ",";\n\tfont-weight: 500;\n\tpadding: 8px 12px;\n\tborder-radius: 4px;\n\ttransition: all 0.2s ease;\n\tcursor: pointer;\n\twhite-space: nowrap;\n\n\t&:hover {\n\t\tbackground-color: rgba(34, 197, 94, 0.1);\n\t}\n\n\t&.active {\n\t\tbackground-color: #22c55e;\n\t\tcolor: white;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 12px;\n\t\tpadding: 6px 10px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 11px;\n\t\tpadding: 4px 8px;\n\t}\n"])),hR),WN=CC.div(DN||(DN=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 10px;\n\tpadding: 20px;\n\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1); /* Divider moved here */\n\tflex: 0 0 auto;\n\n\t&:last-of-type {\n\t\tborder-bottom: none;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 20px;\n\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\t\tborder-right: none;\n\t\tmin-width: auto;\n\t\tflex: 0 0 auto;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 15px;\n\t\tmin-width: auto;\n\t}\n"]))),KN=CC.h3(MN||(MN=Rk(["\n\tfont-size: 12px;\n\tfont-weight: 600;\n\ttext-transform: uppercase;\n\tcolor: #999999;\n\tmargin: 0 0 4px 0;\n\tletter-spacing: 0.5px;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 10px;\n\t\tmargin: 0 0 6px 0;\n\t}\n"]))),GN=CC.div(LN||(LN=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n\tfont-size: ",";\n\tcolor: black;\n\theight: 150px; /* Set fixed height for Favorites and Recently Viewed sections */\n\toverflow-y: auto; /* Enable scrolling if content exceeds height */\n\n\t@media (max-width: 768px) {\n\t\tgap: 10px;\n\t\tfont-size: 13px;\n\t\theight: auto;\n\t\tmax-height: 200px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgap: 8px;\n\t\tfont-size: 12px;\n\t\theight: auto;\n\t\tmax-height: 150px;\n\t}\n"])),hR),QN=CC.div(FN||(FN=Rk(["\n\tmargin-top: auto; /* Push to the bottom */\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20px;\n\tpadding: 20px;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 20px;\n\t\tgap: 0;\n\t\tmargin-top: 0;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 15px;\n\t\tgap: 0;\n\t}\n"]))),$N=()=>{const t=QS(),e=YS(),n=b((t=>t.user.currentUser)),{recentProperties:r}=gN(n.id),{favorites:i}=xN(n.id),o=!!n&&wN(n.role),a=!!n&&bN(n.role),s=!!n&&_N(n.role),l=!!n&&CN(n.role),c=[{label:"Dashboard",path:"dashboard",visible:!l},{label:"Properties",path:"properties",visible:!l&&(a||s)},{label:"Team",path:"team",visible:!l&&(o||s)},{label:"Report",path:"report",visible:!l&&(a||s)}];return(0,jk.jsxs)(zN,{children:[(0,jk.jsxs)(qN,{children:[(0,jk.jsx)(KN,{children:"Navigation"}),(0,jk.jsx)(BN,{children:c.filter((t=>t.visible)).map((e=>{return(0,jk.jsx)(HN,{to:e.path,className:(n=e.path,t.hash.includes(n)?"active":""),children:e.label},e.label);var n}))})]}),(0,jk.jsxs)(QN,{children:[(0,jk.jsxs)(WN,{children:[(0,jk.jsx)(KN,{children:"Favorites"}),(0,jk.jsx)(GN,{children:i.length>0?(0,jk.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:i.slice(0,5).map((t=>(0,jk.jsx)("li",{style:{padding:"8px 0",fontSize:"13px",color:"#666666",cursor:"pointer",transition:"color 0.2s ease",borderBottom:"1px solid #f0f0f0"},onClick:()=>e("/property/".concat(t.slug)),onMouseEnter:t=>t.currentTarget.style.color="#22c55e",onMouseLeave:t=>t.currentTarget.style.color="#666666",children:"\u2605 "+t.title},t.id)))}):(0,jk.jsx)("div",{style:{fontSize:"12px",color:"#999999"},children:"No favorite properties"})})]}),(0,jk.jsxs)(WN,{children:[(0,jk.jsx)(KN,{children:"Recently Viewed Properties"}),(0,jk.jsx)(GN,{children:r.length>0?(0,jk.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:r.slice(0,5).map((t=>(0,jk.jsx)("li",{style:{padding:"8px 0",fontSize:"13px",color:"#666666",cursor:"pointer",transition:"color 0.2s ease",borderBottom:"1px solid #f0f0f0"},onClick:()=>e("/property/".concat(t.slug)),onMouseEnter:t=>t.currentTarget.style.color="#22c55e",onMouseLeave:t=>t.currentTarget.style.color="#666666",children:t.title},t.id)))}):(0,jk.jsx)("div",{style:{fontSize:"12px",color:"#999999"},children:"No recently viewed properties"})})]})]})]})},YN=()=>{const t=QS(),e=b((t=>t.user.currentUser)),n=!!e&&wN(e.role),r=!!e&&bN(e.role),i=!!e&&_N(e.role),o=!!e&&CN(e.role),a=[{label:"Dashboard",path:"dashboard",visible:!o},{label:"Properties",path:"properties",visible:!o&&(r||i)},{label:"Team",path:"team",visible:!o&&(n||i)},{label:"Report",path:"report",visible:!o&&(r||i)}].filter((t=>t.visible));return(0,jk.jsx)(UN,{children:a.map((e=>{return(0,jk.jsx)(VN,{to:e.path,className:(n=e.path,t.hash.includes(n)?"active":""),title:e.label,children:e.label},e.label);var n}))})},JN=()=>{const e=A(),{data:n=[]}=Yb(),{data:r=[]}=mw();return(0,t.useEffect)((()=>{if(n.length>0){const t=n.map((t=>({...t,properties:t.properties||[]})));e(nn(t))}}),[n,e]),(0,t.useEffect)((()=>{if(r.length>0){const t=r.map((t=>({...t,members:t.members||[]})));e(gn(t))}}),[r,e]),null};var XN,ZN,tO,eO;const nO=CC.div(XN||(XN=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\theight: 100vh; /* Ensure full viewport height */\n\n\t@media (max-width: 1024px) {\n\t\twidth: 100%;\n\t}\n"]))),rO=CC.div(ZN||(ZN=Rk(["\n\tdisplay: flex;\n\tflex: 1;\n\theight: calc(100vh - ","); /* Adjust height to account for nav */\n\toverflow: hidden;\n\tflex-direction: row;\n\n\t@media (max-width: 768px) {\n\t\tflex-direction: column;\n\t\theight: calc(100vh - "," - 70px);\n\t}\n"])),dR,dR),iO=CC.div(tO||(tO=Rk(["\n\twidth: 250px;\n\tmin-width: 250px;\n\theight: 100%; /* Ensure sidebar spans full height */\n\toverflow-y: auto;\n\tborder-right: 1px solid #e5e7eb;\n\tbackground-color: #fefefe;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 1024px) {\n\t\twidth: 200px;\n\t\tmin-width: 200px;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tdisplay: none;\n\t}\n"]))),oO=CC.div(eO||(eO=Rk(["\n\tflex: 1;\n\theight: 100%; /* Match height with Sidebar */\n\toverflow-y: auto;\n\tpadding: 20px;\n\tbackground-color: #ffffff;\n\tpadding-bottom: 70px;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 15px;\n\t\tpadding-bottom: 85px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t\tpadding-bottom: 85px;\n\t}\n"]))),aO=()=>(0,jk.jsxs)(nO,{children:[(0,jk.jsx)(JN,{}),(0,jk.jsx)(IN,{}),(0,jk.jsxs)(rO,{children:[(0,jk.jsx)(iO,{children:(0,jk.jsx)($N,{})}),(0,jk.jsx)(oO,{children:(0,jk.jsx)(mk,{})})]}),(0,jk.jsx)(YN,{})]});var sO,lO,cO,uO,dO,hO,pO,fO,mO,gO;CC.div(sO||(sO=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tbackground-color: ",";\n"])),zC.bgLight);const yO=CC.div(lO||(lO=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 24px;\n\tpadding: 24px;\n\tbackground-color: ",";\n\tborder-bottom: 2px solid ",";\n\tflex-wrap: wrap;\n\tbox-shadow: ",";\n\n\t@media (max-width: 768px) {\n\t\tgap: 16px;\n\t\tpadding: 20px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgap: 12px;\n\t\tpadding: 16px;\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t}\n"])),zC.bgWhite,zC.border,zC.shadow),vO=CC.h1(cO||(cO=Rk(["\n\tfont-size: 32px;\n\tfont-weight: 800;\n\tcolor: ",";\n\tmargin: 0;\n\tletter-spacing: 0.5px;\n\tflex-shrink: 0;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 28px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 24px;\n\t}\n"])),zC.textPrimary);CC.div(uO||(uO=Rk(["\n\tposition: relative;\n\theight: 180px;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-color: ",";\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-end;\n\tpadding: 60px 24px 20px;\n\tgap: 16px;\n\tflex-shrink: 0;\n\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: linear-gradient(\n\t\t\tto bottom,\n\t\t\t",",\n\t\t\t","\n\t\t);\n\t\tpointer-events: none;\n\t}\n\n\t@media (max-width: 768px) {\n\t\theight: 160px;\n\t\tpadding: 40px 20px 15px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\theight: 140px;\n\t\tpadding: 25px 16px 10px;\n\t\tgap: 12px;\n\t}\n"])),zC.gray300,zC.overlayLight,zC.overlay),CC.div(dO||(dO=Rk(["\n\tposition: relative;\n\tz-index: 2;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 16px;\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 12px;\n\t}\n"]))),CC.h1(hO||(hO=Rk(["\n\tcolor: ",";\n\tfont-size: 36px;\n\tfont-weight: 800;\n\tmargin: 0;\n\ttext-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n\tletter-spacing: 0.5px;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 28px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 22px;\n\t}\n"])),zC.bgWhite),CC.h2(pO||(pO=Rk(["\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tcolor: ",";\n\tmargin: 0 0 16px 0;\n\tletter-spacing: 0.25px;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 18px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 16px;\n\t}\n"])),zC.textPrimary),CC.h3(fO||(fO=Rk(["\n\tfont-size: 16px;\n\tfont-weight: 600;\n\tcolor: ",";\n\tmargin: 0 0 12px 0;\n\tletter-spacing: 0.25px;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t}\n"])),zC.textPrimary),CC.div(mO||(mO=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 12px;\n\tpadding: 16px;\n\tbackground-color: ",";\n\tborder-bottom: 2px solid ",";\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 8px;\n\t\tpadding: 12px;\n\t}\n"])),zC.gray50,zC.border),CC.h3(gO||(gO=Rk(["\n\tfont-size: 18px;\n\tfont-weight: 600;\n\tcolor: ",";\n\tmargin: 0;\n\tflex-grow: 1;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t}\n"])),zC.textPrimary);var xO,bO,wO,SO,kO,EO,_O;const CO=CC.div(xO||(xO=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 4rem 2rem;\n\ttext-align: center;\n\tbackground-color: ",";\n\tborder-radius: 12px;\n\tborder: 2px dashed ",";\n\tmin-height: 300px;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 3rem 1.5rem;\n\t\tmin-height: 250px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 2rem 1rem;\n\t\tmin-height: 200px;\n\t}\n"])),zC.gray50,zC.border),TO=CC.div(bO||(bO=Rk(["\n\tfont-size: 48px;\n\tmargin-bottom: 1.5rem;\n\topacity: 0.5;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 40px;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 32px;\n\t}\n"]))),IO=CC.h3(wO||(wO=Rk(["\n\tfont-size: 24px;\n\tfont-weight: 700;\n\tcolor: ",";\n\tmargin: 0 0 0.75rem 0;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 20px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 18px;\n\t}\n"])),zC.textPrimary),AO=CC.p(SO||(SO=Rk(["\n\tfont-size: 16px;\n\tcolor: ",";\n\tmargin: 0 0 2rem 0;\n\tmax-width: 500px;\n\tline-height: 1.6;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 14px;\n\t\tmargin-bottom: 1.5rem;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 13px;\n\t}\n"])),zC.textSecondary),jO=CC.div(kO||(kO=Rk(["\n\tdisplay: flex;\n\tgap: 1rem;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\n\t@media (max-width: 480px) {\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t\tmax-width: 300px;\n\t}\n"]))),PO=CC.button(EO||(EO=Rk(["\n\tpadding: 0.875rem 1.75rem;\n\tbackground: ",";\n\tcolor: ",";\n\tborder: none;\n\tborder-radius: 8px;\n\tfont-weight: 600;\n\tfont-size: 16px;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\tbox-shadow: ",";\n\n\t&:hover:not(:disabled) {\n\t\tbackground: linear-gradient(\n\t\t\t135deg,\n\t\t\t"," 0%,\n\t\t\t"," 100%\n\t\t);\n\t\tbox-shadow: ",";\n\t\ttransform: translateY(-1px);\n\t}\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 100%;\n\t\tpadding: 0.75rem 1.5rem;\n\t\tfont-size: 15px;\n\t}\n"])),zC.gradientPrimary,zC.bgWhite,zC.shadowMd,zC.primaryDark,zC.primaryDarker,zC.shadowLg),RO=CC.button(_O||(_O=Rk(["\n\tpadding: 0.875rem 1.75rem;\n\tbackground-color: ",";\n\tcolor: ",";\n\tborder: 2px solid ",";\n\tborder-radius: 8px;\n\tfont-weight: 600;\n\tfont-size: 16px;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: ",";\n\t\tborder-color: ",";\n\t\ttransform: translateY(-1px);\n\t}\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 100%;\n\t\tpadding: 0.75rem 1.5rem;\n\t\tfont-size: 15px;\n\t}\n"])),zC.bgWhite,zC.primary,zC.primary,zC.primaryLight,zC.primaryDark),NO=t=>{let{icon:e="\ud83d\udced",title:n,description:r,actions:i=[]}=t;return(0,jk.jsxs)(CO,{children:[(0,jk.jsx)(TO,{children:e}),(0,jk.jsx)(IO,{children:n}),(0,jk.jsx)(AO,{children:r}),i.length>0&&(0,jk.jsx)(jO,{children:i.map(((t,e)=>{const n="secondary"===t.variant?RO:PO;return(0,jk.jsx)(n,{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),t.onClick()},children:t.label},e)}))})]})};var OO,DO,MO,LO,FO,zO,UO,VO,qO,BO,HO,WO,KO,GO,QO,$O,YO;const JO=CC.div(OO||(OO=Rk(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 1000;\n\tpadding: 1rem;\n"]))),XO=CC.div(DO||(DO=Rk(["\n\tbackground: white;\n\tborder-radius: 8px;\n\twidth: 100%;\n\tmax-width: 600px;\n\tmax-height: 90vh;\n\toverflow-y: auto;\n\tbox-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n"]))),ZO=CC.div(MO||(MO=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 1.5rem;\n\tborder-bottom: 1px solid #e0e0e0;\n"]))),tD=CC.h2(LO||(LO=Rk(["\n\tmargin: 0;\n\tfont-size: 1.5rem;\n\tcolor: #333;\n"]))),eD=CC.button(FO||(FO=Rk(["\n\tbackground: none;\n\tborder: none;\n\tfont-size: 2rem;\n\tcolor: #666;\n\tcursor: pointer;\n\tpadding: 0;\n\twidth: 32px;\n\theight: 32px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 4px;\n\ttransition: all 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #f0f0f0;\n\t\tcolor: #333;\n\t}\n"]))),nD=CC.div(zO||(zO=Rk(["\n\tpadding: 1.5rem;\n"]))),rD=CC.div(UO||(UO=Rk(["\n\tmargin-bottom: 1.5rem;\n"]))),iD=CC.label(VO||(VO=Rk(["\n\tdisplay: block;\n\tmargin-bottom: 0.5rem;\n\tfont-weight: 500;\n\tcolor: #333;\n\tfont-size: 0.95rem;\n"]))),oD=CC.input(qO||(qO=Rk(["\n\twidth: 100%;\n\tpadding: 0.75rem;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 1rem;\n\ttransition: border-color 0.2s ease;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #3498db;\n\t\tbox-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n\t}\n"]))),aD=CC.div(BO||(BO=Rk(["\n\tposition: relative;\n\twidth: 100%;\n"]))),sD=CC.input(HO||(HO=Rk(["\n\tposition: absolute;\n\twidth: 0.1px;\n\theight: 0.1px;\n\topacity: 0;\n\toverflow: hidden;\n\tz-index: -1;\n"]))),lD=CC.label(WO||(WO=Rk(["\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 2rem;\n\tborder: 2px dashed #ddd;\n\tborder-radius: 8px;\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\tbackground-color: #fafafa;\n\n\t&:hover {\n\t\tborder-color: #3498db;\n\t\tbackground-color: #f0f8ff;\n\t}\n"]))),cD=CC.div(KO||(KO=Rk(["\n\tcolor: #333;\n\tword-break: break-word;\n"]))),uD=CC.p(GO||(GO=Rk(["\n\tcolor: #e74c3c;\n\tfont-size: 0.875rem;\n\tmargin-top: 0.5rem;\n\tmargin-bottom: 0;\n"]))),dD=CC.div(QO||(QO=Rk(["\n\tdisplay: flex;\n\tgap: 1rem;\n\tmargin-top: 2rem;\n\tjustify-content: flex-end;\n"]))),hD=CC.button($O||($O=Rk(["\n\tpadding: 0.75rem 1.5rem;\n\tborder: 1px solid #ddd;\n\tbackground-color: white;\n\tcolor: #666;\n\tborder-radius: 4px;\n\tfont-size: 1rem;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #f5f5f5;\n\t\tborder-color: #999;\n\t}\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n"]))),pD=CC.button(YO||(YO=Rk(["\n\tpadding: 0.75rem 1.5rem;\n\tborder: none;\n\tbackground-color: #3498db;\n\tcolor: white;\n\tborder-radius: 4px;\n\tfont-size: 1rem;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #2980b9;\n\t}\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n"]))),fD=e=>{let{taskId:n,taskTitle:r,onClose:i,onSuccess:o}=e;const a=A(),s=b((t=>t.user.currentUser)),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)({}),[f,m]=(0,t.useState)(!1),[g]=uw(),[y]=dw();return(0,jk.jsx)(JO,{onClick:t=>{t.target===t.currentTarget&&i()},children:(0,jk.jsxs)(XO,{children:[(0,jk.jsxs)(ZO,{children:[(0,jk.jsx)(tD,{children:"Mark Task as Complete"}),(0,jk.jsx)(eD,{onClick:i,children:"\xd7"})]}),(0,jk.jsxs)(nD,{children:[(0,jk.jsxs)("p",{style:{marginBottom:"1.5rem",color:"#666"},children:["Task: ",(0,jk.jsx)("strong",{children:r})]}),(0,jk.jsxs)(rD,{children:[(0,jk.jsxs)(iD,{htmlFor:"completionDate",children:["Completion Date ",(0,jk.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,jk.jsx)(oD,{type:"date",id:"completionDate",value:l,onChange:t=>{c(t.target.value),p({...h,date:void 0})},max:(new Date).toISOString().split("T")[0]}),h.date&&(0,jk.jsx)(uD,{children:h.date})]}),(0,jk.jsxs)(rD,{children:[(0,jk.jsxs)(iD,{htmlFor:"completionFile",children:["Upload Completion Form / Work Order"," ",(0,jk.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,jk.jsxs)(aD,{children:[(0,jk.jsx)(sD,{type:"file",id:"completionFile",onChange:t=>{var e;const n=null===(e=t.target.files)||void 0===e?void 0:e[0];if(n){if(n.size>10485760)return void p({...h,file:"File size must be less than 10MB"});if(!["application/pdf","image/jpeg","image/png","image/jpg","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(n.type))return void p({...h,file:"Please upload a PDF, image, or Word document"});d(n),p({...h,file:void 0})}},accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),(0,jk.jsx)(lD,{htmlFor:"completionFile",children:u?(0,jk.jsxs)(cD,{children:[(0,jk.jsx)("strong",{children:"Selected File:"}),(0,jk.jsx)("br",{}),u.name,(0,jk.jsx)("br",{}),(0,jk.jsxs)("span",{style:{fontSize:"0.85rem",color:"#666"},children:["(",(u.size/1024).toFixed(1)," KB)"]})]}):(0,jk.jsxs)(jk.Fragment,{children:[(0,jk.jsx)("span",{style:{fontSize:"2rem"},children:"\ud83d\udcce"}),(0,jk.jsx)("br",{}),"Click to upload or drag and drop",(0,jk.jsx)("br",{}),(0,jk.jsx)("span",{style:{fontSize:"0.85rem",color:"#666"},children:"PDF, JPG, PNG, DOC (max 10MB)"})]})})]}),h.file&&(0,jk.jsx)(uD,{children:h.file})]}),h.general&&(0,jk.jsx)(uD,{style:{marginBottom:"1rem"},children:h.general}),(0,jk.jsxs)("p",{style:{fontSize:"0.9rem",color:"#666",marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,jk.jsx)("strong",{children:"Note:"})," Once submitted, this task will be sent to an admin or maintenance lead for final approval."]}),(0,jk.jsxs)(dD,{children:[(0,jk.jsx)(hD,{onClick:i,disabled:f,children:"Cancel"}),(0,jk.jsx)(pD,{onClick:async()=>{if((()=>{const t={};return l||(t.date="Completion date is required"),u||(t.file="Please upload a completion form or work order"),p(t),0===Object.keys(t).length})()){m(!0),p({});try{const e=await g({taskId:n.toString(),file:u}).unwrap();a(dn({taskId:n,completionDate:l,completionFile:e,completedBy:s.id}));try{await y({taskId:n.toString(),completionDate:l,completionFile:e,completedBy:s.id}).unwrap()}catch(t){console.warn("Firebase submission failed, but Redux state updated:",t)}null===o||void 0===o||o(),i()}catch(e){p({general:e.message||"Failed to submit task completion. Please try again."})}finally{m(!1)}}},disabled:f,children:f?"Submitting...":"Submit for Approval"})]})]})]})})};var mD,gD,yD,vD,xD,bD,wD,SD,kD,ED,_D,CD,TD,ID,AD,jD,PD;const RD=e=>{let{userId:n}=e;const[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(""),{data:s=[],isLoading:l}=Kw(),[c,{isLoading:u}]=Qw(),[d,{isLoading:h}]=$w(),p=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return l?(0,jk.jsx)(DD,{children:(0,jk.jsx)(Kj,{icon:XP,spin:!0,size:"2x"})}):0===s.length?null:(0,jk.jsxs)(ND,{children:[(0,jk.jsx)(OD,{children:(0,jk.jsxs)("h3",{children:["Property Invitations (",s.length,")"]})}),r&&(0,jk.jsxs)(MD,{type:"error",children:[r,(0,jk.jsx)(LD,{onClick:()=>i(""),children:"\xd7"})]}),o&&(0,jk.jsxs)(MD,{type:"success",children:[o,(0,jk.jsx)(LD,{onClick:()=>a(""),children:"\xd7"})]}),(0,jk.jsx)(FD,{children:s.map(((e,r)=>(0,jk.jsxs)(t.Fragment,{children:[r>0&&(0,jk.jsx)(zD,{}),(0,jk.jsxs)(UD,{children:[(0,jk.jsxs)(VD,{children:[(0,jk.jsxs)(qD,{children:[(0,jk.jsx)(BD,{children:e.propertyTitle}),(0,jk.jsx)(HD,{color:"admin"===e.permission?"primary":"default",children:TN(e.permission)})]}),(0,jk.jsxs)(WD,{children:[(0,jk.jsxs)(KD,{children:["From: ",e.fromUserEmail]}),(0,jk.jsxs)(KD,{children:["Sent: ",p(e.createdAt)," \u2022 Expires:"," ",p(e.expiresAt)]})]})]}),(0,jk.jsxs)(GD,{children:[(0,jk.jsxs)(QD,{onClick:()=>(async(t,e)=>{i(""),a("");try{await c({invitationId:t,userId:n}).unwrap(),a('You now have access to "'.concat(e,'"'))}catch(r){i(r.message||"Failed to accept invitation")}})(e.id,e.propertyTitle),disabled:u||h,children:[(0,jk.jsx)(Kj,{icon:KP}),"Accept"]}),(0,jk.jsxs)($D,{onClick:()=>(async(t,e)=>{if(i(""),a(""),window.confirm('Are you sure you want to decline the invitation to "'.concat(e,'"?')))try{await d(t).unwrap(),a("Invitation declined")}catch(n){i(n.message||"Failed to decline invitation")}})(e.id,e.propertyTitle),disabled:u||h,children:[(0,jk.jsx)(Kj,{icon:eR}),"Decline"]})]})]})]},e.id)))})]})},ND=CC.div(mD||(mD=Rk(["\n\tbackground: white;\n\tborder-radius: 8px;\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\tmargin-bottom: 24px;\n\toverflow: hidden;\n"]))),OD=CC.div(gD||(gD=Rk(["\n\tpadding: 20px 24px;\n\tborder-bottom: 1px solid #e0e0e0;\n\n\th3 {\n\t\tmargin: 0;\n\t\tfont-size: 18px;\n\t\tfont-weight: 600;\n\t\tcolor: #333;\n\t}\n"]))),DD=CC.div(yD||(yD=Rk(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 40px;\n\tcolor: #2196f3;\n"]))),MD=CC.div(vD||(vD=Rk(["\n\tmargin: 16px 24px;\n\tpadding: 12px 40px 12px 16px;\n\tborder-radius: 4px;\n\tposition: relative;\n\tbackground-color: ",";\n\tcolor: ",";\n\tborder-left: 4px solid\n\t\t",";\n"])),(t=>"error"===t.type?"#ffebee":"#e8f5e9"),(t=>"error"===t.type?"#c62828":"#2e7d32"),(t=>"error"===t.type?"#c62828":"#2e7d32")),LD=CC.button(xD||(xD=Rk(["\n\tposition: absolute;\n\ttop: 8px;\n\tright: 12px;\n\tbackground: none;\n\tborder: none;\n\tfont-size: 20px;\n\tcursor: pointer;\n\tcolor: inherit;\n\tpadding: 0;\n\tline-height: 1;\n\n\t&:hover {\n\t\topacity: 0.7;\n\t}\n"]))),FD=CC.div(bD||(bD=Rk(["\n\tpadding: 0;\n"]))),zD=CC.hr(wD||(wD=Rk(["\n\tmargin: 0;\n\tborder: none;\n\tborder-top: 1px solid #e0e0e0;\n"]))),UD=CC.div(SD||(SD=Rk(["\n\tpadding: 20px 24px;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 16px;\n\n\t@media (max-width: 768px) {\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t}\n"]))),VD=CC.div(kD||(kD=Rk(["\n\tflex: 1;\n\tmin-width: 0;\n"]))),qD=CC.div(ED||(ED=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 12px;\n\tmargin-bottom: 8px;\n\tflex-wrap: wrap;\n"]))),BD=CC.div(_D||(_D=Rk(["\n\tfont-size: 16px;\n\tfont-weight: 600;\n\tcolor: #333;\n"]))),HD=CC.span(CD||(CD=Rk(["\n\tpadding: 4px 12px;\n\tborder-radius: 12px;\n\tfont-size: 12px;\n\tfont-weight: 500;\n\tbackground-color: ",";\n\tcolor: ",";\n"])),(t=>"primary"===t.color?"#2196f3":"#e0e0e0"),(t=>"primary"===t.color?"white":"#666")),WD=CC.div(TD||(TD=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 4px;\n"]))),KD=CC.div(ID||(ID=Rk(["\n\tfont-size: 13px;\n\tcolor: #666;\n"]))),GD=CC.div(AD||(AD=Rk(["\n\tdisplay: flex;\n\tgap: 8px;\n\n\t@media (max-width: 768px) {\n\t\twidth: 100%;\n\t}\n"]))),QD=CC.button(jD||(jD=Rk(["\n\tpadding: 8px 16px;\n\tbackground-color: #4caf50;\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n\twhite-space: nowrap;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #45a049;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #ccc;\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tflex: 1;\n\t\tjustify-content: center;\n\t}\n"]))),$D=CC.button(PD||(PD=Rk(["\n\tpadding: 8px 16px;\n\tbackground-color: white;\n\tcolor: #d32f2f;\n\tborder: 1px solid #d32f2f;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n\twhite-space: nowrap;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #ffebee;\n\t}\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tflex: 1;\n\t\tjustify-content: center;\n\t}\n"])));var YD,JD,XD,ZD,tM,eM,nM,rM,iM,oM,aM,sM,lM;const cM=CC.div(YD||(YD=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20px;\n\tpadding: 20px;\n\tmin-height: 100%;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 15px;\n\t\tgap: 15px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t\tgap: 10px;\n\t}\n"]))),uM=CC.div(JD||(JD=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 15px;\n\tflex: 1;\n\tmin-height: 400px;\n\n\t@media (max-width: 768px) {\n\t\tmin-height: 300px;\n\t\tgap: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmin-height: 250px;\n\t\tgap: 10px;\n\t}\n"]))),dM=(CC.div(XD||(XD=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tgap: 10px;\n\n\t@media (max-width: 480px) {\n\t\tgap: 5px;\n\t}\n"]))),CC.h2(ZD||(ZD=Rk(["\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tcolor: #1f2937;\n\tmargin: 0;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 18px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 16px;\n\t}\n"]))),CC.button(tM||(tM=Rk(["\n\tposition: relative;\n\tbackground-color: transparent;\n\tcolor: #999999;\n\tborder: none;\n\tborder-radius: 50%;\n\twidth: 40px;\n\theight: 40px;\n\tfont-size: 24px;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: color 0.2s ease;\n\n\t&:hover {\n\t\tcolor: #666666;\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t\tfont-size: 20px;\n\t}\n"]))),CC.div(eM||(eM=Rk(["\n\tposition: absolute;\n\ttop: 100%;\n\tright: 0;\n\tbackground-color: white;\n\tborder: 1px solid #ccc;\n\tborder-radius: 4px;\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n\tz-index: 1000;\n\tmin-width: 150px;\n\tmargin-top: 8px;\n\toverflow: hidden;\n\n\t@media (max-width: 480px) {\n\t\tmin-width: 130px;\n\t\tmargin-top: 4px;\n\t}\n"]))),CC.button(nM||(nM=Rk(["\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 12px 15px;\n\tbackground: none;\n\tborder: none;\n\tcolor: black;\n\ttext-align: left;\n\tfont-size: 14px;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:first-child {\n\t\tborder-radius: 4px 4px 0 0;\n\t}\n\n\t&:last-child {\n\t\tborder-radius: 0 0 4px 4px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: rgba(34, 197, 94, 0.1);\n\t\tcolor: #22c55e;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px 12px;\n\t\tfont-size: 12px;\n\t}\n"]))),CC.div(rM||(rM=Rk(["\n\toverflow-x: auto;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tflex: 1;\n\n\t@media (max-width: 480px) {\n\t\tborder-radius: 2px;\n\t}\n"])))),hM=CC.table(iM||(iM=Rk(["\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tbackground-color: white;\n\n\tthead {\n\t\tbackground-color: #f5f5f5;\n\t\tborder-bottom: 2px solid #e0e0e0;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t}\n\n\tth {\n\t\tpadding: 12px 16px;\n\t\ttext-align: left;\n\t\tfont-weight: 600;\n\t\tcolor: black;\n\t\tfont-size: 14px;\n\n\t\t@media (max-width: 768px) {\n\t\t\tpadding: 10px 12px;\n\t\t\tfont-size: 12px;\n\t\t}\n\n\t\t@media (max-width: 480px) {\n\t\t\tpadding: 8px 10px;\n\t\t\tfont-size: 11px;\n\t\t}\n\t}\n\n\ttd {\n\t\tpadding: 12px 16px;\n\t\tborder-bottom: 1px solid #e0e0e0;\n\t\tcolor: black;\n\t\tfont-size: 14px;\n\n\t\t@media (max-width: 768px) {\n\t\t\tpadding: 10px 12px;\n\t\t\tfont-size: 12px;\n\t\t}\n\n\t\t@media (max-width: 480px) {\n\t\t\tpadding: 8px 10px;\n\t\t\tfont-size: 11px;\n\t\t}\n\t}\n\n\ttr:hover {\n\t\tbackground-color: #fafafa;\n\t}\n"]))),pM=CC.div(oM||(oM=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgap: 20px;\n\tflex-shrink: 0;\n\theight: auto;\n\tmin-height: 180px;\n\n\t@media (max-width: 1024px) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t\tgap: 16px;\n\t\theight: 220px;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 14px;\n\t\theight: auto;\n\t\tmin-height: 180px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgap: 10px;\n\t\tmin-height: 150px;\n\t}\n"]))),fM=CC.div(aM||(aM=Rk(["\n\tbackground-color: white;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tpadding: 20px;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: visible;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 15px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t}\n"]))),mM=CC.h3(sM||(sM=Rk(["\n\tfont-size: 16px;\n\tfont-weight: 600;\n\tcolor: black;\n\tmargin: 0 0 16px 0;\n\tpadding-bottom: 12px;\n\tborder-bottom: 1px solid #e0e0e0;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 14px;\n\t\tmargin: 0 0 12px 0;\n\t\tpadding-bottom: 10px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t\tmargin: 0 0 8px 0;\n\t\tpadding-bottom: 8px;\n\t}\n"]))),gM=CC.div(lM||(lM=Rk(["\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcolor: #999999;\n\tfont-size: 14px;\n\ttext-align: center;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 11px;\n\t}\n"]))),yM=()=>{var e;const n=YS(),r=b((t=>t.user.currentUser)),i=b((t=>t.team.groups.flatMap((t=>t.members||[])).filter((t=>void 0!==t)))),{data:o=[]}=aw(),[a]=lw();(0,t.useEffect)((()=>{if(r&&CN(r.role)){const e=(t=r.assignedPropertyId)&&{1:"downtown-apartments",2:"business-park",3:"sunset-heights",4:"oak-street-complex"}[t]||null;e&&n("/property/".concat(e),{replace:!0})}var t}),[r,n]);const[s,l]=(0,t.useState)(new Set),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),m=(0,t.useMemo)((()=>((t,e,n,r)=>{if(!e)return[];if(SN(e.role))return t;if(kN(e.role)&&n&&r){const i=n.find((t=>t.email===e.email));if(!i||!i.linkedProperties)return[];const o=r.filter((t=>i.linkedProperties.includes(t.id))).map((t=>t.title));return t.filter((t=>o.includes(t.property)))}return[]})(o,r,i)),[o,r,i]),g=t=>{if(!t)return"Unassigned";const e=i.find((e=>e.id===t));return e?"".concat(e.firstName," ").concat(e.lastName):"Unknown"};return(0,jk.jsxs)(cM,{children:[(0,jk.jsxs)(yO,{children:[(0,jk.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:s.size>0&&(0,jk.jsxs)("span",{style:{fontSize:"14px",color:"#666",fontWeight:600},children:[s.size," selected"]})}),(0,jk.jsx)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:(0,jk.jsx)("button",{onClick:()=>{if(1===s.size){const t=Array.from(s)[0];h(t),u(!0)}},disabled:1!==s.size,style:{backgroundColor:1===s.size?"#22c55e":"#d1d5db",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:1===s.size?"pointer":"not-allowed",fontSize:"14px",transition:"background-color 0.2s ease"},onMouseEnter:t=>{1===s.size&&(t.currentTarget.style.backgroundColor="#16a34a")},onMouseLeave:t=>{1===s.size&&(t.currentTarget.style.backgroundColor="#22c55e")},children:"Mark as Complete"})})]}),(0,jk.jsx)(RD,{userId:r.id}),(0,jk.jsxs)(uM,{children:[0===m.length?(0,jk.jsx)(NO,{icon:"\ud83d\udccb",title:"No Tasks Yet",description:"Get started by creating a property and adding tasks to manage your properties effectively.",actions:[{label:"Go to Properties",onClick:()=>n("/properties"),variant:"primary"},{label:"Manage Team",onClick:()=>n("/team"),variant:"secondary"}]}):(0,jk.jsx)(dM,{children:(0,jk.jsxs)(hM,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{style:{width:"40px",textAlign:"center"},children:(0,jk.jsx)("input",{type:"checkbox",ref:t=>{t&&(t.indeterminate=s.size>0&&!m.every((t=>s.has(t.id))))},checked:m.length>0&&m.every((t=>s.has(t.id))),onChange:t=>(t=>{if(t){const t=m.map((t=>t.id));l(new Set(t))}else l(new Set)})(t.target.checked),style:{cursor:"pointer"}})}),(0,jk.jsx)("th",{children:"Task"}),(0,jk.jsx)("th",{children:"Assigned To"}),(0,jk.jsx)("th",{children:"Due Date"}),(0,jk.jsx)("th",{children:"Status"}),(0,jk.jsx)("th",{children:"Property"}),(0,jk.jsx)("th",{children:"Notes"})]})}),(0,jk.jsx)("tbody",{children:m.map((t=>(0,jk.jsxs)("tr",{onDoubleClick:()=>{return e=t.id,void n("/task/".concat(e));var e},style:{cursor:"pointer",backgroundColor:s.has(t.id)?"rgba(34, 197, 94, 0.1)":void 0},children:[(0,jk.jsx)("td",{style:{textAlign:"center",width:"40px"},children:(0,jk.jsx)("input",{type:"checkbox",checked:s.has(t.id),onChange:()=>(t=>{const e=new Set(s);e.has(t)?e.delete(t):e.add(t),l(e)})(t.id),style:{cursor:"pointer"},onClick:t=>t.stopPropagation()})}),(0,jk.jsx)("td",{children:t.title}),(0,jk.jsx)("td",{children:p===t.id?(0,jk.jsxs)("select",{value:t.assignedTo||"",onChange:e=>(async(t,e)=>{try{await a({id:t,updates:{assignedTo:e||void 0}}).unwrap(),f(null)}catch(n){console.error("Error assigning task:",n)}})(t.id,e.target.value||null),onBlur:()=>f(null),autoFocus:!0,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #22c55e",cursor:"pointer"},children:[(0,jk.jsx)("option",{value:"",children:"Unassigned"}),i.filter(Boolean).map((t=>(0,jk.jsxs)("option",{value:t.id,children:[t.firstName," ",t.lastName]},t.id)))]}):(0,jk.jsx)("span",{onClick:()=>f(t.id),style:{cursor:"pointer",color:"#22c55e"},children:g(t.assignedTo)})}),(0,jk.jsx)("td",{children:t.dueDate}),(0,jk.jsx)("td",{children:t.status}),(0,jk.jsx)("td",{children:t.property}),(0,jk.jsx)("td",{children:t.notes})]},t.id)))})]})})," "]}),(0,jk.jsxs)(pM,{children:[(0,jk.jsxs)(fM,{children:[(0,jk.jsx)(mM,{children:"Notifications"}),(0,jk.jsx)(gM,{children:"No new notifications"})]}),(0,jk.jsxs)(fM,{children:[(0,jk.jsx)(mM,{children:"Efficiency Chart"}),(0,jk.jsx)(gM,{children:"Chart placeholder"})]}),(0,jk.jsxs)(fM,{children:[(0,jk.jsx)(mM,{children:"My Team"}),(0,jk.jsx)(gM,{children:i.length>0?(0,jk.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:i.filter(Boolean).map((t=>(0,jk.jsxs)("li",{style:{padding:"8px 0",fontSize:"13px",color:"#666666",borderBottom:"1px solid #f0f0f0"},children:[(0,jk.jsxs)("div",{style:{fontWeight:"bold"},children:[t.firstName," ",t.lastName]}),(0,jk.jsx)("div",{style:{fontSize:"12px",color:"#999999"},children:t.title}),(0,jk.jsx)("div",{style:{fontSize:"12px",color:"#999999"},children:t.email})]},t.id)))}):(0,jk.jsx)("div",{style:{fontSize:"12px",color:"#999999"},children:"No team members found"})})]})]}),c&&d&&(0,jk.jsx)(fD,{taskId:d,taskTitle:(null===(e=o.find((t=>t.id===d)))||void 0===e?void 0:e.title)||"",onClose:()=>u(!1),onSuccess:()=>{u(!1),h(null),l(new Set)}})]})};var vM,xM,bM,wM,SM,kM,EM,_M,CM,TM,IM,AM,jM,PM,RM,NM,OM,DM,MM,LM,FM,zM,UM,VM,qM,BM,HM,WM,KM,GM,QM,$M,YM,JM;const XM=CC.div(vM||(vM=Rk(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 10000;\n"]))),ZM=CC.div(xM||(xM=Rk(["\n\tbackground-color: white;\n\tborder-radius: 8px;\n\twidth: 90%;\n\tmax-width: 900px;\n\tmax-height: 90vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\n\toverflow: hidden;\n\n\t@media (max-width: 1024px) {\n\t\tmax-width: 800px;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tmax-width: 95%;\n\t\tmax-height: 85vh;\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 100%;\n\t\tmax-width: 100%;\n\t\tmax-height: 95vh;\n\t\tborder-radius: 0;\n\t}\n"]))),tL=CC.div(bM||(bM=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 20px 24px;\n\tborder-bottom: 1px solid #e0e0e0;\n\tbackground-color: #fafafa;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 16px 20px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 12px 16px;\n\t}\n"]))),eL=CC.h2(wM||(wM=Rk(["\n\tfont-size: 20px;\n\tfont-weight: 600;\n\tcolor: black;\n\tmargin: 0;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 18px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 16px;\n\t}\n"]))),nL=CC.button(SM||(SM=Rk(["\n\tbackground: none;\n\tborder: none;\n\tfont-size: 28px;\n\tcolor: #999999;\n\tcursor: pointer;\n\tpadding: 4px 8px;\n\ttransition: color 0.2s ease;\n\n\t&:hover {\n\t\tcolor: #333333;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 24px;\n\t\tpadding: 2px 4px;\n\t}\n"]))),rL=CC.div(kM||(kM=Rk(["\n\tflex: 1;\n\toverflow-y: auto;\n\tpadding: 24px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 24px;\n\n\t/* Scrollbar styling */\n\t&::-webkit-scrollbar {\n\t\twidth: 8px;\n\t}\n\n\t&::-webkit-scrollbar-track {\n\t\tbackground: transparent;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground: #d1d5db;\n\t\tborder-radius: 4px;\n\n\t\t&:hover {\n\t\t\tbackground: #b6b9c1;\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 16px 20px;\n\t\tgap: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 12px 16px;\n\t\tgap: 12px;\n\t}\n"]))),iL=CC.div(EM||(EM=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n"]))),oL=CC.h3(_M||(_M=Rk(["\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcolor: #333333;\n\tmargin: 0;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t\tletter-spacing: 0.3px;\n\t}\n"]))),aL=CC.div(CM||(CM=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n\tgap: 16px;\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t\tgap: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 10px;\n\t}\n"]))),sL=CC.div(TM||(TM=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 6px;\n"]))),lL=CC.label(IM||(IM=Rk(["\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcolor: #333333;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t}\n"]))),cL=CC.input(AM||(AM=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #d1d5db;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\ttransition:\n\t\tborder-color 0.2s ease,\n\t\tbox-shadow 0.2s ease;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n\n\t&::placeholder {\n\t\tcolor: #b6b9c1;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 10px;\n\t\tfont-size: 13px;\n\t}\n"]))),uL=CC.textarea(jM||(jM=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #d1d5db;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\tresize: vertical;\n\tmin-height: 120px;\n\ttransition:\n\t\tborder-color 0.2s ease,\n\t\tbox-shadow 0.2s ease;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n\n\t&::placeholder {\n\t\tcolor: #b6b9c1;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 10px;\n\t\tfont-size: 13px;\n\t\tmin-height: 100px;\n\t}\n"]))),dL=(CC.input(PM||(PM=Rk(["\n\tdisplay: none;\n"]))),CC.div(RM||(RM=Rk(["\n\tposition: relative;\n\twidth: 100%;\n\tmax-width: 300px;\n\tborder-radius: 4px;\n\toverflow: hidden;\n"])))),hL=CC.img(NM||(NM=Rk(["\n\twidth: 100%;\n\theight: 200px;\n\tobject-fit: cover;\n\tdisplay: block;\n\n\t@media (max-width: 768px) {\n\t\theight: 180px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\theight: 150px;\n\t}\n"]))),pL=(CC.button(OM||(OM=Rk(["\n\tposition: absolute;\n\tbottom: 8px;\n\tright: 8px;\n\tbackground-color: #ef4444;\n\tcolor: white;\n\tborder: none;\n\tpadding: 6px 12px;\n\tborder-radius: 4px;\n\tfont-size: 12px;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #dc2626;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 4px 8px;\n\t\tfont-size: 10px;\n\t}\n"]))),CC.input(DM||(DM=Rk(["\n\tdisplay: none;\n"])))),fL=CC.label(MM||(MM=Rk(["\n\tdisplay: inline-block;\n\tpadding: 10px 16px;\n\tbackground-color: #f5f5f5;\n\tborder: 2px solid #d1d5db;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcolor: #333333;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #ebebeb;\n\t\tborder-color: #22c55e;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 12px;\n\t}\n"]))),mL=CC.div(LM||(LM=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n"]))),gL=CC.div(FM||(FM=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(120px, 1fr)) auto auto;\n\tgap: 12px;\n\talign-items: flex-end;\n\tpadding: 16px;\n\tbackground-color: #fafafa;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: 1fr auto auto;\n\t\tgap: 10px;\n\t\tpadding: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgrid-template-columns: 1fr auto;\n\t\tgap: 8px;\n\t\tpadding: 10px;\n\t\tflex-wrap: wrap;\n\t}\n"]))),yL=CC.button(zM||(zM=Rk(["\n\tbackground-color: #ef4444;\n\tcolor: white;\n\tborder: none;\n\tpadding: 8px 12px;\n\tborder-radius: 4px;\n\tfont-size: 12px;\n\tcursor: pointer;\n\twhite-space: nowrap;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #dc2626;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 6px 8px;\n\t\tfont-size: 10px;\n\t}\n"]))),vL=CC.button(UM||(UM=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 16px;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\talign-self: flex-start;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 12px;\n\t\twidth: 100%;\n\t}\n"]))),xL=CC.div(VM||(VM=Rk(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 8px;\n\tmin-height: 30px;\n\talign-items: center;\n\tpadding: 8px 0;\n"]))),bL=CC.div(qM||(qM=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n\tbackground-color: #e0f2fe;\n\tcolor: #0369a1;\n\tpadding: 6px 12px;\n\tborder-radius: 20px;\n\tfont-size: 13px;\n\tfont-weight: 500;\n\n\t@media (max-width: 480px) {\n\t\tpadding: 4px 10px;\n\t\tfont-size: 11px;\n\t}\n"]))),wL=CC.button(BM||(BM=Rk(["\n\tbackground: none;\n\tborder: none;\n\tcolor: inherit;\n\tcursor: pointer;\n\tfont-size: 16px;\n\tpadding: 0;\n\tline-height: 1;\n\ttransition: opacity 0.2s ease;\n\n\t&:hover {\n\t\topacity: 0.7;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t}\n"]))),SL=CC.div(HM||(HM=Rk(["\n\tdisplay: flex;\n\tgap: 8px;\n\tmargin-top: 8px;\n"]))),kL=CC.button(WM||(WM=Rk(["\n\tpadding: 8px 16px;\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\twhite-space: nowrap;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 6px 12px;\n\t\tfont-size: 12px;\n\t}\n"]))),EL=CC.div(KM||(KM=Rk(["\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tmax-height: 200px;\n\toverflow-y: auto;\n\tbackground-color: #fafafa;\n\n\t&::-webkit-scrollbar {\n\t\twidth: 6px;\n\t}\n\n\t&::-webkit-scrollbar-track {\n\t\tbackground: transparent;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground: #d1d5db;\n\t\tborder-radius: 3px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmax-height: 180px;\n\t}\n"]))),_L=CC.div(GM||(GM=Rk(["\n\tpadding: 12px 16px;\n\tborder-bottom: 1px solid #e0e0e0;\n\n\t&:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t&:hover {\n\t\tbackground-color: #f5f5f5;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px 12px;\n\t\tfont-size: 13px;\n\t}\n"]))),CL=CC.div(QM||(QM=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n\n\t@media (max-width: 480px) {\n\t\tgap: 10px;\n\t}\n"]))),TL=CC.div($M||($M=Rk(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tgap: 12px;\n\tpadding: 16px 24px;\n\tborder-top: 1px solid #e0e0e0;\n\tbackground-color: #fafafa;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 12px 20px;\n\t\tgap: 10px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px 16px;\n\t\tgap: 8px;\n\t\tflex-direction: column;\n\t}\n"]))),IL=CC.button(YM||(YM=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 24px;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t&:active {\n\t\tbackground-color: #15803d;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 8px 16px;\n\t\tfont-size: 13px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 16px;\n\t\tfont-size: 13px;\n\t\twidth: 100%;\n\t}\n"]))),AL=CC.button(JM||(JM=Rk(["\n\tbackground-color: #e5e7eb;\n\tcolor: #333333;\n\tborder: none;\n\tpadding: 10px 24px;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #d1d5db;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 8px 16px;\n\t\tfont-size: 13px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 16px;\n\t\tfont-size: 13px;\n\t\twidth: 100%;\n\t}\n"]))),jL=async t=>{try{console.log("Starting base64 conversion:",{fileSize:t.size,fileType:t.type});const e=await(t=>new Promise(((e,n)=>{const r=new FileReader;r.onload=()=>{"string"===typeof r.result?e(r.result):n(new Error("Failed to read file as data URL"))},r.onerror=()=>n(new Error("Failed to read file")),r.readAsDataURL(t)})))(t);return console.log("Base64 conversion complete"),e}catch(e){throw console.error("Base64 conversion error:",e),new Error("Failed to read image. Please try another file.")}},PL=t=>!!t.type.startsWith("image/")&&!(t.size>716800),RL=e=>{var n;let{isOpen:r,onClose:i,onSave:o,initialData:a,groups:s,selectedGroupId:l,onCreateGroup:c}=e;const[u,d]=(0,t.useState)(a||{name:"",owner:"",administrators:[],viewers:[],address:"",propertyType:"Single Family",units:[],hasSuites:!1,suites:[],bedrooms:0,bathrooms:0,devices:[{id:"device-".concat(Date.now()),type:"",brand:"",model:"",installationDate:""}],notes:"",maintenanceHistory:[],groupId:null!==l&&void 0!==l?l:null}),[h,p]=(0,t.useState)(""),[f,m]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),[v,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[S,k]=(0,t.useState)(!1),[E,_]=(0,t.useState)(null);if((0,t.useEffect)((()=>{if(r){if(a){var t;const e=a.units&&Array.isArray(a.units)?a.units.map((t=>"string"===typeof t?t:t.name)):[],n=a.suites&&Array.isArray(a.suites)?a.suites.map((t=>"string"===typeof t?t:t.name)):[];d({...a,units:e,suites:n,hasSuites:null!==(t=a.hasSuites)&&void 0!==t&&t,groupId:null!==l&&void 0!==l?l:null})}else d({name:"",owner:"",administrators:[],viewers:[],address:"",propertyType:"Single Family",units:[],hasSuites:!1,suites:[],bedrooms:0,bathrooms:0,devices:[{id:"device-".concat(Date.now()),type:"",brand:"",model:"",installationDate:""}],notes:"",maintenanceHistory:[],groupId:null!==l&&void 0!==l?l:null});p(""),m(""),y(""),x(""),w("")}}),[r,a,l]),!r)return null;const C=(t,e)=>{d((n=>({...n,[t]:e})))},T=()=>{h.trim()&&(d((t=>({...t,administrators:[...t.administrators,h.trim()]}))),p(""))},I=()=>{f.trim()&&(d((t=>({...t,viewers:[...t.viewers,f.trim()]}))),m(""))},A=()=>{g.trim()&&(d((t=>({...t,units:[...t.units,g.trim()]}))),y(""))},j=()=>{v.trim()&&(d((t=>({...t,suites:[...t.suites||[],v.trim()]}))),x(""))},P=(t,e,n)=>{d((r=>({...r,devices:r.devices.map((r=>r.id===t?{...r,[e]:n}:r))})))};return(0,jk.jsx)(XM,{onClick:i,children:(0,jk.jsxs)(ZM,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsxs)(tL,{children:[(0,jk.jsx)(eL,{children:a?"Edit Property":"Add New Property"}),(0,jk.jsx)(nL,{onClick:i,children:"\xd7"})]}),(0,jk.jsxs)(rL,{children:[(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Assign to Group"}),(0,jk.jsxs)(aL,{children:[(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Group"}),(0,jk.jsxs)("select",{value:null!==(n=u.groupId)&&void 0!==n?n:"",onChange:t=>{const e=t.target.value;console.log("Group dropdown changed. Value:",e,"Type:",typeof e),C("groupId",e||null),console.log("After handleInputChange, formData.groupId will be:",e||null)},style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},children:[(0,jk.jsx)("option",{value:"",children:"Select a group"}),s.map((t=>(0,jk.jsx)("option",{value:t.id,children:t.name},t.id)))]})]}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Or create new group"}),(0,jk.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,jk.jsx)(cL,{value:b,onChange:t=>w(t.target.value),placeholder:"New group name",style:{flex:1}}),(0,jk.jsx)("button",{onClick:async()=>{if(c&&b.trim()){const t=await c(b.trim());w(""),C("groupId",t||null)}},style:{padding:"8px 12px",backgroundColor:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Create"})]})]})]})]}),(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Photo"}),E&&(0,jk.jsx)("div",{style:{color:"#dc2626",fontSize:"14px",marginBottom:"12px",padding:"8px 12px",backgroundColor:"#fee2e2",borderRadius:"4px"},children:E}),(0,jk.jsx)(aL,{children:(0,jk.jsx)(sL,{children:(0,jk.jsx)(cL,{type:"text",value:u.photo||"",onChange:t=>{const e=t.target.value;C("photo",e||void 0),_(null)},placeholder:"Enter image URL or upload a file below",disabled:S})})}),S?(0,jk.jsx)("div",{style:{padding:"12px",textAlign:"center",color:"#6b7280",fontSize:"14px"},children:"Processing image..."}):(0,jk.jsxs)(fL,{htmlFor:"photo-upload-input",children:[(0,jk.jsx)("input",{id:"photo-upload-input",type:"file",accept:"image/*",onChange:async t=>{var e;const n=null===(e=t.target.files)||void 0===e?void 0:e[0];if(n){if(!PL(n))return void _("Invalid file. Please upload an image under 700KB.");_(null),k(!0);try{const t=await jL(n);C("photo",t),k(!1)}catch(r){const t=r instanceof Error?r.message:"Failed to upload image";_(t),k(!1)}t.target.value=""}},style:{display:"none"}}),"\ud83d\udce4 Upload Image File"]}),u.photo&&(0,jk.jsx)(dL,{children:(0,jk.jsx)(hL,{src:u.photo,alt:"Property"})})]}),(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Basic Information"}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Property Name"}),(0,jk.jsx)(cL,{type:"text",value:u.name,onChange:t=>C("name",t.target.value),placeholder:"Enter property name"})]}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Address"}),(0,jk.jsx)(cL,{type:"text",value:u.address,onChange:t=>C("address",t.target.value),placeholder:"Enter address"})]}),(0,jk.jsxs)(aL,{children:[(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Property Type"}),(0,jk.jsxs)("select",{value:u.propertyType,onChange:t=>C("propertyType",t.target.value),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",width:"100%"},children:[(0,jk.jsx)("option",{value:"Single Family",children:"Single Family"}),(0,jk.jsx)("option",{value:"Multi-Family",children:"Multi-Family"}),(0,jk.jsx)("option",{value:"Commercial",children:"Commercial"})]})]}),"Commercial"===u.propertyType&&(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Has multiple suites?"}),(0,jk.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,jk.jsx)("input",{type:"checkbox",checked:!!u.hasSuites,onChange:t=>C("hasSuites",t.target.checked),style:{width:"16px",height:"16px"}}),(0,jk.jsx)("span",{style:{color:"#4b5563",fontSize:"14px"},children:"Enable suite-level management"})]})]}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Owner"}),(0,jk.jsx)(cL,{type:"text",value:u.owner,onChange:t=>C("owner",t.target.value),placeholder:"Owner name"})]})]}),"Commercial"!==u.propertyType&&(0,jk.jsxs)(aL,{children:[(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Bedrooms"}),(0,jk.jsx)(cL,{type:"number",value:null!==u.bedrooms&&void 0!==u.bedrooms?u.bedrooms:"",onChange:t=>C("bedrooms",""===t.target.value?null:parseInt(t.target.value,10)),placeholder:"0"})]}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Bathrooms"}),(0,jk.jsx)(cL,{type:"number",step:"0.5",value:null!==u.bathrooms&&void 0!==u.bathrooms?u.bathrooms:"",onChange:t=>C("bathrooms",""===t.target.value?null:parseFloat(t.target.value)),placeholder:"0"})]})]})]}),"Multi-Family"===u.propertyType&&(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Units/Apartments"}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(xL,{children:u.units.map(((t,e)=>(0,jk.jsxs)(bL,{children:[t,(0,jk.jsx)(wL,{onClick:()=>(t=>{d((e=>({...e,units:e.units.filter(((e,n)=>n!==t))})))})(e),children:"\xd7"})]},e)))}),(0,jk.jsxs)(SL,{children:[(0,jk.jsx)(cL,{type:"text",value:g,onChange:t=>y(t.target.value),onKeyPress:t=>{"Enter"===t.key&&(t.preventDefault(),A())},placeholder:'Add unit (e.g., "Unit 101", "Apt 2A")'}),(0,jk.jsx)(kL,{onClick:A,children:"Add Unit"})]})]})]}),"Commercial"===u.propertyType&&u.hasSuites&&(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Suites"}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(xL,{children:(u.suites||[]).map(((t,e)=>(0,jk.jsxs)(bL,{children:[t,(0,jk.jsx)(wL,{onClick:()=>(t=>{d((e=>({...e,suites:(e.suites||[]).filter(((e,n)=>n!==t))})))})(e),children:"\xd7"})]},e)))}),(0,jk.jsxs)(SL,{children:[(0,jk.jsx)(cL,{type:"text",value:v,onChange:t=>x(t.target.value),onKeyPress:t=>{"Enter"===t.key&&(t.preventDefault(),j())},placeholder:'Add suite (e.g., "Suite 100", "Suite A")'}),(0,jk.jsx)(kL,{onClick:j,children:"Add Suite"})]})]})]}),(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Administrators"}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(xL,{children:u.administrators.map(((t,e)=>(0,jk.jsxs)(bL,{children:[t,(0,jk.jsx)(wL,{onClick:()=>(t=>{d((e=>({...e,administrators:e.administrators.filter(((e,n)=>n!==t))})))})(e),children:"\xd7"})]},e)))}),(0,jk.jsxs)(aL,{children:[(0,jk.jsx)(cL,{type:"text",value:h,onChange:t=>p(t.target.value),onKeyPress:t=>{"Enter"===t.key&&(t.preventDefault(),T())},placeholder:"Add administrator",style:{flex:1}}),(0,jk.jsx)("button",{onClick:T,style:{padding:"8px 12px",backgroundColor:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Add"})]})]})]}),(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Viewers"}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(xL,{children:u.viewers.map(((t,e)=>(0,jk.jsxs)(bL,{children:[t,(0,jk.jsx)(wL,{onClick:()=>(t=>{d((e=>({...e,viewers:e.viewers.filter(((e,n)=>n!==t))})))})(e),children:"\xd7"})]},e)))}),(0,jk.jsxs)(aL,{children:[(0,jk.jsx)(cL,{type:"text",value:f,onChange:t=>m(t.target.value),onKeyPress:t=>{"Enter"===t.key&&(t.preventDefault(),I())},placeholder:"Add viewer",style:{flex:1}}),(0,jk.jsx)("button",{onClick:I,style:{padding:"8px 12px",backgroundColor:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Add"})]})]})]}),(0,jk.jsxs)(mL,{children:[(0,jk.jsx)(oL,{children:"Household Devices"}),u.devices.map((t=>(0,jk.jsxs)(gL,{children:[(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Device Type"}),(0,jk.jsx)(cL,{type:"text",value:t.type,onChange:e=>P(t.id,"type",e.target.value),placeholder:"e.g., Water Heater, Refrigerator"})]}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Brand"}),(0,jk.jsx)(cL,{type:"text",value:t.brand,onChange:e=>P(t.id,"brand",e.target.value),placeholder:"Brand"})]}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Model"}),(0,jk.jsx)(cL,{type:"text",value:t.model,onChange:e=>P(t.id,"model",e.target.value),placeholder:"Model"})]}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Installation Date"}),(0,jk.jsx)(cL,{type:"date",value:t.installationDate||"",onChange:e=>P(t.id,"installationDate",e.target.value)})]}),(0,jk.jsxs)(sL,{children:[(0,jk.jsx)(lL,{children:"Warranty File"}),(0,jk.jsxs)(fL,{htmlFor:"warranty-".concat(t.id),children:[(0,jk.jsx)(pL,{id:"warranty-".concat(t.id),type:"file",onChange:e=>{var n;const r=null===(n=e.target.files)||void 0===n?void 0:n[0];r&&P(t.id,"warrantyFile",r.name)}}),t.warrantyFile||"Choose File"]})]}),u.devices.length>1&&(0,jk.jsx)(yL,{onClick:()=>{return e=t.id,void d((t=>({...t,devices:t.devices.filter((t=>t.id!==e))})));var e},children:"Remove"})]},t.id))),(0,jk.jsx)(vL,{onClick:()=>{d((t=>({...t,devices:[...t.devices,{id:"device-".concat(Date.now()),type:"",brand:"",model:"",installationDate:""}]})))},children:"+ Add Device"})]}),(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Notes"}),(0,jk.jsx)(uL,{value:u.notes,onChange:t=>C("notes",t.target.value),placeholder:"Add any notes about this property..."})]}),(0,jk.jsxs)(iL,{children:[(0,jk.jsx)(oL,{children:"Recent Maintenance History"}),(0,jk.jsx)(EL,{children:u.maintenanceHistory&&u.maintenanceHistory.length>0?u.maintenanceHistory.map(((t,e)=>(0,jk.jsxs)(_L,{children:[(0,jk.jsx)("div",{style:{fontWeight:600,fontSize:"12px",color:"#999999"},children:t.date}),(0,jk.jsx)("div",{style:{fontSize:"14px",color:"black"},children:t.description})]},e))):(0,jk.jsx)("div",{style:{color:"#999999",padding:"16px"},children:"No maintenance history"})})]}),(0,jk.jsxs)(CL,{children:[(0,jk.jsx)(oL,{children:"Additional Files"}),(0,jk.jsxs)(fL,{htmlFor:"files-input",children:[(0,jk.jsx)(pL,{id:"files-input",type:"file",multiple:!0,onChange:t=>{const e=t.target.files;if(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].name);C("files",t)}}}),"Choose Files"]})]})]}),(0,jk.jsxs)(TL,{children:[(0,jk.jsx)(AL,{onClick:i,children:"Cancel"}),(0,jk.jsx)(IL,{onClick:()=>{console.log("=== PropertyDialog handleSave ==="),console.log("formData.groupId:",u.groupId),console.log("Full formData:",u),o(u)},children:"Save Property"})]})]})})};var NL,OL,DL,ML,LL,FL,zL,UL,VL,qL,BL,HL,WL,KL,GL,QL,$L,YL,JL,XL,ZL,tF,eF,nF;const rF=CC.div(NL||(NL=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20px;\n\tpadding: 20px;\n\tmin-height: 100%;\n\tbackground-color: #fafafa; /* match TeamPage off-white */\n\n\t@media (max-width: 768px) {\n\t\tpadding: 15px;\n\t\tgap: 15px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t\tgap: 10px;\n\t}\n"]))),iF=(CC.div(OL||(OL=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 20px;\n\tpadding-bottom: 20px;\n\tborder-bottom: 2px solid #e5e7eb;\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 10px;\n\t\tpadding-bottom: 15px;\n\t}\n"]))),CC.h1(DL||(DL=Rk(["\n\tfont-size: 28px;\n\tfont-weight: 700;\n\tcolor: #1f2937;\n\tmargin: 0;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 24px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 20px;\n\t}\n"]))),CC.div(ML||(ML=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 10px;\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 6px;\n\t\twidth: 100%;\n\t}\n"])))),oF=CC.div(LL||(LL=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 40px;\n\tflex: 1;\n\n\t@media (max-width: 768px) {\n\t\tgap: 30px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgap: 20px;\n\t}\n"]))),aF=CC.div(FL||(FL=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20px;\n\n\t@media (max-width: 480px) {\n\t\tgap: 15px;\n\t}\n"]))),sF=CC.div(zL||(zL=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 20px;\n\tflex-wrap: wrap;\n\tpadding: 16px 20px;\n\tbackground-color: white;\n\tborder-radius: 8px;\n\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\tmargin-bottom: 8px; /* breathing room before tiles */\n\n\t@media (max-width: 768px) {\n\t\tpadding: 12px 16px;\n\t\tgap: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t\tgap: 10px;\n\t}\n"]))),lF=CC.h2(UL||(UL=Rk(["\n\tfont-size: 18px;\n\tfont-weight: 600;\n\tcolor: #1f2937;\n\tmargin: 0;\n\tflex: 1;\n\tcursor: pointer;\n\tpadding: 8px 12px;\n\tborder-radius: 4px;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t\tpadding: 6px 10px;\n\t}\n"]))),cF=CC.input(VL||(VL=Rk(["\n\tfont-size: 20px;\n\tfont-weight: 600;\n\tcolor: black;\n\tborder: 2px solid #22c55e;\n\tborder-radius: 4px;\n\tpadding: 8px 12px;\n\tfont-family: inherit;\n\ttransition: border-color 0.2s ease;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #16a34a;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t\tpadding: 6px 10px;\n\t}\n"]))),uF=CC.div(qL||(qL=Rk(["\n\tdisplay: flex;\n\tgap: 10px;\n\talign-items: center;\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 5px;\n\t\twidth: 100%;\n\t}\n"]))),dF=CC.div(BL||(BL=Rk(["\n\tdisplay: flex;\n\tgap: 8px;\n\talign-items: center;\n\n\t@media (max-width: 480px) {\n\t\tgap: 6px;\n\t}\n"]))),hF=CC.button(HL||(HL=Rk(["\n\tbackground: transparent;\n\tborder: none;\n\tcolor: #6b7280;\n\tfont-size: 18px;\n\twidth: 32px;\n\theight: 32px;\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\ttransition: color 0.2s ease;\n\n\t&:hover {\n\t\tcolor: #22c55e;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 16px;\n\t\twidth: 28px;\n\t\theight: 28px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 16px;\n\t\twidth: auto;\n\t\theight: auto;\n\t\tpadding: 2px 4px;\n\t}\n"]))),pF=CC.button(WL||(WL=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 16px;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\twhite-space: nowrap;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t&:active {\n\t\tbackground-color: #15803d;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 12px;\n\t\tflex: 1;\n\t}\n"]))),fF=CC.div(KL||(KL=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n\tgap: 20px;\n\tmargin-top: 8px; /* space from header */\n\n\t@media (max-width: 1024px) {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n\t\tgap: 16px;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n\t\tgap: 14px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\n\t\tgap: 12px;\n\t}\n"]))),mF=CC.div(GL||(GL=Rk(["\n\tposition: relative;\n\theight: 200px;\n\tborder-radius: 8px;\n\toverflow: hidden;\n\tcursor: pointer;\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\ttransition:\n\t\ttransform 0.2s ease,\n\t\tbox-shadow 0.2s ease;\n\n\t&:hover {\n\t\ttransform: translateY(-4px);\n\t\tbox-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n\t}\n\n\t@media (max-width: 768px) {\n\t\theight: 170px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\theight: 150px;\n\t}\n"]))),gF=CC.img(QL||(QL=Rk(["\n\twidth: 100%;\n\theight: 100%;\n\tobject-fit: cover;\n"]))),yF=CC.div($L||($L=Rk(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: linear-gradient(\n\t\tto bottom,\n\t\trgba(0, 0, 0, 0.3),\n\t\trgba(0, 0, 0, 0.6)\n\t);\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tpadding: 16px;\n\tcolor: white;\n\tz-index: 1;\n"]))),vF=CC.button(YL||(YL=Rk(["\n\tposition: absolute;\n\ttop: 12px;\n\tright: 12px;\n\tbackground: none;\n\tborder: none;\n\tfont-size: 28px;\n\tcursor: pointer;\n\ttransition:\n\t\ttransform 0.2s ease,\n\t\ttext-shadow 0.2s ease;\n\ttext-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n\tpadding: 4px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 2;\n\n\t&:hover {\n\t\ttransform: scale(1.1);\n\t\ttext-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n\t}\n\n\t&:active {\n\t\ttransform: scale(0.95);\n\t}\n"]))),xF=CC.a(JL||(JL=Rk(["\n\tfont-size: 16px;\n\tfont-weight: 600;\n\tcolor: white;\n\ttext-decoration: none;\n\tcursor: pointer;\n\ttransition: opacity 0.2s ease;\n\n\t&:hover {\n\t\topacity: 0.9;\n\t\ttext-decoration: underline;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 14px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t}\n"]))),bF=CC.button(XL||(XL=Rk(["\n\tbackground: none;\n\tborder: none;\n\tcolor: white;\n\tfont-size: 20px;\n\tcursor: pointer;\n\tpadding: 4px 8px;\n\tborder-radius: 4px;\n\ttransition: background-color 0.2s ease;\n\talign-self: flex-end;\n\n\t&:hover {\n\t\tbackground-color: rgba(255, 255, 255, 0.2);\n\t}\n"]))),wF=CC.div(ZL||(ZL=Rk(["\n\tposition: absolute;\n\ttop: 40px;\n\tright: 16px;\n\tbackground-color: white;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n\tz-index: 100;\n\tmin-width: 120px;\n\toverflow: hidden;\n"]))),SF=CC.button(tF||(tF=Rk(["\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 10px 12px;\n\tbackground: none;\n\tborder: none;\n\tcolor: black;\n\ttext-align: left;\n\tfont-size: 14px;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:first-child {\n\t\tborder-radius: 4px 4px 0 0;\n\t}\n\n\t&:last-child {\n\t\tborder-radius: 0 0 4px 4px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: #f5f5f5;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 10px;\n\t\tfont-size: 12px;\n\t}\n"]))),kF=(CC.div(eF||(eF=Rk(["\n\tdisplay: none; /* replaced by PageHeader + TopActions */\n"]))),CC.button(nF||(nF=Rk(["\n\tbackground-color: #d1d5db;\n\tcolor: #666666;\n\tborder: none;\n\tpadding: 10px 16px;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition:\n\t\tbackground-color 0.2s ease,\n\t\tcolor 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #b6b9c1;\n\t\tcolor: #4b5563;\n\t}\n\n\t&:active {\n\t\tbackground-color: #a0a5b3;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 12px;\n\t\twidth: 100%;\n\t}\n"])))),EF=()=>{var e;const n=YS(),r=b((t=>t.user.currentUser)),i=b((t=>t.team.groups.flatMap((t=>t.members)))),o=b((t=>t.propertyData.groups)),{addRecentlyViewed:a}=gN(r.id),{toggleFavorite:s,isFavorite:l}=xN(r.id),[c]=rw(),[u]=iw(),[d]=ow(),[h]=Xb(),[p]=Zb(),[f]=tw(),m=!!r&&bN(r.role),g=(0,t.useMemo)((()=>o.map((t=>({...t,properties:t.properties||[]})))),[o]),y=(0,t.useMemo)((()=>((t,e,n)=>{if(!e)return[];if(SN(e.role))return t;if(kN(e.role)&&n){const r=n.find((t=>t.email===e.email));return r&&r.linkedProperties?t.map((t=>{var e;return{...t,properties:(null===(e=t.properties)||void 0===e?void 0:e.filter((t=>r.linkedProperties.includes(t.id))))||[]}})).filter((t=>t.properties&&t.properties.length>0)):[]}return[]})(g,r,null===i||void 0===i?void 0:i.filter((t=>void 0!==t)))),[g,r,i]),[v,x]=(0,t.useState)(null),[w,S]=(0,t.useState)(!1),[k,E]=(0,t.useState)(null),[_,C]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[A,j]=(0,t.useState)(""),P=t=>{if(T===t){var e;A.trim()&&A!==(null===(e=o.find((e=>e.id===t)))||void 0===e?void 0:e.name)&&p({id:t,updates:{name:A}}),I(null),j("")}else{const e=o.find((e=>e.id===t));e&&(I(t),j(e.name))}};return(0,jk.jsxs)(rF,{children:[(0,jk.jsxs)(yO,{children:[(0,jk.jsx)(vO,{children:"Properties"}),m&&(0,jk.jsxs)(iF,{children:[(0,jk.jsx)(kF,{onClick:async()=>{if(r)try{console.log("Creating new property group for user:",r.id);const t=await h({userId:r.id,name:"New Group",properties:[]});console.log("Property group created:",t)}catch(t){console.error("Failed to create property group:",t)}else console.error("No user logged in")},children:"+ Add Group"}),(0,jk.jsx)(pF,{onClick:()=>{E(null),C(null),S(!0)},children:"+ Add Property"})]})]}),(0,jk.jsx)(RL,{isOpen:w,onClose:()=>{S(!1),E(null),C(null)},onSave:async t=>{const e="Multi-Family"===t.propertyType?(t.units||[]).map((t=>({name:t,occupants:[],devices:[]}))):void 0,n="Commercial"===t.propertyType&&t.hasSuites?(t.suites||[]).map((t=>({name:t,occupants:[],devices:[]}))):void 0;if(_)await u({id:_.id,updates:{title:t.name,image:t.photo||_.image,owner:t.owner,address:t.address,propertyType:t.propertyType,units:"Multi-Family"===t.propertyType?e:void 0,hasSuites:"Commercial"===t.propertyType?!!t.hasSuites:void 0,suites:"Commercial"===t.propertyType&&t.hasSuites?n:void 0,bedrooms:t.bedrooms,bathrooms:t.bathrooms,administrators:t.administrators,viewers:t.viewers,deviceIds:t.devices.map((t=>t.id)),notes:t.notes,taskHistory:t.maintenanceHistory||[]}});else{const o=t.name.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),s=t.groupId||k;if(!s||""===s)return void alert("Please select a group for this property");const l={userId:r.id,groupId:s,title:t.name,slug:o,...t.photo&&{image:t.photo},owner:t.owner,address:t.address,propertyType:t.propertyType,bedrooms:t.bedrooms,bathrooms:t.bathrooms,administrators:t.administrators,taskHistory:t.maintenanceHistory||[]};"Multi-Family"===t.propertyType&&e&&(l.units=e),"Commercial"===t.propertyType&&(l.hasSuites=!!t.hasSuites,t.hasSuites&&n&&(l.suites=n));try{const t=await c(l);if("data"in t)a({id:t.data.id,title:t.data.title,slug:t.data.slug}),console.log("Property created successfully:",t.data);else if("error"in t)return console.error("Failed to create property:",t.error),void alert("Failed to create property. Please try again.")}catch(i){return console.error("Error creating property:",i),void alert("An error occurred while creating the property.")}}S(!1),E(null),C(null)},groups:y.map((t=>({id:t.id,name:t.name}))),selectedGroupId:k,onCreateGroup:async t=>{const e=await h({name:t,properties:[],userId:r.id});return"data"in e&&e.data?e.data.id:""},initialData:_?{name:_.title,photo:_.image,owner:_.owner||"",administrators:_.administrators||[],viewers:_.viewers||[],address:_.address||"",propertyType:_.propertyType||"Single Family",units:(_.units||[]).map((t=>"string"===typeof t?t:t.name)),hasSuites:null!==(e=_.hasSuites)&&void 0!==e&&e,suites:(_.suites||[]).map((t=>"string"===typeof t?t:t.name)),bedrooms:_.bedrooms||0,bathrooms:_.bathrooms||0,devices:_.devices||[{id:Date.now(),type:"",brand:"",model:"",installationDate:""}],notes:_.notes||"",maintenanceHistory:_.maintenanceHistory||[]}:void 0}),(0,jk.jsx)(oF,{children:y.map((t=>(0,jk.jsxs)(aF,{children:[(0,jk.jsxs)(sF,{children:[(0,jk.jsx)("div",{children:T===t.id?(0,jk.jsx)(cF,{type:"text",value:A,onChange:t=>j(t.target.value),onBlur:()=>P(t.id),onKeyDown:e=>{"Enter"===e.key&&P(t.id)},autoFocus:!0}):(0,jk.jsx)(lF,{children:t.name})}),(0,jk.jsx)(uF,{children:m&&(0,jk.jsxs)(dF,{children:[(0,jk.jsx)(hF,{title:"Edit group",onClick:()=>P(t.id),children:"\u270e"}),(0,jk.jsx)(hF,{title:"Delete group",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this property group?"))try{await f(t).unwrap(),console.log("Property group deleted successfully")}catch(e){console.error("Failed to delete property group:",e),alert("Failed to delete property group. Please try again.")}})(t.id),children:"\ud83d\uddd1"})]})})]}),(0,jk.jsx)(fF,{children:(t.properties||[]).map((e=>(0,jk.jsxs)(mF,{onClick:()=>{a({id:e.id,title:e.title,slug:e.slug}),n("/property/".concat(e.slug))},children:[(0,jk.jsx)(gF,{src:e.image,alt:e.title}),(0,jk.jsx)(vF,{onClick:t=>{t.preventDefault(),t.stopPropagation(),s({id:e.id,title:e.title,slug:e.slug})},title:l(e.id)?"Remove from favorites":"Add to favorites",children:l(e.id)?"\u2605":"\u2606"}),(0,jk.jsxs)(yF,{children:[(0,jk.jsx)(xF,{onClick:t=>{t.stopPropagation(),a({id:e.id,title:e.title,slug:e.slug})},children:e.title}),(0,jk.jsx)(bF,{onClick:n=>{n.stopPropagation(),x(v==="".concat(t.id,"-").concat(e.id)?null:"".concat(t.id,"-").concat(e.id))},children:"\u22ee"}),v==="".concat(t.id,"-").concat(e.id)&&m&&(0,jk.jsxs)(wF,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsx)(SF,{onClick:()=>((t,e)=>{E(t),C(e),a({id:e.id,title:e.title,slug:e.slug}),S(!0)})(t.id,e),children:"Edit"}),(0,jk.jsx)(SF,{onClick:()=>(async t=>{await d(t),x(null)})(e.id),style:{color:"#ef4444"},children:"Delete"})]})]})]},e.id)))})]},t.id)))})]})};var _F,CF,TF,IF,AF,jF,PF,RF,NF,OF,DF,MF,LF,FF,zF,UF,VF,qF,BF,HF,WF;const KF=e=>{let{isOpen:n,onClose:r,onSubmit:i,propertyTitle:o}=e;const[a,s]=(0,t.useState)({title:"",description:"",priority:"Medium",category:"General"}),[l,c]=(0,t.useState)([]);return n?(0,jk.jsx)(GF,{onClick:r,children:(0,jk.jsxs)(QF,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsxs)($F,{children:[(0,jk.jsx)(YF,{children:"Request Maintenance"}),(0,jk.jsx)(JF,{children:o}),(0,jk.jsx)(XF,{onClick:r,children:"\xd7"})]}),(0,jk.jsxs)(ZF,{onSubmit:t=>{t.preventDefault(),i({...a,files:l}),s({title:"",description:"",priority:"Medium",category:"General"}),c([]),r()},children:[(0,jk.jsxs)(tz,{children:[(0,jk.jsx)(ez,{children:"Issue Title *"}),(0,jk.jsx)(nz,{type:"text",value:a.title,onChange:t=>s({...a,title:t.target.value}),placeholder:"Brief description of the issue",required:!0})]}),(0,jk.jsxs)(tz,{children:[(0,jk.jsx)(ez,{children:"Category *"}),(0,jk.jsxs)(rz,{value:a.category,onChange:t=>s({...a,category:t.target.value}),required:!0,children:[(0,jk.jsx)("option",{value:"General",children:"General Maintenance"}),(0,jk.jsx)("option",{value:"Plumbing",children:"Plumbing"}),(0,jk.jsx)("option",{value:"Electrical",children:"Electrical"}),(0,jk.jsx)("option",{value:"HVAC",children:"HVAC"}),(0,jk.jsx)("option",{value:"Appliance",children:"Appliance"}),(0,jk.jsx)("option",{value:"Structural",children:"Structural"}),(0,jk.jsx)("option",{value:"Pest Control",children:"Pest Control"}),(0,jk.jsx)("option",{value:"Landscaping",children:"Landscaping"}),(0,jk.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,jk.jsxs)(tz,{children:[(0,jk.jsx)(ez,{children:"Priority *"}),(0,jk.jsxs)(rz,{value:a.priority,onChange:t=>s({...a,priority:t.target.value}),required:!0,children:[(0,jk.jsx)("option",{value:"Low",children:"Low - Can wait"}),(0,jk.jsx)("option",{value:"Medium",children:"Medium - Normal priority"}),(0,jk.jsx)("option",{value:"High",children:"High - Soon as possible"}),(0,jk.jsx)("option",{value:"Urgent",children:"Urgent - Emergency"})]})]}),(0,jk.jsxs)(tz,{children:[(0,jk.jsx)(ez,{children:"Description *"}),(0,jk.jsx)(iz,{value:a.description,onChange:t=>s({...a,description:t.target.value}),placeholder:"Please provide details about the maintenance issue...",rows:6,required:!0})]}),(0,jk.jsxs)(tz,{children:[(0,jk.jsx)(ez,{children:"Attach Photos/Files (Optional)"}),(0,jk.jsx)(oz,{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:t=>{t.target.files&&c(Array.from(t.target.files))}}),l.length>0&&(0,jk.jsx)(az,{children:l.map(((t,e)=>(0,jk.jsxs)(sz,{children:["\ud83d\udcce ",t.name," (",Math.round(t.size/1024),"KB)"]},e)))})]}),(0,jk.jsxs)(lz,{children:[(0,jk.jsx)(cz,{children:"\u2139\ufe0f"}),(0,jk.jsx)(uz,{children:"Your request will be sent to the maintenance team and property management. You'll be notified once it's reviewed and assigned."})]}),(0,jk.jsxs)(dz,{children:[(0,jk.jsx)(hz,{type:"button",onClick:r,children:"Cancel"}),(0,jk.jsx)(pz,{type:"submit",children:"Submit Request"})]})]})]})}):null},GF=CC.div(_F||(_F=Rk(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1000;\n"]))),QF=CC.div(CF||(CF=Rk(["\n\tbackground: white;\n\tborder-radius: 8px;\n\twidth: 90%;\n\tmax-width: 600px;\n\tmax-height: 90vh;\n\toverflow-y: auto;\n\tbox-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n"]))),$F=CC.div(TF||(TF=Rk(["\n\tpadding: 24px;\n\tborder-bottom: 1px solid #e0e0e0;\n\tposition: relative;\n"]))),YF=CC.h2(IF||(IF=Rk(["\n\tmargin: 0 0 4px 0;\n\tfont-size: 24px;\n\tcolor: #333;\n"]))),JF=CC.div(AF||(AF=Rk(["\n\tcolor: #666;\n\tfont-size: 14px;\n"]))),XF=CC.button(jF||(jF=Rk(["\n\tposition: absolute;\n\ttop: 16px;\n\tright: 16px;\n\tbackground: none;\n\tborder: none;\n\tfont-size: 32px;\n\tcolor: #999;\n\tcursor: pointer;\n\tline-height: 1;\n\tpadding: 0;\n\twidth: 32px;\n\theight: 32px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&:hover {\n\t\tcolor: #333;\n\t}\n"]))),ZF=CC.form(PF||(PF=Rk(["\n\tpadding: 24px;\n"]))),tz=CC.div(RF||(RF=Rk(["\n\tmargin-bottom: 20px;\n"]))),ez=CC.label(NF||(NF=Rk(["\n\tdisplay: block;\n\tmargin-bottom: 8px;\n\tfont-weight: 500;\n\tcolor: #333;\n\tfont-size: 14px;\n"]))),nz=CC.input(OF||(OF=Rk(["\n\twidth: 100%;\n\tpadding: 10px 12px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\ttransition: border-color 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #4a90e2;\n\t}\n"]))),rz=CC.select(DF||(DF=Rk(["\n\twidth: 100%;\n\tpadding: 10px 12px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tbackground-color: white;\n\tcursor: pointer;\n\ttransition: border-color 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #4a90e2;\n\t}\n"]))),iz=CC.textarea(MF||(MF=Rk(["\n\twidth: 100%;\n\tpadding: 10px 12px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\tresize: vertical;\n\ttransition: border-color 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #4a90e2;\n\t}\n"]))),oz=CC.input(LF||(LF=Rk(["\n\twidth: 100%;\n\tpadding: 10px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tcursor: pointer;\n\n\t&::-webkit-file-upload-button {\n\t\tpadding: 6px 12px;\n\t\tborder: none;\n\t\tbackground-color: #f5f5f5;\n\t\tborder-radius: 4px;\n\t\tcursor: pointer;\n\t\tmargin-right: 10px;\n\n\t\t&:hover {\n\t\t\tbackground-color: #e0e0e0;\n\t\t}\n\t}\n"]))),az=CC.div(FF||(FF=Rk(["\n\tmargin-top: 10px;\n\tpadding: 10px;\n\tbackground-color: #f9f9f9;\n\tborder-radius: 4px;\n"]))),sz=CC.div(zF||(zF=Rk(["\n\tpadding: 4px 0;\n\tfont-size: 13px;\n\tcolor: #555;\n"]))),lz=CC.div(UF||(UF=Rk(["\n\tdisplay: flex;\n\talign-items: flex-start;\n\tgap: 10px;\n\tpadding: 12px;\n\tbackground-color: #e3f2fd;\n\tborder-left: 4px solid #2196f3;\n\tborder-radius: 4px;\n\tmargin-bottom: 20px;\n"]))),cz=CC.span(VF||(VF=Rk(["\n\tfont-size: 20px;\n\tline-height: 1;\n"]))),uz=CC.p(qF||(qF=Rk(["\n\tmargin: 0;\n\tfont-size: 13px;\n\tcolor: #1565c0;\n\tline-height: 1.5;\n"]))),dz=CC.div(BF||(BF=Rk(["\n\tdisplay: flex;\n\tgap: 12px;\n\tjustify-content: flex-end;\n"]))),hz=CC.button(HF||(HF=Rk(["\n\tpadding: 10px 24px;\n\tborder: 1px solid #ddd;\n\tbackground-color: white;\n\tcolor: #333;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\n\t&:hover {\n\t\tbackground-color: #f5f5f5;\n\t\tborder-color: #999;\n\t}\n"]))),pz=CC.button(WF||(WF=Rk(["\n\tpadding: 10px 24px;\n\tborder: none;\n\tbackground-color: #4caf50;\n\tcolor: white;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tcursor: pointer;\n\ttransition: background-color 0.2s;\n\n\t&:hover {\n\t\tbackground-color: #45a049;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #ccc;\n\t\tcursor: not-allowed;\n\t}\n"])));var fz,mz,gz,yz,vz,xz,bz,wz,Sz,kz,Ez,_z,Cz,Tz,Iz,Az,jz,Pz,Rz,Nz,Oz,Dz,Mz,Lz,Fz,zz,Uz;const Vz=e=>{let{isOpen:n,onClose:r,onConvert:i,request:o,teamMembers:a}=e;const s=t=>{const e="Urgent"===t?3:"High"===t?7:"Medium"===t?14:30,n=new Date;return n.setDate(n.getDate()+e),n.toISOString().split("T")[0]},[l,c]=(0,t.useState)({title:o.title,dueDate:s(o.priority),status:"Pending",assignee:"",notes:"Maintenance Request Details:\n".concat(o.description,"\n").concat(o.unit?"\nUnit: ".concat(o.unit):"","\nCategory: ").concat(o.category,"\nPriority: ").concat(o.priority,"\nSubmitted by: ").concat(o.submittedByName," on ").concat(o.submittedAt?new Date(o.submittedAt).toLocaleDateString():"N/A"),priority:o.priority});(0,t.useEffect)((()=>{n&&c({title:o.title,dueDate:s(o.priority),status:"Pending",assignee:"",notes:"Maintenance Request Details:\n".concat(o.description,"\n").concat(o.unit?"\nUnit: ".concat(o.unit):"","\nCategory: ").concat(o.category,"\nPriority: ").concat(o.priority,"\nSubmitted by: ").concat(o.submittedByName," on ").concat(o.submittedAt?new Date(o.submittedAt).toLocaleDateString():"N/A"),priority:o.priority})}),[n,o]);return n?(0,jk.jsx)(qz,{onClick:r,children:(0,jk.jsxs)(Bz,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsxs)(Hz,{children:[(0,jk.jsxs)("div",{children:[(0,jk.jsx)(Wz,{children:"Convert Request to Task"}),(0,jk.jsx)(Kz,{children:"Configure task details before creating from maintenance request"})]}),(0,jk.jsx)(Gz,{onClick:r,children:"\xd7"})]}),(0,jk.jsxs)(Qz,{children:[(0,jk.jsx)($z,{children:"Original Request:"}),(0,jk.jsx)(Yz,{children:(0,jk.jsx)("strong",{children:o.title})}),(0,jk.jsxs)(Yz,{children:[(0,jk.jsxs)(Jz,{priority:o.priority,children:[o.priority," Priority"]}),(0,jk.jsx)(Xz,{children:o.category}),o.unit&&(0,jk.jsxs)(Zz,{children:["\ud83d\udccd ",o.unit]})]}),(0,jk.jsxs)(Yz,{style:{fontSize:"13px",color:"#666"},children:["Submitted by ",o.submittedByName," \u2022"," ",o.submittedAt?new Date(o.submittedAt).toLocaleDateString():"N/A"]})]}),(0,jk.jsxs)(tU,{onSubmit:t=>{t.preventDefault(),i(l),r()},children:[(0,jk.jsx)(eU,{children:(0,jk.jsxs)(nU,{children:[(0,jk.jsxs)(rU,{children:["Task Title ",(0,jk.jsx)(iU,{children:"*"})]}),(0,jk.jsx)(oU,{type:"text",value:l.title,onChange:t=>c({...l,title:t.target.value}),placeholder:"Enter task title",required:!0})]})}),(0,jk.jsxs)(eU,{children:[(0,jk.jsxs)(nU,{children:[(0,jk.jsxs)(rU,{children:["Due Date ",(0,jk.jsx)(iU,{children:"*"})]}),(0,jk.jsx)(oU,{type:"date",value:l.dueDate,onChange:t=>c({...l,dueDate:t.target.value}),min:(new Date).toISOString().split("T")[0],required:!0}),(0,jk.jsxs)(lU,{children:["Suggested based on ",o.priority.toLowerCase()," priority"]})]}),(0,jk.jsxs)(nU,{children:[(0,jk.jsx)(rU,{children:"Initial Status"}),(0,jk.jsxs)(aU,{value:l.status,onChange:t=>c({...l,status:t.target.value}),children:[(0,jk.jsx)("option",{value:"Pending",children:"Pending"}),(0,jk.jsx)("option",{value:"In Progress",children:"In Progress"})]})]})]}),(0,jk.jsxs)(nU,{children:[(0,jk.jsx)(rU,{children:"Assign To"}),(0,jk.jsxs)(aU,{value:l.assignee,onChange:t=>c({...l,assignee:t.target.value}),children:[(0,jk.jsx)("option",{value:"",children:"Unassigned (assign later)"}),a.filter((t=>"tenant"!==t.role)).map((t=>(0,jk.jsxs)("option",{value:"".concat(t.firstName," ").concat(t.lastName),children:[t.firstName," ",t.lastName," - ",t.title]},t.id)))]}),(0,jk.jsx)(lU,{children:"You can assign this task to a team member or leave unassigned"})]}),(0,jk.jsxs)(nU,{children:[(0,jk.jsxs)(rU,{children:["Task Notes ",(0,jk.jsx)(iU,{children:"*"})]}),(0,jk.jsx)(sU,{value:l.notes,onChange:t=>c({...l,notes:t.target.value}),placeholder:"Add any additional notes or instructions for this task...",rows:8,required:!0}),(0,jk.jsx)(lU,{children:"Original request details are pre-filled. Add any additional instructions."})]}),o.files&&o.files.length>0&&(0,jk.jsxs)(cU,{children:[(0,jk.jsx)(uU,{children:"\ud83d\udcce"}),(0,jk.jsxs)(dU,{children:[(0,jk.jsxs)("strong",{children:[o.files.length," file(s)"]})," from the maintenance request will be attached to this task."]})]}),(0,jk.jsxs)(hU,{children:[(0,jk.jsx)(pU,{type:"button",onClick:r,children:"Cancel"}),(0,jk.jsx)(fU,{type:"submit",children:"Create Task"})]})]})]})}):null},qz=CC.div(fz||(fz=Rk(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(0, 0, 0, 0.6);\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1000;\n\tpadding: 20px;\n"]))),Bz=CC.div(mz||(mz=Rk(["\n\tbackground: white;\n\tborder-radius: 12px;\n\twidth: 100%;\n\tmax-width: 700px;\n\tmax-height: 90vh;\n\toverflow-y: auto;\n\tbox-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n"]))),Hz=CC.div(gz||(gz=Rk(["\n\tpadding: 24px;\n\tborder-bottom: 2px solid #e0e0e0;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: flex-start;\n\tbackground: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\n\tcolor: white;\n\tborder-radius: 12px 12px 0 0;\n"]))),Wz=CC.h2(yz||(yz=Rk(["\n\tmargin: 0 0 4px 0;\n\tfont-size: 22px;\n\tfont-weight: 600;\n\tcolor: white;\n"]))),Kz=CC.div(vz||(vz=Rk(["\n\tfont-size: 13px;\n\topacity: 0.95;\n\tcolor: white;\n"]))),Gz=CC.button(xz||(xz=Rk(["\n\tbackground: none;\n\tborder: none;\n\tfont-size: 32px;\n\tcolor: white;\n\tcursor: pointer;\n\tline-height: 1;\n\tpadding: 0;\n\twidth: 32px;\n\theight: 32px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\topacity: 0.9;\n\ttransition: opacity 0.2s;\n\n\t&:hover {\n\t\topacity: 1;\n\t}\n"]))),Qz=CC.div(bz||(bz=Rk(["\n\tpadding: 20px 24px;\n\tbackground: #f8f9fa;\n\tborder-bottom: 1px solid #e0e0e0;\n"]))),$z=CC.div(wz||(wz=Rk(["\n\tfont-size: 12px;\n\tfont-weight: 600;\n\ttext-transform: uppercase;\n\tcolor: #666;\n\tmargin-bottom: 8px;\n\tletter-spacing: 0.5px;\n"]))),Yz=CC.div(Sz||(Sz=Rk(["\n\tmargin-bottom: 6px;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 10px;\n\tflex-wrap: wrap;\n"]))),Jz=CC.span(kz||(kz=Rk(["\n\tdisplay: inline-block;\n\tpadding: 4px 12px;\n\tborder-radius: 12px;\n\tfont-size: 12px;\n\tfont-weight: 600;\n\tbackground-color: ",";\n\tcolor: ",";\n"])),(t=>"Urgent"===t.priority?"#fee":"High"===t.priority?"#fff3e0":"Medium"===t.priority?"#e3f2fd":"#f5f5f5"),(t=>"Urgent"===t.priority?"#c62828":"High"===t.priority?"#e65100":"Medium"===t.priority?"#1565c0":"#666")),Xz=CC.span(Ez||(Ez=Rk(["\n\tdisplay: inline-block;\n\tpadding: 4px 12px;\n\tborder-radius: 12px;\n\tfont-size: 12px;\n\tbackground-color: #e8eaf6;\n\tcolor: #3f51b5;\n"]))),Zz=CC.span(_z||(_z=Rk(["\n\tdisplay: inline-block;\n\tpadding: 4px 12px;\n\tborder-radius: 12px;\n\tfont-size: 12px;\n\tfont-weight: 500;\n\tbackground-color: #dcfce7;\n\tcolor: #16a34a;\n\tborder: 1px solid #22c55e;\n"]))),tU=CC.form(Cz||(Cz=Rk(["\n\tpadding: 24px;\n"]))),eU=CC.div(Tz||(Tz=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgap: 16px;\n\tmargin-bottom: 20px;\n\n\t@media (max-width: 600px) {\n\t\tgrid-template-columns: 1fr;\n\t}\n"]))),nU=CC.div(Iz||(Iz=Rk(["\n\tmargin-bottom: 20px;\n"]))),rU=CC.label(Az||(Az=Rk(["\n\tdisplay: block;\n\tmargin-bottom: 8px;\n\tfont-weight: 600;\n\tcolor: #333;\n\tfont-size: 14px;\n"]))),iU=CC.span(jz||(jz=Rk(["\n\tcolor: #ef4444;\n"]))),oU=CC.input(Pz||(Pz=Rk(["\n\twidth: 100%;\n\tpadding: 10px 12px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\ttransition: border-color 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n"]))),aU=CC.select(Rz||(Rz=Rk(["\n\twidth: 100%;\n\tpadding: 10px 12px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tbackground-color: white;\n\tcursor: pointer;\n\ttransition: border-color 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n"]))),sU=CC.textarea(Nz||(Nz=Rk(["\n\twidth: 100%;\n\tpadding: 10px 12px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\tresize: vertical;\n\ttransition: border-color 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n"]))),lU=CC.div(Oz||(Oz=Rk(["\n\tmargin-top: 6px;\n\tfont-size: 12px;\n\tcolor: #666;\n\tfont-style: italic;\n"]))),cU=CC.div(Dz||(Dz=Rk(["\n\tdisplay: flex;\n\talign-items: flex-start;\n\tgap: 12px;\n\tpadding: 12px 16px;\n\tbackground-color: #e8f5e9;\n\tborder-left: 4px solid #4caf50;\n\tborder-radius: 6px;\n\tmargin-bottom: 20px;\n"]))),uU=CC.span(Mz||(Mz=Rk(["\n\tfont-size: 20px;\n\tline-height: 1;\n"]))),dU=CC.p(Lz||(Lz=Rk(["\n\tmargin: 0;\n\tfont-size: 13px;\n\tcolor: #2e7d32;\n\tline-height: 1.5;\n"]))),hU=CC.div(Fz||(Fz=Rk(["\n\tdisplay: flex;\n\tgap: 12px;\n\tjustify-content: flex-end;\n\tpadding-top: 8px;\n"]))),pU=CC.button(zz||(zz=Rk(["\n\tpadding: 10px 24px;\n\tborder: 1px solid #ddd;\n\tbackground-color: white;\n\tcolor: #333;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\n\t&:hover {\n\t\tbackground-color: #f5f5f5;\n\t\tborder-color: #999;\n\t}\n"]))),fU=CC.button(Uz||(Uz=Rk(["\n\tpadding: 10px 24px;\n\tborder: none;\n\tbackground: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\n\tcolor: white;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\ttransition:\n\t\ttransform 0.2s,\n\t\tbox-shadow 0.2s;\n\n\t&:hover {\n\t\ttransform: translateY(-1px);\n\t\tbox-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);\n\t}\n\n\t&:disabled {\n\t\tbackground: #ccc;\n\t\tcursor: not-allowed;\n\t\ttransform: none;\n\t}\n"])));var mU,gU,yU,vU,xU,bU,wU,SU,kU,EU,_U,CU,TU,IU,AU,jU,PU,RU,NU,OU,DU,MU,LU,FU,zU,UU;const VU=e=>{let{open:n,onClose:r,propertyId:i,propertyTitle:o,ownerId:a,ownerEmail:s}=e;const[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)("viewer"),[h,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),{data:v=[],isLoading:x}=Vw(i),{data:b=[],isLoading:w}=Jw(i),[S,{isLoading:k}]=Gw(),[E,{isLoading:_}]=Hw(),[C,{isLoading:T}]=Ww(),[I,{isLoading:A}]=Yw();return n?(0,jk.jsx)(qU,{onClick:r,children:(0,jk.jsxs)(BU,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsxs)(HU,{children:[(0,jk.jsx)("h2",{children:"Share Property"}),(0,jk.jsx)(WU,{onClick:r,children:(0,jk.jsx)(Kj,{icon:JP})})]}),(0,jk.jsx)(KU,{children:o}),f&&(0,jk.jsxs)(GU,{type:"error",children:[f,(0,jk.jsx)(QU,{onClick:()=>m(""),children:"\xd7"})]}),g&&(0,jk.jsxs)(GU,{type:"success",children:[g,(0,jk.jsx)(QU,{onClick:()=>y(""),children:"\xd7"})]}),(0,jk.jsxs)($U,{children:[(0,jk.jsx)(YU,{children:"Invite User"}),(0,jk.jsxs)(JU,{children:[(0,jk.jsx)(XU,{type:"email",value:l,onChange:t=>c(t.target.value),placeholder:"user@example.com"}),(0,jk.jsxs)(ZU,{value:u,onChange:t=>d(t.target.value),children:[(0,jk.jsx)("option",{value:hP,children:TN(hP)}),(0,jk.jsx)("option",{value:dP,children:TN(dP)})]}),(0,jk.jsx)(tV,{onClick:async()=>{if(m(""),y(""),!l||!l.includes("@"))return void m("Please enter a valid email address");if(l.toLowerCase()===s.toLowerCase())return void m("You cannot share a property with yourself");if(v.find((t=>t.sharedWithEmail.toLowerCase()===l.toLowerCase())))return void m("This property is already shared with this email");if(b.find((t=>t.toEmail.toLowerCase()===l.toLowerCase())))m("An invitation has already been sent to this email");else try{await S({propertyId:i,propertyTitle:o,fromUserId:a,fromUserEmail:s,toEmail:l.toLowerCase(),permission:u}).unwrap(),y("Invitation sent to ".concat(l)),c(""),d("viewer")}catch(t){m(t.message||"Failed to send invitation")}},disabled:k||!l,children:k?(0,jk.jsx)(Kj,{icon:XP,spin:!0}):(0,jk.jsxs)(jk.Fragment,{children:[(0,jk.jsx)(Kj,{icon:ZP})," Invite"]})})]}),(0,jk.jsxs)(nV,{children:[(0,jk.jsx)("strong",{children:"Admin:"})," Can view and edit property details",(0,jk.jsx)("br",{}),(0,jk.jsx)("strong",{children:"Viewer:"})," Can only view property details"]})]}),(0,jk.jsxs)($U,{children:[(0,jk.jsxs)(YU,{children:["Shared With (",v.length,")"]}),x?(0,jk.jsx)(rV,{children:(0,jk.jsx)(Kj,{icon:XP,spin:!0,size:"2x"})}):0===v.length?(0,jk.jsx)(iV,{children:"This property hasn't been shared with anyone yet."}):(0,jk.jsx)(oV,{children:v.map((t=>(0,jk.jsxs)(aV,{children:[(0,jk.jsxs)(sV,{children:[(0,jk.jsx)(lV,{children:t.sharedWithEmail}),h===t.id?(0,jk.jsx)("div",{style:{marginTop:"8px"},children:(0,jk.jsxs)(ZU,{value:t.permission,onChange:e=>(async(t,e)=>{m("");try{await E({id:t,permission:e}).unwrap(),p(null),y("Share permission updated")}catch(n){m(n.message||"Failed to update share")}})(t.id,e.target.value),disabled:_,children:[(0,jk.jsx)("option",{value:hP,children:TN(hP)}),(0,jk.jsx)("option",{value:dP,children:TN(dP)})]})}):(0,jk.jsx)(cV,{color:"admin"===t.permission?"primary":"default",children:TN(t.permission)})]}),(0,jk.jsx)(dV,{children:h===t.id?(0,jk.jsx)(eV,{onClick:()=>p(null),disabled:_,children:"Cancel"}):(0,jk.jsxs)(jk.Fragment,{children:[(0,jk.jsx)(hV,{onClick:()=>p(t.id),disabled:T,title:"Edit permission",children:(0,jk.jsx)(Kj,{icon:HP})}),(0,jk.jsx)(hV,{onClick:()=>(async t=>{if(m(""),window.confirm("Are you sure you want to revoke access for this user?"))try{await C(t).unwrap(),y("Access revoked successfully")}catch(e){m(e.message||"Failed to revoke access")}})(t.id),disabled:T,title:"Revoke access",color:"danger",children:(0,jk.jsx)(Kj,{icon:$P})})]})})]},t.id)))})]}),(0,jk.jsxs)($U,{children:[(0,jk.jsxs)(YU,{children:["Pending Invitations (",b.length,")"]}),w?(0,jk.jsx)(rV,{children:(0,jk.jsx)(Kj,{icon:XP,spin:!0,size:"2x"})}):0===b.length?(0,jk.jsx)(iV,{children:"No pending invitations."}):(0,jk.jsx)(oV,{children:b.map((t=>(0,jk.jsxs)(aV,{children:[(0,jk.jsxs)(sV,{children:[(0,jk.jsx)(lV,{children:t.toEmail}),(0,jk.jsxs)(cV,{color:"admin"===t.permission?"primary":"default",children:[TN(t.permission)," \u2022 Pending"]}),(0,jk.jsxs)(uV,{children:["Sent:"," ",new Date(t.createdAt).toLocaleDateString()," \u2022 Expires:"," ",new Date(t.expiresAt).toLocaleDateString()]})]}),(0,jk.jsx)(dV,{children:(0,jk.jsx)(hV,{color:"danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to cancel this invitation?"))try{await I(t).unwrap(),y("Invitation canceled successfully")}catch(e){m(e.message||"Failed to cancel invitation")}})(t.id),title:"Cancel invitation",disabled:A,children:(0,jk.jsx)(Kj,{icon:$P})})})]},t.id)))})]}),(0,jk.jsx)(pV,{children:(0,jk.jsx)(eV,{onClick:r,children:"Close"})})]})}):null},qU=CC.div(mU||(mU=Rk(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 1000;\n\tpadding: 20px;\n"]))),BU=CC.div(gU||(gU=Rk(["\n\tbackground: white;\n\tborder-radius: 8px;\n\tmax-width: 600px;\n\twidth: 100%;\n\tmax-height: 90vh;\n\toverflow-y: auto;\n\tbox-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n"]))),HU=CC.div(yU||(yU=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 24px 24px 16px;\n\tborder-bottom: 1px solid #e0e0e0;\n\n\th2 {\n\t\tmargin: 0;\n\t\tfont-size: 24px;\n\t\tfont-weight: 600;\n\t\tcolor: #333;\n\t}\n"]))),WU=CC.button(vU||(vU=Rk(["\n\tbackground: none;\n\tborder: none;\n\tfont-size: 24px;\n\tcursor: pointer;\n\tcolor: #666;\n\tpadding: 4px 8px;\n\tline-height: 1;\n\n\t&:hover {\n\t\tcolor: #333;\n\t}\n"]))),KU=CC.div(xU||(xU=Rk(["\n\tpadding: 12px 24px;\n\tfont-size: 14px;\n\tcolor: #666;\n\tbackground-color: #f5f5f5;\n"]))),GU=CC.div(bU||(bU=Rk(["\n\tmargin: 16px 24px;\n\tpadding: 12px 40px 12px 16px;\n\tborder-radius: 4px;\n\tposition: relative;\n\tbackground-color: ",";\n\tcolor: ",";\n\tborder-left: 4px solid\n\t\t",";\n"])),(t=>"error"===t.type?"#ffebee":"#e8f5e9"),(t=>"error"===t.type?"#c62828":"#2e7d32"),(t=>"error"===t.type?"#c62828":"#2e7d32")),QU=CC.button(wU||(wU=Rk(["\n\tposition: absolute;\n\ttop: 8px;\n\tright: 12px;\n\tbackground: none;\n\tborder: none;\n\tfont-size: 20px;\n\tcursor: pointer;\n\tcolor: inherit;\n\tpadding: 0;\n\tline-height: 1;\n\n\t&:hover {\n\t\topacity: 0.7;\n\t}\n"]))),$U=CC.div(SU||(SU=Rk(["\n\tpadding: 20px 24px;\n\tborder-bottom: 1px solid #e0e0e0;\n\n\t&:last-of-type {\n\t\tborder-bottom: none;\n\t}\n"]))),YU=CC.h3(kU||(kU=Rk(["\n\tmargin: 0 0 16px;\n\tfont-size: 18px;\n\tfont-weight: 600;\n\tcolor: #333;\n"]))),JU=CC.div(EU||(EU=Rk(["\n\tdisplay: flex;\n\tgap: 12px;\n\tmargin-bottom: 12px;\n\n\t@media (max-width: 600px) {\n\t\tflex-direction: column;\n\t}\n"]))),XU=CC.input(_U||(_U=Rk(["\n\tflex: 1;\n\tpadding: 10px 12px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #2196f3;\n\t}\n"]))),ZU=CC.select(CU||(CU=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tbackground-color: white;\n\tcursor: pointer;\n\tmin-width: 150px;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #2196f3;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #f5f5f5;\n\t\tcursor: not-allowed;\n\t}\n"]))),tV=CC.button(TU||(TU=Rk(["\n\tpadding: 10px 20px;\n\tbackground-color: #2196f3;\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\twhite-space: nowrap;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #1976d2;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #ccc;\n\t\tcursor: not-allowed;\n\t}\n"]))),eV=CC.button(IU||(IU=Rk(["\n\tpadding: 8px 16px;\n\tbackground-color: white;\n\tcolor: #666;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tcursor: pointer;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #f5f5f5;\n\t\tborder-color: #999;\n\t}\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n"]))),nV=CC.div(AU||(AU=Rk(["\n\tfont-size: 12px;\n\tcolor: #666;\n\tline-height: 1.6;\n"]))),rV=CC.div(jU||(jU=Rk(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 32px;\n\tcolor: #2196f3;\n"]))),iV=CC.div(PU||(PU=Rk(["\n\tpadding: 32px 16px;\n\ttext-align: center;\n\tcolor: #999;\n\tfont-size: 14px;\n"]))),oV=CC.div(RU||(RU=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n"]))),aV=CC.div(NU||(NU=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 12px;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tgap: 12px;\n\n\t@media (max-width: 600px) {\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t}\n"]))),sV=CC.div(OU||(OU=Rk(["\n\tflex: 1;\n"]))),lV=CC.div(DU||(DU=Rk(["\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcolor: #333;\n\tmargin-bottom: 8px;\n"]))),cV=CC.span(MU||(MU=Rk(["\n\tdisplay: inline-block;\n\tpadding: 4px 12px;\n\tborder-radius: 12px;\n\tfont-size: 12px;\n\tfont-weight: 500;\n\tbackground-color: ",";\n\tcolor: ",";\n"])),(t=>"primary"===t.color?"#2196f3":"#e0e0e0"),(t=>"primary"===t.color?"white":"#666")),uV=CC.div(LU||(LU=Rk(["\n\tfont-size: 12px;\n\tcolor: #666;\n\tmargin-top: 4px;\n"]))),dV=CC.div(FU||(FU=Rk(["\n\tdisplay: flex;\n\tgap: 8px;\n\talign-items: center;\n\n\t@media (max-width: 600px) {\n\t\twidth: 100%;\n\t\tjustify-content: flex-end;\n\t}\n"]))),hV=CC.button(zU||(zU=Rk(["\n\tpadding: 8px;\n\tbackground: none;\n\tborder: none;\n\tcursor: pointer;\n\tcolor: ",";\n\tfont-size: 16px;\n\n\t&:hover:not(:disabled) {\n\t\tcolor: ",";\n\t}\n\n\t&:disabled {\n\t\topacity: 0.3;\n\t\tcursor: not-allowed;\n\t}\n"])),(t=>"danger"===t.color?"#d32f2f":"#666"),(t=>"danger"===t.color?"#b71c1c":"#333")),pV=CC.div(UU||(UU=Rk(["\n\tpadding: 16px 24px;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tborder-top: 1px solid #e0e0e0;\n"])));var fV,mV,gV,yV,vV,xV,bV,wV,SV,kV,EV,_V,CV,TV,IV,AV,jV,PV,RV,NV,OV,DV,MV,LV,FV,zV,UV,VV,qV,BV,HV,WV,KV,GV,QV,$V,YV,JV,XV,ZV,tq,eq,nq,rq,iq,oq,aq,sq,lq,cq,uq,dq,hq,pq,fq,mq;const gq=CC.div(fV||(fV=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0;\n\tmin-height: 100%;\n\tbackground-color: #fafafa;\n"]))),yq=CC.div(mV||(mV=Rk(["\n\tposition: relative;\n\theight: 150px;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-color: #e0e0e0;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-end;\n\tpadding: 50px 20px 20px;\n\tgap: 16px;\n\tflex-shrink: 0;\n\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: linear-gradient(\n\t\t\tto bottom,\n\t\t\trgba(0, 0, 0, 0.2),\n\t\t\trgba(0, 0, 0, 0.6)\n\t\t);\n\t\tpointer-events: none;\n\t}\n\n\t@media (max-width: 768px) {\n\t\theight: 198px;\n\t\tpadding: 36px 15px 15px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\theight: 144px;\n\t\tpadding: 27px 10px 10px;\n\t\tgap: 8px;\n\t}\n"]))),vq=CC.div(gV||(gV=Rk(["\n\tposition: relative;\n\tz-index: 2;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 16px;\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 8px;\n\t}\n"]))),xq=(CC.div(yV||(yV=Rk(["\n\tdisplay: flex;\n\tborder-bottom: 2px solid #e0e0e0;\n\tbackground-color: #ffffff;\n\tflex-shrink: 0;\n"]))),CC.button(vV||(vV=Rk(["\n\tbackground: none;\n\tborder: none;\n\tpadding: 16px 24px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcolor: ",";\n\tcursor: pointer;\n\tborder-bottom: 3px solid\n\t\t",";\n\ttransition: all 0.2s ease;\n\tmargin-bottom: -2px;\n\twhite-space: nowrap;\n\n\t&:hover {\n\t\tcolor: #22c55e;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 12px 16px;\n\t\tfont-size: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px 12px;\n\t\tfont-size: 11px;\n\t}\n"])),(t=>t.isActive?"#22c55e":"#666666"),(t=>t.isActive?"#22c55e":"transparent"))),bq=CC.div(xV||(xV=Rk(["\n\tflex: 1;\n\tpadding: 16px;\n\toverflow: visible;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 12px;\n\t}\n"]))),wq=CC.div(bV||(bV=Rk(["\n\tdisplay: flex;\n\tgap: 12px;\n\tmargin-bottom: 20px;\n\talign-items: center;\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 8px;\n\t}\n"]))),Sq=CC.button(wV||(wV=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 8px 12px;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\twhite-space: nowrap;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #9ca3af !important;\n\t\tcursor: not-allowed;\n\t\topacity: 0.6;\n\t}\n\n\t&.delete {\n\t\tbackground-color: #ef4444;\n\t\t&:hover:not(:disabled) {\n\t\t\tbackground-color: #dc2626;\n\t\t}\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 6px 10px;\n\t\tfont-size: 11px;\n\t}\n"]))),kq=CC.div(SV||(SV=Rk(["\n\twidth: 100%;\n\toverflow-x: auto;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 6px;\n\n\t@media (max-width: 768px) {\n\t\toverflow-x: auto;\n\t}\n"]))),Eq=CC.table(kV||(kV=Rk(["\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tbackground-color: white;\n\n\tthead {\n\t\tbackground-color: #f9fafb;\n\t\tborder-bottom: 2px solid #e5e7eb;\n\t}\n\n\tth {\n\t\tpadding: 12px 16px;\n\t\ttext-align: left;\n\t\tfont-size: 12px;\n\t\tfont-weight: 600;\n\t\tcolor: #374151;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.5px;\n\n\t\t@media (max-width: 768px) {\n\t\t\tpadding: 8px 12px;\n\t\t\tfont-size: 11px;\n\t\t}\n\n\t\t@media (max-width: 480px) {\n\t\t\tpadding: 6px 8px;\n\t\t\tfont-size: 10px;\n\t\t}\n\t}\n\n\ttd {\n\t\tpadding: 12px 16px;\n\t\tborder-bottom: 1px solid #f0f0f0;\n\t\tfont-size: 14px;\n\t\tcolor: #333;\n\n\t\t@media (max-width: 768px) {\n\t\t\tpadding: 8px 12px;\n\t\t\tfont-size: 12px;\n\t\t}\n\n\t\t@media (max-width: 480px) {\n\t\t\tpadding: 6px 8px;\n\t\t\tfont-size: 11px;\n\t\t}\n\t}\n\n\ttbody tr:hover {\n\t\tbackground-color: #f9fafb;\n\t}\n\n\ttbody tr:last-child td {\n\t\tborder-bottom: none;\n\t}\n"]))),_q=CC.h1(EV||(EV=Rk(["\n\tcolor: white;\n\tfont-size: 36px;\n\tfont-weight: 800;\n\tmargin: 0;\n\ttext-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n\tletter-spacing: 0.5px;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 28px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 22px;\n\t}\n"]))),Cq=CC.button(_V||(_V=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 12px 20px;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition:\n\t\tbackground-color 0.2s ease,\n\t\ttransform 0.1s ease;\n\tposition: relative;\n\tz-index: 2;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t&:active {\n\t\ttransform: scale(0.98);\n\t}\n"]))),Tq=CC.button(CV||(CV=Rk(["\n\tposition: absolute;\n\ttop: 20px;\n\tleft: 20px;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 16px;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\tz-index: 3;\n\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.7);\n\t}\n"]))),Iq=CC.div(TV||(TV=Rk(["\n\tpadding: 24px;\n\tborder-bottom: 1px solid #e0e0e0;\n\n\t&:last-child {\n\t\tborder-bottom: none;\n\t}\n"]))),Aq=CC.h2(IV||(IV=Rk(["\n\tfont-size: 20px;\n\tfont-weight: 600;\n\tcolor: #333;\n\tmargin: 0 0 20px 0;\n"]))),jq=CC.div(AV||(AV=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgap: 16px;\n\n\t@media (max-width: 1024px) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 12px;\n\t}\n"]))),Pq=CC.div(jV||(jV=Rk(["\n\tbackground-color: white;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 6px;\n\tpadding: 16px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t}\n"]))),Rq=CC.label(PV||(PV=Rk(["\n\tfont-size: 12px;\n\tfont-weight: 600;\n\tcolor: #999999;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n"]))),Nq=CC.span(RV||(RV=Rk(["\n\tfont-size: 14px;\n\tcolor: #333;\n\tword-break: break-word;\n"]))),Oq=CC.div(NV||(NV=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n\tgap: 16px;\n"]))),Dq=CC.div(OV||(OV=Rk(["\n\tbackground-color: white;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 6px;\n\tpadding: 16px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n"]))),Mq=CC.div(DV||(DV=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 4px;\n"]))),Lq=(CC.div(MV||(MV=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n"]))),CC.div(LV||(LV=Rk(["\n\tbackground-color: white;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 6px;\n\tpadding: 16px;\n\tdisplay: flex;\n\tgap: 16px;\n\talign-items: flex-start;\n"]))),CC.div(FV||(FV=Rk(["\n\tmin-width: 100px;\n\tfont-size: 12px;\n\tfont-weight: 600;\n\tcolor: #22c55e;\n\tbackground-color: rgba(34, 197, 94, 0.1);\n\tpadding: 6px 10px;\n\tborder-radius: 4px;\n"]))),CC.div(zV||(zV=Rk(["\n\tflex: 1;\n\tfont-size: 14px;\n\tcolor: #333;\n\tline-height: 1.5;\n"]))),CC.div(UV||(UV=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n\tgap: 16px;\n"]))),CC.div(VV||(VV=Rk(["\n\tbackground-color: white;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 6px;\n\tpadding: 16px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n\ttransition: box-shadow 0.2s ease;\n\n\t&:hover {\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\t}\n"]))),CC.span(qV||(qV=Rk(["\n\tdisplay: inline-block;\n\tpadding: 4px 10px;\n\tborder-radius: 4px;\n\tfont-size: 12px;\n\tfont-weight: 600;\n\twidth: fit-content;\n\tbackground-color: ",";\n\tcolor: ",";\n"])),(t=>{switch(t.status){case"Completed":return"rgba(34, 197, 94, 0.1)";case"In Progress":return"rgba(59, 130, 246, 0.1)";case"Pending":return"rgba(245, 158, 11, 0.1)";default:return"rgba(0, 0, 0, 0.05)"}}),(t=>{switch(t.status){case"Completed":return"#22c55e";case"In Progress":return"#10b981";case"Pending":return"#f59e0b";default:return"#666666"}}))),Fq=CC.div(BV||(BV=Rk(["\n\tbackground-color: white;\n\tborder: 1px dashed #e0e0e0;\n\tborder-radius: 6px;\n\tpadding: 40px 20px;\n\ttext-align: center;\n\tcolor: #999999;\n\n\tp {\n\t\tmargin: 0;\n\t\tfont-size: 14px;\n\t}\n\n\th2 {\n\t\tmargin: 0 0 12px 0;\n\t\tfont-size: 20px;\n\t\tfont-weight: 700;\n\t\tcolor: #1f2937;\n\t\tletter-spacing: 0.3px;\n\t}\n\n\tbutton {\n\t\tmargin-top: 16px;\n\t}\n"]))),zq=CC.div(HV||(HV=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 12px;\n\tflex: 1;\n"]))),Uq=CC.input(WV||(WV=Rk(["\n\tbackground: transparent;\n\tborder: none;\n\tcolor: white;\n\tpadding: 8px 12px;\n\tborder-radius: 4px;\n\tfont-size: 32px;\n\tfont-weight: 700;\n\twidth: 500px;\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t&::placeholder {\n\t\tcolor: rgba(255, 255, 255, 0.7);\n\t}\n"]))),Vq=CC.button(KV||(KV=Rk(["\n\tbackground: rgba(0, 0, 0, 0.3);\n\tborder: none;\n\tcolor: white;\n\twidth: 36px;\n\theight: 36px;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 18px;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t}\n"]))),qq=CC.div(GV||(GV=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tbackground-color: #ffffff;\n\tborder-bottom: 2px solid #e0e0e0;\n\tpadding: 0 24px;\n\tflex-shrink: 0;\n"]))),Bq=CC.div(QV||(QV=Rk(["\n\tdisplay: flex;\n\tgap: 0;\n"]))),Hq=(CC.button($V||($V=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 12px 16px;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\theight: 100%;\n\talign-self: center;\n\tmargin-left: auto;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #9ca3af;\n\t\tcursor: not-allowed;\n\t}\n"]))),CC.input.attrs({type:"checkbox"})(YV||(YV=Rk(["\n\twidth: 18px;\n\theight: 18px;\n\tcursor: pointer;\n\taccent-color: #22c55e;\n"])))),Wq=CC.div(JV||(JV=Rk(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 1000;\n"]))),Kq=CC.div(XV||(XV=Rk(["\n\tbackground-color: white;\n\tborder-radius: 8px;\n\tpadding: 32px;\n\tmax-width: 500px;\n\twidth: 90%;\n\tmax-height: 80vh;\n\toverflow-y: auto;\n\tbox-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);\n"]))),Gq=CC.h2(ZV||(ZV=Rk(["\n\tmargin: 0 0 24px 0;\n\tfont-size: 24px;\n\tfont-weight: 700;\n\tcolor: #333;\n"]))),Qq=CC.form(tq||(tq=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 16px;\n"]))),$q=CC.div(eq||(eq=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n"]))),Yq=CC.label(nq||(nq=Rk(["\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcolor: #666;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n"]))),Jq=CC.input(rq||(rq=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n"]))),Xq=CC.select(iq||(iq=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n"]))),Zq=CC.textarea(oq||(oq=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\tresize: vertical;\n\tmin-height: 100px;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n"]))),tB=CC.div(aq||(aq=Rk(["\n\tdisplay: flex;\n\tgap: 12px;\n\tjustify-content: flex-end;\n\tmargin-top: 24px;\n"]))),eB=CC.button(sq||(sq=Rk(["\n\tbackground-color: #f3f4f6;\n\tcolor: #333;\n\tborder: none;\n\tpadding: 10px 16px;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #e5e7eb;\n\t}\n"]))),nB=CC.button(lq||(lq=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 16px;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #9ca3af;\n\t\tcursor: not-allowed;\n\t}\n"]))),rB=CC.button(cq||(cq=Rk(["\n\tbackground: none;\n\tborder: none;\n\tcolor: #333333;\n\tfont-size: 24px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\tpadding: 8px 12px;\n\ttransition: color 0.2s ease;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&:hover {\n\t\tcolor: #22c55e;\n\t}\n\n\t&:disabled {\n\t\tcolor: #9ca3af;\n\t\tcursor: not-allowed;\n\t}\n"]))),iB=(CC.div(uq||(uq=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 4px;\n"]))),CC.div(dq||(dq=Rk(["\n\tfont-size: 14px;\n\tcolor: #333;\n\tword-break: break-word;\n\tpadding: 6px 0;\n"]))),CC.input(hq||(hq=Rk(["\n\tpadding: 8px 10px;\n\tborder: 1px solid #e0e0e0;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\tbackground-color: #ffffff;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n"])))),oB=CC.div(pq||(pq=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 20px;\n"]))),aB=(CC.div(fq||(fq=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 16px;\n"]))),CC.button(mq||(mq=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 8px 12px;\n\tborder-radius: 4px;\n\tfont-size: 12px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #9ca3af;\n\t\tcursor: not-allowed;\n\t}\n"]))),()=>{var e,n,r,i,o,a;const{slug:s}=XS(),l=YS(),c=A(),u=b((t=>t.user.currentUser)),{isFavorite:d,toggleFavorite:h}=xN(u.id),{data:p=[],isLoading:f}=ew(),m=b((t=>t.propertyData.groups)),{data:g=[]}=xw(),y=b((t=>t.team.groups.flatMap((t=>t.members))),((t,e)=>JSON.stringify(t)===JSON.stringify(e))),v=g.length>0?g:y,{data:x=[],isLoading:w}=aw(),[S]=lw(),[k]=sw(),[E]=iw(),[_,C]=(0,t.useState)("details"),[T,I]=(0,t.useState)(!1),[j,P]=(0,t.useState)(""),[R,N]=(0,t.useState)(!1),[O,D]=(0,t.useState)({}),[M,L]=(0,t.useState)(!1),[F,z]=(0,t.useState)(null),[U,V]=(0,t.useState)([]),[q,B]=(0,t.useState)(!1),[H,W]=(0,t.useState)(null),[K,G]=(0,t.useState)(!1),[Q,$]=(0,t.useState)(null),[Y,J]=(0,t.useState)(""),[X,Z]=(0,t.useState)(!1),[tt,et]=(0,t.useState)(null),[nt,rt]=(0,t.useState)(!1),[it,ot]=(0,t.useState)({title:"",dueDate:"",status:"Pending",notes:""}),[at,st]=(0,t.useState)(!1),[lt,ct]=(0,t.useState)({type:"",brand:"",model:"",installationDate:""}),[ut,dt]=(0,t.useState)(!1),[ht,pt]=(0,t.useState)(!1),[ft,mt]=(0,t.useState)(null),gt=(0,t.useMemo)((()=>p.find((t=>t.slug===s))),[s,p]),yt="Commercial"===(null===gt||void 0===gt?void 0:gt.propertyType)&&(null!==(e=null===gt||void 0===gt?void 0:gt.hasSuites)&&void 0!==e&&e||Array.isArray(null===gt||void 0===gt?void 0:gt.suites)&&gt.suites.length>0),vt=b((t=>t.maintenanceRequests.requests),((t,e)=>t.length===e.length&&t.every(((t,n)=>t===e[n])))),xt=(0,t.useMemo)((()=>gt?vt.filter((t=>t.propertyId===gt.id)):[]),[gt,vt]);(0,t.useEffect)((()=>{yt&&"tenants"===_&&C("suites")}),[yt,_]);const bt=(0,t.useMemo)((()=>gt?x.filter((t=>t.propertyId===gt.id||t.property===gt.title)):[]),[gt,x]),wt=()=>{I(!1)},St=(t,e)=>{D((n=>({...n,[t]:e})))},kt=t=>R&&t in O?O[t]:(null===gt||void 0===gt?void 0:gt[t])||"",Et=t=>{const{name:e,value:n}=t.target;ct((t=>({...t,[e]:n})))},_t=t=>{const{name:e,value:n}=t.target;ot((t=>({...t,[e]:n})))},Ct=t=>{var e;if(!gt||!t)return"-";const n=null===(e=gt.devices)||void 0===e?void 0:e.find((e=>e.id===t));return n?"".concat(n.type," - ").concat(n.brand):"-"};if(!gt)return(0,jk.jsx)(gq,{children:(0,jk.jsxs)(Fq,{children:[(0,jk.jsx)("h2",{children:"Property not found"}),(0,jk.jsx)("p",{children:"The property you're looking for doesn't exist."}),(0,jk.jsx)(Tq,{onClick:()=>l("/manage"),children:"\u2190 Back to Properties"})]})});const Tt=d(gt.id);return(0,jk.jsxs)(gq,{children:[(0,jk.jsxs)(yq,{style:{backgroundImage:"url(".concat(gt.image,")")},children:[(0,jk.jsx)(Tq,{onClick:()=>l("/manage"),children:"\u2190 Back"}),F&&(0,jk.jsx)("div",{style:{position:"relative",zIndex:10,color:"#dc2626",fontSize:"14px",padding:"8px 12px",backgroundColor:"#fee2e2",borderRadius:"4px",margin:"0 20px"},children:F}),M?(0,jk.jsx)("div",{style:{position:"relative",zIndex:10,textAlign:"center",color:"white",fontSize:"14px"},children:"Uploading image..."}):(0,jk.jsxs)("label",{htmlFor:"header-photo-upload",style:{position:"absolute",top:"20px",right:"20px",zIndex:10,background:"rgba(0, 0, 0, 0.6)",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},title:"Click to upload property image",children:["\ud83d\udcf7 Change Photo",(0,jk.jsx)("input",{id:"header-photo-upload",type:"file",accept:"image/*",onChange:async t=>{var e;const n=null===(e=t.target.files)||void 0===e?void 0:e[0];if(n&&gt){if(!PL(n))return void z("Invalid file. Please upload an image under 700KB.");z(null),L(!0);try{const t=await jL(n);await E({id:gt.id,updates:{image:t}}).unwrap(),L(!1)}catch(r){const t=r instanceof Error?r.message:"Failed to upload image";z(t),L(!1)}t.target.value=""}},style:{display:"none"}})]}),(0,jk.jsxs)(vq,{children:[(0,jk.jsxs)(zq,{children:[T?(0,jk.jsx)(Uq,{value:j,onChange:t=>P(t.target.value),onBlur:wt,onKeyDown:t=>{"Enter"===t.key&&wt(),"Escape"===t.key&&I(!1)},autoFocus:!0}):(0,jk.jsx)(_q,{children:gt.title}),(0,jk.jsx)(Vq,{onClick:()=>{I(!0),P((null===gt||void 0===gt?void 0:gt.title)||"")},title:"Edit property name",children:"\u270e"})]}),(0,jk.jsx)(Cq,{onClick:()=>h({id:gt.id,title:gt.title,slug:gt.slug}),style:{display:u&&!CN(u.role)?"block":"none"},children:Tt?"\u2605 Favorited":"\u2606 Add to Favorites"}),u&&CN(u.role)&&(0,jk.jsx)(Cq,{onClick:()=>dt(!0),style:{backgroundColor:"#f39c12"},children:"\ud83d\udd27 Request Maintenance"}),u&&gt&&m.some((t=>t.id===gt.groupId&&t.userId===u.id))&&(0,jk.jsx)(Cq,{onClick:()=>rt(!0),style:{backgroundColor:"#3498db"},children:"\ud83d\udc65 Share Property"})]})]}),(0,jk.jsx)(qq,{children:(0,jk.jsxs)(Bq,{children:[(0,jk.jsx)(xq,{isActive:"details"===_,onClick:()=>C("details"),children:"Details"}),(0,jk.jsx)(xq,{isActive:"tasks"===_,onClick:()=>C("tasks"),children:"Tasks"}),(0,jk.jsx)(xq,{isActive:"maintenance"===_,onClick:()=>C("maintenance"),children:"Maintenance History"}),"Multi-Family"!==(null===gt||void 0===gt?void 0:gt.propertyType)&&!yt&&(0,jk.jsx)(xq,{isActive:"tenants"===_,onClick:()=>C("tenants"),children:"Tenants"}),yt&&(0,jk.jsx)(xq,{isActive:"suites"===_,onClick:()=>C("suites"),children:"Suites"}),"Multi-Family"===(null===gt||void 0===gt?void 0:gt.propertyType)&&(0,jk.jsx)(xq,{isActive:"units"===_,onClick:()=>C("units"),children:"Units"}),u&&EN(u.role)&&(0,jk.jsxs)(xq,{isActive:"requests"===_,onClick:()=>C("requests"),children:["Requests"," ",xt.filter((t=>"Pending"===t.status)).length>0&&(0,jk.jsx)("span",{style:{backgroundColor:"#f39c12",color:"white",borderRadius:"10px",padding:"2px 8px",marginLeft:"6px",fontSize:"12px"},children:xt.filter((t=>"Pending"===t.status)).length})]})]})}),"details"===_&&(0,jk.jsxs)(bq,{children:[(0,jk.jsxs)(oB,{children:[(0,jk.jsx)(Aq,{children:"Property Information"}),(0,jk.jsx)(rB,{onClick:()=>N(!R),title:R?"Exit edit mode":"Enter edit mode",children:"\u270e"})]}),(0,jk.jsx)(Iq,{children:(0,jk.jsxs)(jq,{children:[(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Property Type"}),R?(0,jk.jsxs)(Xq,{value:kt("propertyType")||"Single Family",onChange:t=>St("propertyType",t.target.value),children:[(0,jk.jsx)("option",{value:"Single Family",children:"Single Family"}),(0,jk.jsx)("option",{value:"Multi-Family",children:"Multi-Family"}),(0,jk.jsx)("option",{value:"Commercial",children:"Commercial"})]}):(0,jk.jsx)(Nq,{children:(null===gt||void 0===gt?void 0:gt.propertyType)||"Single Family"})]}),(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Owner"}),R?(0,jk.jsx)(iB,{type:"text",value:kt("owner"),onChange:t=>St("owner",t.target.value)}):(0,jk.jsx)(Nq,{children:kt("owner")})]}),(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Address"}),R?(0,jk.jsx)(iB,{type:"text",value:kt("address"),onChange:t=>St("address",t.target.value)}):(0,jk.jsx)(Nq,{children:kt("address")})]}),"Multi-Family"===(null===gt||void 0===gt?void 0:gt.propertyType)&&(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Units"}),R?(0,jk.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:((null===gt||void 0===gt?void 0:gt.units)||[]).map((t=>(0,jk.jsx)("span",{style:{backgroundColor:"#dcfce7",color:"#16a34a",padding:"6px 12px",borderRadius:"6px",fontSize:"14px",border:"1px solid #bbf7d0"},children:t.name},t.name)))}):(0,jk.jsx)(Nq,{children:((null===gt||void 0===gt?void 0:gt.units)||[]).map((t=>t.name)).join(", ")})]}),"Commercial"===(null===gt||void 0===gt?void 0:gt.propertyType)&&(null===gt||void 0===gt?void 0:gt.hasSuites)&&(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Suites"}),(0,jk.jsx)(Nq,{children:((null===gt||void 0===gt?void 0:gt.suites)||[]).map((t=>t.name)).join(", ")})]}),"Commercial"!==(null===gt||void 0===gt?void 0:gt.propertyType)&&"Multi-Family"!==(null===gt||void 0===gt?void 0:gt.propertyType)&&(0,jk.jsxs)(jk.Fragment,{children:[(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Bedrooms"}),R?(0,jk.jsx)(iB,{type:"number",value:kt("bedrooms"),onChange:t=>St("bedrooms",t.target.value)}):(0,jk.jsx)(Nq,{children:kt("bedrooms")})]}),(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Bathrooms"}),R?(0,jk.jsx)(iB,{type:"number",value:kt("bathrooms"),onChange:t=>St("bathrooms",t.target.value)}):(0,jk.jsx)(Nq,{children:kt("bathrooms")})]})]}),(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Administrators"}),R?(0,jk.jsx)(iB,{type:"text",value:kt("administrators"),onChange:t=>St("administrators",t.target.value),placeholder:"Comma-separated emails"}):(0,jk.jsx)(Nq,{children:((null===gt||void 0===gt||null===(n=gt.administrators)||void 0===n?void 0:n.length)||0)>0?null===gt||void 0===gt||null===(r=gt.administrators)||void 0===r?void 0:r.join(", "):"None"})]}),(0,jk.jsxs)(Pq,{children:[(0,jk.jsx)(Rq,{children:"Viewers"}),R?(0,jk.jsx)(iB,{type:"text",value:kt("viewers"),onChange:t=>St("viewers",t.target.value),placeholder:"Comma-separated emails"}):(0,jk.jsx)(Nq,{children:((null===gt||void 0===gt||null===(i=gt.viewers)||void 0===i?void 0:i.length)||0)>0?null===gt||void 0===gt||null===(o=gt.viewers)||void 0===o?void 0:o.join(", "):"None"})]})]})}),gt.notes&&(0,jk.jsxs)(Iq,{children:[(0,jk.jsx)(Aq,{children:"Notes"}),(0,jk.jsx)(Pq,{style:{padding:"16px"},children:R?(0,jk.jsx)(iB,{type:"text",value:kt("notes"),onChange:t=>St("notes",t.target.value),placeholder:"Edit property notes",style:{minHeight:"80px",padding:"12px"},as:"textarea"}):(0,jk.jsx)("p",{style:{margin:0,lineHeight:"1.6",color:"#333"},children:kt("notes")})})]})]}),"suites"===_&&"Commercial"===(null===gt||void 0===gt?void 0:gt.propertyType)&&(null===gt||void 0===gt?void 0:gt.hasSuites)&&(0,jk.jsx)(bq,{children:(0,jk.jsxs)(Iq,{children:[(0,jk.jsx)(Aq,{children:"Commercial Suites"}),gt.suites&&gt.suites.length>0?(0,jk.jsx)(Oq,{children:gt.suites.map((t=>{var e,n;return(0,jk.jsxs)(Dq,{onClick:()=>l("/property/".concat(gt.slug,"/suite/").concat(encodeURIComponent(t.name))),style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb",cursor:"pointer",transition:"all 0.3s ease"},children:[(0,jk.jsx)(Rq,{children:t.name}),(0,jk.jsxs)(Mq,{children:[(0,jk.jsx)(Rq,{children:"Tenants"}),(0,jk.jsx)(Nq,{children:((null===(e=t.tenants)||void 0===e?void 0:e.length)||0)>0?t.tenants.map((t=>"".concat(t.firstName," ").concat(t.lastName))).join(", "):"None"})]}),(0,jk.jsxs)(Mq,{children:[(0,jk.jsx)(Rq,{children:"Devices"}),(0,jk.jsxs)(Nq,{children:[(null===(n=t.devices)||void 0===n?void 0:n.length)||0," device(s)"]})]})]},t.name)}))}):(0,jk.jsx)(Fq,{style:{marginTop:"12px"},children:(0,jk.jsx)("p",{children:"No suites available"})})]})}),"tasks"===_&&(0,jk.jsx)(bq,{children:(0,jk.jsxs)(Iq,{children:[(0,jk.jsx)(Aq,{children:"Associated Tasks"}),(0,jk.jsxs)(wq,{children:[(0,jk.jsx)(Sq,{onClick:()=>{W(null),ot({title:"",dueDate:"",status:"Pending",notes:""}),B(!0)},children:"+ Create Task"}),(0,jk.jsx)(Sq,{disabled:1!==U.length,onClick:()=>{if(1===U.length){const t=bt.find((t=>t.id===U[0]));t&&(W(t.id),ot({title:t.title,dueDate:t.dueDate,status:t.status,notes:""}),B(!0))}},children:"Edit Task"}),(0,jk.jsx)(Sq,{disabled:1!==U.length,onClick:()=>{1===U.length&&($(U[0]),J(""),G(!0))},children:"Assign To"}),(0,jk.jsx)(Sq,{disabled:0===U.length,onClick:()=>{1===U.length&&(et(U[0]),Z(!0))},style:{backgroundColor:"#22c55e"},children:"Mark as Complete"}),(0,jk.jsx)(Sq,{className:"delete",disabled:0===U.length,onClick:()=>{U.length>0&&(U.forEach((t=>{c(un(t))})),V([]))},children:"Delete Task"})]}),bt.length>0?(0,jk.jsx)(kq,{children:(0,jk.jsxs)(Eq,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{style:{width:"40px"},children:(0,jk.jsx)(Hq,{onChange:()=>{U.length===bt.length?V([]):V(bt.map((t=>t.id)))},checked:U.length===bt.length})}),(0,jk.jsx)("th",{children:"Task Name"}),(0,jk.jsx)("th",{children:"Assigned To"}),(0,jk.jsx)("th",{children:"Due Date"}),(0,jk.jsx)("th",{children:"Status"}),(0,jk.jsx)("th",{children:"Notes"})]})}),(0,jk.jsx)("tbody",{children:bt.map((t=>(0,jk.jsxs)("tr",{style:{backgroundColor:U.includes(t.id)?"#f0fdf4":"transparent"},children:[(0,jk.jsx)("td",{children:(0,jk.jsx)(Hq,{checked:U.includes(t.id),onChange:()=>{return e=t.id,void V((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]));var e}})}),(0,jk.jsx)("td",{children:(0,jk.jsx)("strong",{children:t.title})}),(0,jk.jsx)("td",{children:t.assignedTo?v.filter((t=>void 0!==t)).filter((e=>e.id===t.assignedTo)).map((t=>"".concat(t.firstName," ").concat(t.lastName))).join(""):"Unassigned"}),(0,jk.jsx)("td",{children:t.dueDate}),(0,jk.jsx)("td",{children:(0,jk.jsx)(Lq,{status:t.status,children:t.status})}),(0,jk.jsx)("td",{children:t.notes||"-"})]},t.id)))})]})}):(0,jk.jsx)(Fq,{children:(0,jk.jsx)("p",{children:"No tasks associated with this property"})})]})}),"maintenance"===_&&(0,jk.jsx)(bq,{children:(0,jk.jsxs)(Iq,{children:[(0,jk.jsx)(Aq,{children:"Maintenance History"}),gt.maintenanceHistory&&gt.maintenanceHistory.length>0?(0,jk.jsx)(kq,{children:(0,jk.jsxs)(Eq,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Date"}),(0,jk.jsx)("th",{children:"Task"}),(0,jk.jsx)("th",{children:"Device"}),(0,jk.jsx)("th",{children:"Assignee"}),(0,jk.jsx)("th",{children:"Files"})]})}),(0,jk.jsx)("tbody",{children:gt.maintenanceHistory.map(((t,e)=>(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("td",{children:t.date}),(0,jk.jsx)("td",{children:t.description}),(0,jk.jsx)("td",{children:Ct(t.deviceId)}),(0,jk.jsx)("td",{children:"-"}),(0,jk.jsx)("td",{children:"-"})]},e)))})]})}):(0,jk.jsx)(Fq,{children:(0,jk.jsx)("p",{children:"No maintenance history for this property"})})]})}),"tenants"===_&&!yt&&(0,jk.jsx)(bq,{children:(0,jk.jsxs)(Iq,{children:[(0,jk.jsx)(Aq,{children:"Property Tenants"}),gt.tenants&&gt.tenants.length>0?(0,jk.jsx)(kq,{children:(0,jk.jsxs)(Eq,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Name"}),(0,jk.jsx)("th",{children:"Unit"}),(0,jk.jsx)("th",{children:"Email"}),(0,jk.jsx)("th",{children:"Phone"}),(0,jk.jsx)("th",{children:"Lease Start"}),(0,jk.jsx)("th",{children:"Lease End"})]})}),(0,jk.jsx)("tbody",{children:gt.tenants.map((t=>(0,jk.jsxs)("tr",{children:[(0,jk.jsxs)("td",{children:[t.firstName," ",t.lastName]}),(0,jk.jsx)("td",{children:t.unit||"N/A"}),(0,jk.jsx)("td",{children:t.email}),(0,jk.jsx)("td",{children:t.phone}),(0,jk.jsx)("td",{children:t.leaseStart||"N/A"}),(0,jk.jsx)("td",{children:t.leaseEnd||"N/A"})]},t.id)))})]})}):(0,jk.jsx)(Fq,{children:(0,jk.jsx)("p",{children:"No tenants assigned to this property"})})]})}),"units"===_&&"Multi-Family"===(null===gt||void 0===gt?void 0:gt.propertyType)&&(0,jk.jsx)(bq,{children:(0,jk.jsxs)(Iq,{children:[(0,jk.jsx)(Aq,{children:"Units"}),null!==gt&&void 0!==gt&&gt.units&&gt.units.length>0?(0,jk.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"16px"},children:gt.units.map((t=>(0,jk.jsxs)("div",{onClick:()=>l("/property/".concat(gt.slug,"/unit/").concat(encodeURIComponent(t.name))),style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:t=>{t.currentTarget.style.borderColor="#22c55e",t.currentTarget.style.backgroundColor="#f0fdf4"},onMouseLeave:t=>{t.currentTarget.style.borderColor="#e5e7eb",t.currentTarget.style.backgroundColor="#f9fafb"},children:[(0,jk.jsx)("h3",{style:{margin:"0 0 8px 0",color:"#1f2937",fontSize:"16px",fontWeight:"600"},children:t.name}),(0,jk.jsx)("p",{style:{margin:"0",color:"#6b7280",fontSize:"14px"},children:"Click to view unit details and tenants"})]},t.name)))}):(0,jk.jsx)(Fq,{children:(0,jk.jsx)("p",{children:"No units added to this property"})})]})}),"suites"===_&&"Commercial"===(null===gt||void 0===gt?void 0:gt.propertyType)&&(null===gt||void 0===gt?void 0:gt.hasSuites)&&(0,jk.jsx)(bq,{children:(0,jk.jsxs)(Iq,{children:[(0,jk.jsx)(Aq,{children:"Suites"}),null!==gt&&void 0!==gt&&gt.suites&&gt.suites.length>0?(0,jk.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"16px"},children:gt.suites.map((t=>(0,jk.jsxs)("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb",cursor:"default"},onMouseEnter:t=>{t.currentTarget.style.borderColor="#22c55e",t.currentTarget.style.backgroundColor="#f0fdf4"},onMouseLeave:t=>{t.currentTarget.style.borderColor="#e5e7eb",t.currentTarget.style.backgroundColor="#f9fafb"},children:[(0,jk.jsx)("h3",{style:{margin:"0 0 8px 0",color:"#1f2937",fontSize:"16px",fontWeight:"600"},children:t.name}),(0,jk.jsxs)("p",{style:{margin:"0",color:"#6b7280",fontSize:"14px"},children:["Tenants: ",(t.tenants||[]).length]})]},t.name)))}):(0,jk.jsx)(Fq,{children:(0,jk.jsx)("p",{children:"No suites added to this property"})})]})}),"requests"===_&&(0,jk.jsx)(bq,{children:(0,jk.jsxs)(Iq,{children:[(0,jk.jsx)(Aq,{children:"Maintenance Requests"}),xt.length>0?(0,jk.jsx)(kq,{children:(0,jk.jsxs)(Eq,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Status"}),(0,jk.jsx)("th",{children:"Title"}),(0,jk.jsx)("th",{children:"Category"}),(0,jk.jsx)("th",{children:"Priority"}),(0,jk.jsx)("th",{children:"Submitted By"}),(0,jk.jsx)("th",{children:"Unit"}),(0,jk.jsx)("th",{children:"Date"}),(0,jk.jsx)("th",{children:"Action"})]})}),(0,jk.jsx)("tbody",{children:xt.map((t=>(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("td",{children:(0,jk.jsx)(Lq,{status:"Pending"===t.status?"Pending":"Converted to Task"===t.status?"Completed":"In Progress",children:t.status})}),(0,jk.jsxs)("td",{children:[(0,jk.jsx)("strong",{children:t.title}),(0,jk.jsx)("br",{}),(0,jk.jsxs)("small",{style:{color:"#666",fontSize:"12px"},children:[t.description.substring(0,80),t.description.length>80&&"..."]})]}),(0,jk.jsx)("td",{children:t.category}),(0,jk.jsx)("td",{children:(0,jk.jsx)("span",{style:{color:"Urgent"===t.priority?"#e74c3c":"High"===t.priority?"#f39c12":"Medium"===t.priority?"#3498db":"#95a5a6",fontWeight:"bold"},children:t.priority})}),(0,jk.jsx)("td",{children:t.submittedByName}),(0,jk.jsx)("td",{children:t.unit?(0,jk.jsx)("span",{style:{backgroundColor:"#e8f5e9",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",color:"#2e7d32"},children:t.unit}):(0,jk.jsx)("span",{style:{color:"#999",fontSize:"12px"},children:"N/A"})}),(0,jk.jsx)("td",{children:t.submittedAt?new Date(t.submittedAt).toLocaleDateString():"N/A"}),(0,jk.jsxs)("td",{children:["Pending"===t.status&&u&&EN(u.role)&&(0,jk.jsx)(Sq,{onClick:()=>(t=>{const e=vt.find((e=>e.id===t));e&&(mt(e),pt(!0))})(t.id),style:{padding:"6px 12px",fontSize:"13px",backgroundColor:"#27ae60"},children:"Convert to Task"}),"Converted to Task"===t.status&&(0,jk.jsxs)("span",{style:{color:"#27ae60",fontSize:"12px"},children:["\u2713 Task #",t.convertedToTaskId]})]})]},t.id)))})]})}):(0,jk.jsx)(Fq,{children:(0,jk.jsx)("p",{children:"No maintenance requests for this property"})})]})}),at&&(0,jk.jsx)(Wq,{onClick:t=>{t.target===t.currentTarget&&st(!1)},children:(0,jk.jsxs)(Kq,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsx)(Gq,{children:"Add New Household Device"}),(0,jk.jsxs)(Qq,{onSubmit:t=>{t.preventDefault(),console.log("Adding device:",lt),st(!1)},children:[(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Device Type *"}),(0,jk.jsx)(Jq,{type:"text",name:"type",value:lt.type,onChange:Et,placeholder:"e.g., HVAC System, Water Heater",required:!0})]}),(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Brand *"}),(0,jk.jsx)(Jq,{type:"text",name:"brand",value:lt.brand,onChange:Et,placeholder:"e.g., Carrier, Rheem",required:!0})]}),(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Model *"}),(0,jk.jsx)(Jq,{type:"text",name:"model",value:lt.model,onChange:Et,placeholder:"e.g., AquaEdge, Prestige",required:!0})]}),(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Installation Date *"}),(0,jk.jsx)(Jq,{type:"date",name:"installationDate",value:lt.installationDate,onChange:Et,required:!0})]}),(0,jk.jsxs)(tB,{children:[(0,jk.jsx)(eB,{type:"button",onClick:()=>st(!1),children:"Cancel"}),(0,jk.jsx)(nB,{type:"submit",children:"Add Device"})]})]})]})}),q&&(0,jk.jsx)(Wq,{onClick:t=>{t.target===t.currentTarget&&B(!1)},children:(0,jk.jsxs)(Kq,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsx)(Gq,{children:H?"Edit Task":"Create New Task"}),(0,jk.jsxs)(Qq,{onSubmit:async t=>{if(t.preventDefault(),gt&&it.title.trim())try{if(null!==H){x.find((t=>t.id===H))&&await S({id:H,updates:{title:it.title,dueDate:it.dueDate,status:it.status}}).unwrap()}else{const t={userId:u.id,title:it.title,dueDate:it.dueDate,status:it.status,property:gt.title,propertyId:gt.id};await k(t).unwrap()}B(!1),V([]),W(null),ot({title:"",dueDate:"",status:"Pending",notes:""})}catch(e){console.error("Error saving task:",e),alert("Failed to save task. Please try again.")}},children:[(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Task Name *"}),(0,jk.jsx)(Jq,{type:"text",name:"title",value:it.title,onChange:_t,placeholder:"Enter task name",required:!0})]}),(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Due Date *"}),(0,jk.jsx)(Jq,{type:"date",name:"dueDate",value:it.dueDate,onChange:_t,required:!0})]}),(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Status *"}),(0,jk.jsxs)(Xq,{name:"status",value:it.status,onChange:_t,children:[(0,jk.jsx)("option",{value:"Pending",children:"Pending"}),(0,jk.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,jk.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Notes"}),(0,jk.jsx)(Zq,{name:"notes",value:it.notes,onChange:_t,placeholder:"Add any notes about this task..."})]}),(0,jk.jsxs)(tB,{children:[(0,jk.jsx)(eB,{type:"button",onClick:()=>B(!1),children:"Cancel"}),(0,jk.jsx)(nB,{type:"submit",children:H?"Update Task":"Create Task"})]})]})]})}),K&&(0,jk.jsx)(Wq,{onClick:()=>G(!1),children:(0,jk.jsxs)(Kq,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsxs)(Gq,{children:[(0,jk.jsx)("h3",{children:"Assign Task to Team Member"}),(0,jk.jsx)("button",{onClick:()=>G(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"\xd7"})]}),(0,jk.jsxs)(Qq,{onSubmit:t=>{t.preventDefault(),(async()=>{if(Q&&Y)try{await S({id:Q,updates:{assignedTo:Y}}).unwrap(),G(!1),$(null),J(""),V([])}catch(t){console.error("Error assigning task:",t)}})()},children:[(0,jk.jsxs)($q,{children:[(0,jk.jsx)(Yq,{children:"Assign To"}),(0,jk.jsxs)(Xq,{value:Y,onChange:t=>J(t.target.value),children:[(0,jk.jsx)("option",{value:"",children:"Select a team member..."}),v.filter((t=>void 0!==t)).map((t=>(0,jk.jsxs)("option",{value:t.id,children:[t.firstName," ",t.lastName," (",t.title,")"]},t.id)))]})]}),(0,jk.jsxs)(tB,{children:[(0,jk.jsx)(eB,{type:"button",onClick:()=>G(!1),children:"Cancel"}),(0,jk.jsx)(nB,{type:"submit",disabled:!Y,children:"Assign"})]})]})]})}),X&&tt&&(0,jk.jsx)(fD,{taskId:tt,taskTitle:(null===(a=bt.find((t=>t.id===tt)))||void 0===a?void 0:a.title)||"",onClose:()=>Z(!1),onSuccess:()=>{Z(!1),et(null),V([])}}),(0,jk.jsx)(KF,{isOpen:ut,onClose:()=>dt(!1),onSubmit:t=>{var e,n;if(!gt)return;const r=null===(e=gt.tenants)||void 0===e?void 0:e.find((t=>t.email===u.email)),i={id:"req-".concat(Date.now()),title:t.title,description:t.description,priority:t.priority,category:t.category,status:"Pending",propertyId:gt.id,propertyTitle:gt.title,requestedBy:u.id,requestedByEmail:u.email,requestedDate:(new Date).toISOString(),submittedBy:u.id,submittedByName:"".concat(u.firstName," ").concat(u.lastName),submittedAt:(new Date).toISOString(),unit:null===r||void 0===r?void 0:r.unit,files:null===(n=t.files)||void 0===n?void 0:n.map((t=>({name:t.name,url:URL.createObjectURL(t),size:t.size,type:t.type})))};c(Tn(i)),alert("Maintenance request submitted successfully!")},propertyTitle:gt.title}),ft&&(0,jk.jsx)(Vz,{isOpen:ht,onClose:()=>{pt(!1),mt(null)},onConvert:async t=>{if(ft&&gt)try{const e={userId:u.id,title:t.title,dueDate:t.dueDate,status:t.status,property:gt.title,propertyId:gt.id,unitId:ft.unit,suiteId:ft.suite,notes:t.notes,assignedTo:t.assignee||void 0};await k(e).unwrap();c(jn(ft.id)),pt(!1),mt(null)}catch(e){console.error("Error converting request to task:",e),alert("Failed to convert request to task. Please try again.")}},request:ft,teamMembers:v.filter((t=>void 0!==t))}),gt&&(0,jk.jsx)(VU,{open:nt,onClose:()=>rt(!1),propertyId:gt.id,propertyTitle:gt.title,ownerId:u.id,ownerEmail:u.email})]})});var sB,lB,cB,uB;const dB=CC.div(sB||(sB=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\tpadding: 12px 0;\n\tmargin-bottom: 16px;\n\tfont-size: 14px;\n"]))),hB=CC.span(lB||(lB=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: #6b7280;\n\n\t&:hover {\n\t\tcolor: #22c55e;\n\t}\n"]))),pB=CC.button(cB||(cB=Rk(["\n\tbackground: none;\n\tborder: none;\n\tcolor: #22c55e;\n\tcursor: pointer;\n\tfont-size: 14px;\n\tpadding: 0;\n\ttext-decoration: none;\n\tfont-weight: 500;\n\n\t&:hover {\n\t\tcolor: #16a34a;\n\t\ttext-decoration: underline;\n\t}\n"]))),fB=CC.span(uB||(uB=Rk(["\n\tcolor: #d1d5db;\n\tmargin: 0 4px;\n"]))),mB=e=>{let{items:n}=e;const r=YS();return(0,jk.jsx)(dB,{children:n.map(((e,n)=>(0,jk.jsxs)(t.Fragment,{children:[n>0&&(0,jk.jsx)(fB,{children:"/"}),(0,jk.jsx)(hB,{children:e.path?(0,jk.jsx)(pB,{onClick:()=>{var t;(t=e.path)&&r(t)},children:e.label}):(0,jk.jsx)("span",{children:e.label})})]},n)))})};var gB,yB,vB,xB,bB,wB,SB,kB,EB,_B,CB,TB,IB,AB,jB,PB,RB,NB,OB,DB,MB,LB;const FB=CC.div(gB||(gB=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0;\n\theight: 100%;\n\toverflow-y: auto;\n\tbackground-color: #fafafa;\n"]))),zB=CC.div(yB||(yB=Rk(["\n\tposition: relative;\n\tbackground: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\n\tpadding: 30px 20px;\n\tcolor: white;\n\tflex-shrink: 0;\n"]))),UB=CC.div(vB||(vB=Rk(["\n\tmax-width: 1200px;\n\tmargin: 0 auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n"]))),VB=CC.div(xB||(xB=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 10px;\n\tflex-wrap: wrap;\n"]))),qB=CC.span(bB||(bB=Rk(["\n\tbackground: #ecfdf3;\n\tcolor: #16a34a;\n\tborder: 1px solid #bbf7d0;\n\tpadding: 6px 10px;\n\tborder-radius: 999px;\n\tfont-size: 12px;\n\tfont-weight: 700;\n\tletter-spacing: 0.5px;\n\ttext-transform: uppercase;\n"]))),BB=CC.button(wB||(wB=Rk(["\n\tbackground: rgba(255, 255, 255, 0.15);\n\tcolor: white;\n\tborder: 1px solid rgba(255, 255, 255, 0.3);\n\tborder-radius: 999px;\n\tpadding: 8px 12px;\n\tcursor: pointer;\n\tfont-weight: 600;\n\tfont-size: 13px;\n\tbackdrop-filter: blur(4px);\n\ttransition: all 0.2s ease;\n\n\t&:hover {\n\t\tbackground: rgba(255, 255, 255, 0.25);\n\t}\n"]))),HB=CC.h1(SB||(SB=Rk(["\n\tmargin: 0;\n\tfont-size: 28px;\n\tfont-weight: 600;\n\tcolor: white;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 22px;\n\t}\n"]))),WB=CC.p(kB||(kB=Rk(["\n\tmargin: 0;\n\tfont-size: 14px;\n\tcolor: rgba(255, 255, 255, 0.8);\n"]))),KB=CC.div(EB||(EB=Rk(["\n\tflex: 1;\n\tpadding: 20px;\n\tmax-width: 1200px;\n\twidth: 100%;\n\tmargin: 0 auto;\n"]))),GB=CC.div(_B||(_B=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0;\n\tbackground-color: white;\n\tborder-bottom: 2px solid #e5e7eb;\n\tborder-radius: 8px 8px 0 0;\n\tpadding: 0 16px;\n"]))),QB=CC.div(CB||(CB=Rk(["\n\tdisplay: flex;\n\tgap: 0;\n\tflex: 1;\n\toverflow-x: auto;\n\n\t&::-webkit-scrollbar {\n\t\theight: 4px;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground: #c0c0c0;\n\t\tborder-radius: 2px;\n\t}\n"]))),$B=CC.button(TB||(TB=Rk(["\n\tbackground: none;\n\tborder: none;\n\tpadding: 12px 16px;\n\tcursor: pointer;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcolor: ",";\n\tborder-bottom: ",";\n\twhite-space: nowrap;\n\ttransition: all 0.3s ease;\n\n\t&:hover {\n\t\tcolor: #22c55e;\n\t}\n"])),(t=>t.isActive?"#22c55e":"#6b7280"),(t=>t.isActive?"2px solid #22c55e":"none")),YB=CC.div(IB||(IB=Rk(["\n\tbackground-color: white;\n\tborder-radius: 0 0 8px 8px;\n\tpadding: 20px;\n\tmargin-top: -2px;\n"]))),JB=CC.div(AB||(AB=Rk(["\n\tpadding: 16px 0;\n"]))),XB=CC.h2(jB||(jB=Rk(["\n\tfont-size: 18px;\n\tfont-weight: 600;\n\tcolor: #1f2937;\n\tmargin: 0 0 16px 0;\n"]))),ZB=CC.div(PB||(PB=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n\tgap: 16px;\n\tmargin-bottom: 20px;\n"]))),tH=CC.div(RB||(RB=Rk(["\n\tbackground: #f9fafb;\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 8px;\n\tpadding: 16px;\n"]))),eH=CC.label(NB||(NB=Rk(["\n\tdisplay: block;\n\tfont-size: 12px;\n\tfont-weight: 600;\n\tcolor: #6b7280;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n\tmargin-bottom: 8px;\n"]))),nH=CC.p(OB||(OB=Rk(["\n\tmargin: 0;\n\tfont-size: 16px;\n\tcolor: #1f2937;\n\tfont-weight: 500;\n"]))),rH=CC.table(DB||(DB=Rk(["\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tmargin-top: 12px;\n\n\tthead {\n\t\tbackground: #f3f4f6;\n\t}\n\n\tth {\n\t\tpadding: 12px;\n\t\ttext-align: left;\n\t\tfont-weight: 600;\n\t\tfont-size: 13px;\n\t\tcolor: #374151;\n\t\tborder-bottom: 2px solid #e5e7eb;\n\t}\n\n\ttd {\n\t\tpadding: 12px;\n\t\tborder-bottom: 1px solid #e5e7eb;\n\t\tcolor: #4b5563;\n\t}\n\n\ttbody tr:hover {\n\t\tbackground: #f9fafb;\n\t}\n"]))),iH=CC.div(MB||(MB=Rk(["\n\toverflow-x: auto;\n"]))),oH=CC.div(LB||(LB=Rk(["\n\ttext-align: center;\n\tpadding: 40px 20px;\n\tcolor: #6b7280;\n\n\tp {\n\t\tmargin: 0;\n\t\tfont-size: 14px;\n\t}\n"]))),aH=()=>{const e=YS(),{slug:n,unitName:r}=XS(),[i,o]=t.useState("info"),a=b((t=>t.propertyData.groups)),s=b((t=>t.propertyData.tasks)),l=b((t=>t.maintenanceRequests.requests)),{property:c,unit:u}=(0,t.useMemo)((()=>{for(const e of a)for(const i of e.properties||[])if(i.slug===n&&"Multi-Family"===i.propertyType){var t;const e=null===(t=i.units)||void 0===t?void 0:t.find((t=>t.name===decodeURIComponent(r||"")));if(e)return{property:i,unit:e}}return{property:null,unit:null}}),[a,n,r]),d=(0,t.useMemo)((()=>c&&u?s.filter((t=>t.property===c.title&&t.unitId===u.id)):[]),[c,u,s]),h=(0,t.useMemo)((()=>c&&u?(c.taskHistory||[]).filter((t=>t.unit===u.name)):[]),[c,u]),p=(0,t.useMemo)((()=>c&&u?l.filter((t=>t.propertyId===c.id&&t.unit===u.name)):[]),[l,c,u]),f=t=>{var e;if(!c||!t)return"-";const n=null===(e=c.deviceIds)||void 0===e?void 0:e.find((e=>e===t));return n?"Device ".concat(n):"-"};return c&&u?(0,jk.jsxs)(FB,{children:[(0,jk.jsx)(zB,{children:(0,jk.jsxs)(UB,{children:[(0,jk.jsx)(mB,{items:[{label:c.title,path:"/property/".concat(c.slug)},{label:u.name}]}),(0,jk.jsxs)(VB,{children:[(0,jk.jsxs)(qB,{children:[c.slug," / ",u.name.replace(/\s+/g,"-").toLowerCase()]}),(0,jk.jsx)(BB,{onClick:()=>e("/property/".concat(c.slug)),children:"\u2190 Back to Property"})]}),(0,jk.jsx)(HB,{children:u.name}),(0,jk.jsx)(WB,{children:c.title})]})}),(0,jk.jsxs)(KB,{children:[(0,jk.jsx)(GB,{children:(0,jk.jsxs)(QB,{children:[(0,jk.jsx)($B,{isActive:"info"===i,onClick:()=>o("info"),children:"Unit Info"}),(0,jk.jsxs)($B,{isActive:"occupants"===i,onClick:()=>o("occupants"),children:["Occupants (",(u.occupants||[]).length,")"]}),(0,jk.jsxs)($B,{isActive:"devices"===i,onClick:()=>o("devices"),children:["Devices (",(u.deviceIds||[]).length,")"]}),(0,jk.jsxs)($B,{isActive:"tasks"===i,onClick:()=>o("tasks"),children:["Tasks (",d.length,")"]}),(0,jk.jsxs)($B,{isActive:"history"===i,onClick:()=>o("history"),children:["Maintenance History (",h.length,")"]}),(0,jk.jsxs)($B,{isActive:"requests"===i,onClick:()=>o("requests"),children:["Requests (",p.length,")"]})]})}),"info"===i&&(0,jk.jsx)(YB,{children:(0,jk.jsxs)(JB,{children:[(0,jk.jsx)(XB,{children:"Unit Information"}),(0,jk.jsxs)(ZB,{children:[(0,jk.jsxs)(tH,{children:[(0,jk.jsx)(eH,{children:"Unit Name"}),(0,jk.jsx)(nH,{children:u.name})]}),(0,jk.jsxs)(tH,{children:[(0,jk.jsx)(eH,{children:"Property"}),(0,jk.jsx)(nH,{children:c.title})]}),(0,jk.jsxs)(tH,{children:[(0,jk.jsx)(eH,{children:"Property Address"}),(0,jk.jsx)(nH,{children:c.address||"N/A"})]})]}),u.notes&&(0,jk.jsxs)(tH,{children:[(0,jk.jsx)(eH,{children:"Notes"}),(0,jk.jsx)(nH,{children:u.notes})]})]})}),"occupants"===i&&(0,jk.jsx)(YB,{children:(0,jk.jsxs)(JB,{children:[(0,jk.jsx)(XB,{children:"Unit Occupants"}),u.occupants&&u.occupants.length>0?(0,jk.jsx)(iH,{children:(0,jk.jsxs)(rH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Name"}),(0,jk.jsx)("th",{children:"Email"}),(0,jk.jsx)("th",{children:"Phone"}),(0,jk.jsx)("th",{children:"Lease Start"}),(0,jk.jsx)("th",{children:"Lease End"})]})}),(0,jk.jsx)("tbody",{children:u.occupants.map((t=>(0,jk.jsxs)("tr",{children:[(0,jk.jsxs)("td",{children:[t.firstName," ",t.lastName]}),(0,jk.jsx)("td",{children:t.email}),(0,jk.jsx)("td",{children:t.phone}),(0,jk.jsx)("td",{children:t.leaseStart||"N/A"}),(0,jk.jsx)("td",{children:t.leaseEnd||"N/A"})]},t.id)))})]})}):(0,jk.jsx)(oH,{children:(0,jk.jsx)("p",{children:"No occupants assigned to this unit"})})]})}),"devices"===i&&(0,jk.jsx)(YB,{children:(0,jk.jsxs)(JB,{children:[(0,jk.jsx)(XB,{children:"Unit Devices"}),u.deviceIds&&u.deviceIds.length>0?(0,jk.jsx)(iH,{children:(0,jk.jsxs)(rH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsx)("tr",{children:(0,jk.jsx)("th",{children:"Device ID"})})}),(0,jk.jsx)("tbody",{children:u.deviceIds.map((t=>(0,jk.jsx)("tr",{children:(0,jk.jsx)("td",{children:t})},t)))})]})}):(0,jk.jsx)(oH,{children:(0,jk.jsx)("p",{children:"No devices assigned to this unit"})})]})}),"tasks"===i&&(0,jk.jsx)(YB,{children:(0,jk.jsxs)(JB,{children:[(0,jk.jsx)(XB,{children:"Unit Tasks"}),d.length>0?(0,jk.jsx)(iH,{children:(0,jk.jsxs)(rH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Task"}),(0,jk.jsx)("th",{children:"Assignee"}),(0,jk.jsx)("th",{children:"Due Date"}),(0,jk.jsx)("th",{children:"Status"}),(0,jk.jsx)("th",{children:"Notes"})]})}),(0,jk.jsx)("tbody",{children:d.map((t=>(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("td",{children:(0,jk.jsx)("strong",{children:t.title})}),(0,jk.jsx)("td",{children:t.assignedTo||"Unassigned"}),(0,jk.jsx)("td",{children:t.dueDate}),(0,jk.jsx)("td",{children:t.status}),(0,jk.jsx)("td",{children:t.notes||"-"})]},t.id)))})]})}):(0,jk.jsx)(oH,{children:(0,jk.jsx)("p",{children:"No tasks assigned to this unit"})})]})}),"history"===i&&(0,jk.jsx)(YB,{children:(0,jk.jsxs)(JB,{children:[(0,jk.jsx)(XB,{children:"Unit Maintenance History"}),h.length>0?(0,jk.jsx)(iH,{children:(0,jk.jsxs)(rH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Date"}),(0,jk.jsx)("th",{children:"Description"}),(0,jk.jsx)("th",{children:"Device"})]})}),(0,jk.jsx)("tbody",{children:h.map(((t,e)=>(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("td",{children:t.date}),(0,jk.jsx)("td",{children:t.description}),(0,jk.jsx)("td",{children:f(t.deviceId)})]},"".concat(t.date,"-").concat(e))))})]})}):(0,jk.jsx)(oH,{children:(0,jk.jsx)("p",{children:"No maintenance history for this unit"})})]})}),"requests"===i&&(0,jk.jsx)(YB,{children:(0,jk.jsxs)(JB,{children:[(0,jk.jsx)(XB,{children:"Unit Maintenance Requests"}),p.length>0?(0,jk.jsx)(iH,{children:(0,jk.jsxs)(rH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Status"}),(0,jk.jsx)("th",{children:"Title"}),(0,jk.jsx)("th",{children:"Priority"}),(0,jk.jsx)("th",{children:"Submitted By"}),(0,jk.jsx)("th",{children:"Date"})]})}),(0,jk.jsx)("tbody",{children:p.map((t=>(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("td",{children:t.status}),(0,jk.jsx)("td",{children:(0,jk.jsx)("strong",{children:t.title})}),(0,jk.jsx)("td",{children:t.priority}),(0,jk.jsx)("td",{children:t.submittedByName}),(0,jk.jsx)("td",{children:t.submittedAt?new Date(t.submittedAt).toLocaleDateString():"N/A"})]},t.id)))})]})}):(0,jk.jsx)(oH,{children:(0,jk.jsx)("p",{children:"No maintenance requests for this unit"})})]})})]})]}):(0,jk.jsx)(FB,{children:(0,jk.jsx)(KB,{children:(0,jk.jsx)(oH,{children:(0,jk.jsx)("p",{children:"Unit not found"})})})})};var sH,lH,cH,uH,dH,hH,pH,fH,mH,gH,yH,vH,xH,bH,wH,SH,kH,EH,_H,CH,TH;const IH=CC.div(sH||(sH=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0;\n\tmin-height: 100%;\n\tbackground-color: #fafafa;\n"]))),AH=CC.div(lH||(lH=Rk(["\n\tposition: relative;\n\tbackground: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\n\tpadding: 22px 18px;\n\tcolor: white;\n\tflex-shrink: 0;\n"]))),jH=CC.div(cH||(cH=Rk(["\n\tmax-width: 1200px;\n\tmargin: 0 auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 10px;\n"]))),PH=CC.div(uH||(uH=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 10px;\n\tflex-wrap: wrap;\n"]))),RH=CC.button(dH||(dH=Rk(["\n\tbackground: rgba(255, 255, 255, 0.15);\n\tcolor: white;\n\tborder: 1px solid rgba(255, 255, 255, 0.3);\n\tborder-radius: 999px;\n\tpadding: 8px 12px;\n\tcursor: pointer;\n\tfont-weight: 600;\n\tfont-size: 13px;\n\tbackdrop-filter: blur(4px);\n\ttransition: all 0.2s ease;\n\n\t&:hover {\n\t\tbackground: rgba(255, 255, 255, 0.25);\n\t}\n"]))),NH=CC.h1(hH||(hH=Rk(["\n\tmargin: 0;\n\tfont-size: 26px;\n\tfont-weight: 600;\n\tcolor: white;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 21px;\n\t}\n"]))),OH=CC.p(pH||(pH=Rk(["\n\tmargin: 0;\n\tfont-size: 14px;\n\tcolor: rgba(255, 255, 255, 0.8);\n"]))),DH=CC.div(fH||(fH=Rk(["\n\tflex: 1;\n\tpadding: 16px;\n\tmax-width: 1200px;\n\twidth: 100%;\n\tmargin: 0 auto;\n"]))),MH=CC.div(mH||(mH=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0;\n\tbackground-color: white;\n\tborder-bottom: 2px solid #e5e7eb;\n\tborder-radius: 8px 8px 0 0;\n\tpadding: 0 16px;\n"]))),LH=CC.div(gH||(gH=Rk(["\n\tdisplay: flex;\n\tgap: 0;\n\tflex: 1;\n\toverflow-x: auto;\n\n\t&::-webkit-scrollbar {\n\t\theight: 4px;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground: #c0c0c0;\n\t\tborder-radius: 2px;\n\t}\n"]))),FH=CC.button(yH||(yH=Rk(["\n\tbackground: none;\n\tborder: none;\n\tpadding: 12px 16px;\n\tcursor: pointer;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcolor: ",";\n\tborder-bottom: ",";\n\twhite-space: nowrap;\n\ttransition: all 0.3s ease;\n\n\t&:hover {\n\t\tcolor: #22c55e;\n\t}\n"])),(t=>t.isActive?"#22c55e":"#6b7280"),(t=>t.isActive?"2px solid #22c55e":"none")),zH=CC.div(vH||(vH=Rk(["\n\tbackground-color: white;\n\tborder-radius: 0 0 8px 8px;\n\tpadding: 16px;\n\tmargin-top: -2px;\n"]))),UH=CC.div(xH||(xH=Rk(["\n\tpadding: 12px 0;\n"]))),VH=CC.h2(bH||(bH=Rk(["\n\tfont-size: 17px;\n\tfont-weight: 600;\n\tcolor: #1f2937;\n\tmargin: 0 0 12px 0;\n"]))),qH=CC.div(wH||(wH=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n\tgap: 12px;\n\tmargin-bottom: 16px;\n"]))),BH=CC.div(SH||(SH=Rk(["\n\tbackground: #f9fafb;\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 8px;\n\tpadding: 12px;\n"]))),HH=CC.label(kH||(kH=Rk(["\n\tdisplay: block;\n\tfont-size: 12px;\n\tfont-weight: 600;\n\tcolor: #6b7280;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n\tmargin-bottom: 8px;\n"]))),WH=CC.p(EH||(EH=Rk(["\n\tmargin: 0;\n\tfont-size: 16px;\n\tcolor: #1f2937;\n\tfont-weight: 500;\n"]))),KH=CC.table(_H||(_H=Rk(["\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tmargin-top: 12px;\n\n\tthead {\n\t\tbackground: #f3f4f6;\n\t}\n\n\tth {\n\t\tpadding: 12px;\n\t\ttext-align: left;\n\t\tfont-weight: 600;\n\t\tfont-size: 13px;\n\t\tcolor: #374151;\n\t\tborder-bottom: 2px solid #e5e7eb;\n\t}\n\n\ttd {\n\t\tpadding: 12px;\n\t\tborder-bottom: 1px solid #e5e7eb;\n\t\tcolor: #4b5563;\n\t}\n\n\ttbody tr:hover {\n\t\tbackground: #f9fafb;\n\t}\n"]))),GH=CC.div(CH||(CH=Rk(["\n\toverflow-x: auto;\n"]))),QH=CC.div(TH||(TH=Rk(["\n\ttext-align: center;\n\tpadding: 40px 20px;\n\tcolor: #6b7280;\n\n\tp {\n\t\tmargin: 0;\n\t\tfont-size: 14px;\n\t}\n"]))),$H=()=>{const e=YS(),{slug:n,suiteName:r}=XS(),[i,o]=t.useState("info"),a=b((t=>t.propertyData.groups)),s=b((t=>t.propertyData.tasks)),l=b((t=>t.maintenanceRequests.requests)),{property:c,suite:u}=(0,t.useMemo)((()=>{for(const e of a)for(const i of e.properties||[])if(i.slug===n&&"Commercial"===i.propertyType){var t;const e=null===(t=i.suites)||void 0===t?void 0:t.find((t=>t.name===decodeURIComponent(r||"")));if(e)return{property:i,suite:e}}return{property:null,suite:null}}),[a,n,r]),d=(0,t.useMemo)((()=>c&&u?s.filter((t=>t.property===c.title&&t.suiteId===u.id)):[]),[c,u,s]),h=(0,t.useMemo)((()=>c&&u?(c.taskHistory||[]).filter((t=>t.suite===u.name)):[]),[c,u]),p=(0,t.useMemo)((()=>c&&u?l.filter((t=>t.propertyId===c.id&&t.suite===u.name)):[]),[l,c,u]),f=t=>{var e;if(!c||!t)return"-";const n=null===(e=c.deviceIds)||void 0===e?void 0:e.find((e=>e===t));return n?"Device ".concat(n):"-"};return c&&u?(0,jk.jsxs)(IH,{children:[(0,jk.jsx)(AH,{children:(0,jk.jsxs)(jH,{children:[(0,jk.jsx)(mB,{items:[{label:c.title,path:"/property/".concat(c.slug)},{label:u.name}]}),(0,jk.jsx)(PH,{children:(0,jk.jsx)(RH,{onClick:()=>e("/property/".concat(c.slug)),children:"\u2190 Back to Property"})}),(0,jk.jsx)(NH,{children:u.name}),(0,jk.jsx)(OH,{children:c.title})]})}),(0,jk.jsxs)(DH,{children:[(0,jk.jsx)(MH,{children:(0,jk.jsxs)(LH,{children:[(0,jk.jsx)(FH,{isActive:"info"===i,onClick:()=>o("info"),children:"Suite Info"}),(0,jk.jsxs)(FH,{isActive:"occupants"===i,onClick:()=>o("occupants"),children:["Occupants"," ",(u.occupants||[]).length?"(".concat((u.occupants||[]).length,")"):""]}),(0,jk.jsxs)(FH,{isActive:"devices"===i,onClick:()=>o("devices"),children:["Devices"," ",(u.deviceIds||[]).length?"(".concat((u.deviceIds||[]).length,")"):""]}),(0,jk.jsxs)(FH,{isActive:"tasks"===i,onClick:()=>o("tasks"),children:["Tasks (",d.length,")"]}),(0,jk.jsxs)(FH,{isActive:"history"===i,onClick:()=>o("history"),children:["Maintenance History (",h.length,")"]}),(0,jk.jsxs)(FH,{isActive:"requests"===i,onClick:()=>o("requests"),children:["Requests (",p.length,")"]})]})}),"info"===i&&(0,jk.jsx)(zH,{children:(0,jk.jsxs)(UH,{children:[(0,jk.jsx)(VH,{children:"Suite Information"}),(0,jk.jsxs)(qH,{children:[(0,jk.jsxs)(BH,{children:[(0,jk.jsx)(HH,{children:"Suite Name"}),(0,jk.jsx)(WH,{children:u.name})]}),(0,jk.jsxs)(BH,{children:[(0,jk.jsx)(HH,{children:"Property"}),(0,jk.jsx)(WH,{children:c.title})]}),(0,jk.jsxs)(BH,{children:[(0,jk.jsx)(HH,{children:"Property Address"}),(0,jk.jsx)(WH,{children:c.address||"N/A"})]})]}),u.notes&&(0,jk.jsxs)(BH,{children:[(0,jk.jsx)(HH,{children:"Notes"}),(0,jk.jsx)(WH,{children:u.notes})]})]})}),"occupants"===i&&(0,jk.jsx)(zH,{children:(0,jk.jsxs)(UH,{children:[(0,jk.jsx)(VH,{children:"Suite Occupants"}),u.occupants&&u.occupants.length>0?(0,jk.jsx)(GH,{children:(0,jk.jsxs)(KH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Name"}),(0,jk.jsx)("th",{children:"Email"}),(0,jk.jsx)("th",{children:"Phone"}),(0,jk.jsx)("th",{children:"Lease Start"}),(0,jk.jsx)("th",{children:"Lease End"})]})}),(0,jk.jsx)("tbody",{children:u.occupants.map((t=>(0,jk.jsxs)("tr",{children:[(0,jk.jsxs)("td",{children:[t.firstName," ",t.lastName]}),(0,jk.jsx)("td",{children:t.email}),(0,jk.jsx)("td",{children:t.phone}),(0,jk.jsx)("td",{children:t.leaseStart||"N/A"}),(0,jk.jsx)("td",{children:t.leaseEnd||"N/A"})]},t.id)))})]})}):(0,jk.jsx)(QH,{children:(0,jk.jsx)("p",{children:"No tenants assigned to this suite"})})]})}),"devices"===i&&(0,jk.jsx)(zH,{children:(0,jk.jsxs)(UH,{children:[(0,jk.jsx)(VH,{children:"Suite Devices"}),u.deviceIds&&u.deviceIds.length>0?(0,jk.jsx)(GH,{children:(0,jk.jsxs)(KH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsx)("tr",{children:(0,jk.jsx)("th",{children:"Device ID"})})}),(0,jk.jsx)("tbody",{children:u.deviceIds.map((t=>(0,jk.jsx)("tr",{children:(0,jk.jsx)("td",{children:t})},t)))})]})}):(0,jk.jsx)(QH,{children:(0,jk.jsx)("p",{children:"No devices assigned to this suite"})})]})}),"tasks"===i&&(0,jk.jsx)(zH,{children:(0,jk.jsxs)(UH,{children:[(0,jk.jsx)(VH,{children:"Suite Tasks"}),d.length>0?(0,jk.jsx)(GH,{children:(0,jk.jsxs)(KH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Task"}),(0,jk.jsx)("th",{children:"Assignee"}),(0,jk.jsx)("th",{children:"Due Date"}),(0,jk.jsx)("th",{children:"Status"}),(0,jk.jsx)("th",{children:"Notes"})]})}),(0,jk.jsx)("tbody",{children:d.map((t=>(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("td",{children:(0,jk.jsx)("strong",{children:t.title})}),(0,jk.jsx)("td",{children:t.completedBy||"Unassigned"}),(0,jk.jsx)("td",{children:t.dueDate}),(0,jk.jsx)("td",{children:t.status}),(0,jk.jsx)("td",{children:t.notes||"-"})]},t.id)))})]})}):(0,jk.jsx)(QH,{children:(0,jk.jsx)("p",{children:"No tasks assigned to this suite"})})]})}),"history"===i&&(0,jk.jsx)(zH,{children:(0,jk.jsxs)(UH,{children:[(0,jk.jsx)(VH,{children:"Suite Maintenance History"}),h.length>0?(0,jk.jsx)(GH,{children:(0,jk.jsxs)(KH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Date"}),(0,jk.jsx)("th",{children:"Description"}),(0,jk.jsx)("th",{children:"Device"})]})}),(0,jk.jsx)("tbody",{children:h.map(((t,e)=>(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("td",{children:t.date}),(0,jk.jsx)("td",{children:t.description}),(0,jk.jsx)("td",{children:f(t.deviceId)})]},"".concat(t.date,"-").concat(e))))})]})}):(0,jk.jsx)(QH,{children:(0,jk.jsx)("p",{children:"No maintenance history for this suite"})})]})}),"requests"===i&&(0,jk.jsx)(zH,{children:(0,jk.jsxs)(UH,{children:[(0,jk.jsx)(VH,{children:"Suite Maintenance Requests"}),p.length>0?(0,jk.jsx)(GH,{children:(0,jk.jsxs)(KH,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("th",{children:"Status"}),(0,jk.jsx)("th",{children:"Title"}),(0,jk.jsx)("th",{children:"Priority"}),(0,jk.jsx)("th",{children:"Submitted By"}),(0,jk.jsx)("th",{children:"Date"})]})}),(0,jk.jsx)("tbody",{children:p.map((t=>(0,jk.jsxs)("tr",{children:[(0,jk.jsx)("td",{children:t.status}),(0,jk.jsx)("td",{children:(0,jk.jsx)("strong",{children:t.title})}),(0,jk.jsx)("td",{children:t.priority}),(0,jk.jsx)("td",{children:t.submittedByName}),(0,jk.jsx)("td",{children:t.submittedAt?new Date(t.submittedAt).toLocaleDateString():"N/A"})]},t.id)))})]})}):(0,jk.jsx)(QH,{children:(0,jk.jsx)("p",{children:"No maintenance requests for this suite"})})]})})]})]}):(0,jk.jsx)(IH,{children:(0,jk.jsx)(DH,{children:(0,jk.jsx)(QH,{children:(0,jk.jsx)("p",{children:"Suite not found"})})})})};var YH,JH,XH,ZH,tW,eW,nW,rW,iW,oW,aW,sW,lW,cW,uW,dW,hW,pW,fW,mW,gW,yW,vW,xW,bW,wW,SW,kW,EW,_W,CW,TW,IW,AW,jW,PW,RW,NW,OW,DW,MW,LW,FW,zW,UW,VW,qW,BW,HW,WW,KW,GW,QW;const $W=CC.div(YH||(YH=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 30px;\n\tpadding: 30px;\n\tbackground-color: #fafafa;\n\tmin-height: 100%;\n\n\t@media (max-width: 768px) {\n\t\tgap: 20px;\n\t\tpadding: 20px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgap: 15px;\n\t\tpadding: 15px;\n\t}\n"]))),YW=(CC.div(JH||(JH=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 20px;\n\tpadding-bottom: 20px;\n\tborder-bottom: 2px solid #e5e7eb;\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 10px;\n\t\tpadding-bottom: 15px;\n\t}\n"]))),CC.h1(XH||(XH=Rk(["\n\tfont-size: 32px;\n\tfont-weight: 800;\n\tcolor: #1f2937;\n\tmargin: 0;\n\tletter-spacing: 0.5px;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 28px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 24px;\n\t}\n"]))),CC.button(ZH||(ZH=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 16px; /* match Properties buttons */\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\twhite-space: nowrap;\n\n\t&:hover {\n\t\tbackground-color: #16a34a;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: #d1d5db;\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 10px 16px;\n\t\tfont-size: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 11px;\n\t\twidth: 100%;\n\t}\n"])))),JW=CC.div(tW||(tW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 15px;\n\n\t@media (max-width: 480px) {\n\t\tgap: 12px;\n\t}\n"]))),XW=CC.div(eW||(eW=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 16px;\n\tpadding: 16px 20px;\n\tbackground-color: white;\n\tborder-radius: 8px;\n\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\tflex-wrap: wrap;\n\tmargin-bottom: 8px; /* breathing room before tiles, match Properties */\n\n\t@media (max-width: 768px) {\n\t\tpadding: 12px 16px;\n\t\tgap: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t}\n"]))),ZW=CC.h2(nW||(nW=Rk(["\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tcolor: #1f2937;\n\tmargin: 0;\n\tflex: 1;\n\tletter-spacing: 0.3px;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 18px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 16px;\n\t}\n"]))),tK=CC.input(rW||(rW=Rk(["\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tcolor: #1f2937;\n\tmargin: 0;\n\tflex: 1;\n\tletter-spacing: 0.3px;\n\tborder: 2px solid #10b981;\n\tborder-radius: 6px;\n\tpadding: 6px 12px;\n\tbackground-color: #f0fdf4;\n\tfont-family: inherit;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #059669;\n\t\tbox-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);\n\t}\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 18px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 16px;\n\t}\n"]))),eK=CC.div(iW||(iW=Rk(["\n\tdisplay: flex;\n\tgap: 8px;\n\talign-items: center;\n"]))),nK=CC.button(oW||(oW=Rk(["\n\tbackground: none;\n\tborder: none;\n\tcolor: #6b7280;\n\tfont-size: 18px;\n\tcursor: pointer;\n\tpadding: 4px 8px; /* Keep flat style, but smaller padding aligns with Properties' compact feel */\n\ttransition: color 0.2s ease;\n\n\t&:hover {\n\t\tcolor: #22c55e;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 16px;\n\t\tpadding: 2px 4px;\n\t}\n"]))),rK=CC.div(aW||(aW=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\tgap: 20px;\n\tpadding: 0 0 10px 0;\n\n\t@media (max-width: 1024px) {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(130px, 1fr));\n\t\tgap: 16px;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\tgap: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n\t\tgap: 10px;\n\t\tpadding: 0;\n\t}\n"]))),iK=CC.div(sW||(sW=Rk(["\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 12px;\n\tpadding: 16px;\n\tbackground-color: white;\n\tborder-radius: 8px;\n\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\tcursor: pointer;\n\ttransition:\n\t\tbox-shadow 0.2s ease,\n\t\ttransform 0.2s ease;\n\n\t&:hover {\n\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\t\ttransform: translateY(-2px);\n\t}\n\n\t@media (max-width: 768px) {\n\t\tpadding: 12px;\n\t\tgap: 8px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t\tgap: 6px;\n\t}\n"]))),oK=CC.div(lW||(lW=Rk(["\n\tposition: absolute;\n\ttop: 8px;\n\tright: 8px;\n\tdisplay: flex;\n\tgap: 4px;\n\topacity: 0;\n\ttransition: opacity 0.2s ease;\n\n\t",":hover & {\n\t\topacity: 1;\n\t}\n"])),iK),aK=CC.button(cW||(cW=Rk(["\n\tbackground-color: rgba(255, 255, 255, 0.95);\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 4px;\n\twidth: 28px;\n\theight: 28px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\tfont-size: 14px;\n\n\t&:hover {\n\t\tbackground-color: #f3f4f6;\n\t\ttransform: scale(1.1);\n\t}\n\n\t&.delete:hover {\n\t\tbackground-color: #fee2e2;\n\t\tcolor: #dc2626;\n\t\tborder-color: #fecaca;\n\t}\n"]))),sK=(CC.img(uW||(uW=Rk(["\n\twidth: 100px;\n\theight: 100px;\n\tborder-radius: 50%;\n\tobject-fit: cover;\n\tbackground-color: #e5e7eb;\n\n\t@media (max-width: 768px) {\n\t\twidth: 80px;\n\t\theight: 80px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 70px;\n\t\theight: 70px;\n\t}\n"]))),CC.div(dW||(dW=Rk(["\n\twidth: 100px;\n\theight: 100px;\n\tborder-radius: 50%;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 40px;\n\tcolor: white;\n\tfont-weight: 600;\n\tline-height: 1;\n\ttext-align: center;\n\tword-break: break-all;\n\n\t@media (max-width: 768px) {\n\t\twidth: 80px;\n\t\theight: 80px;\n\t\tfont-size: 32px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 70px;\n\t\theight: 70px;\n\t\tfont-size: 28px;\n\t}\n"])))),lK=CC.h3(hW||(hW=Rk(["\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcolor: #1f2937;\n\tmargin: 0;\n\ttext-align: center;\n\tword-break: break-word;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 11px;\n\t}\n"]))),cK=CC.p(pW||(pW=Rk(["\n\tfont-size: 12px;\n\tcolor: #6b7280;\n\tmargin: 0;\n\ttext-align: center;\n"]))),uK=CC.div(fW||(fW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 12px;\n\tpadding: 16px;\n\tbackground-color: #f3f4f6;\n\tborder: 2px dashed #d1d5db;\n\tborder-radius: 8px;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #e5e7eb;\n\t\tborder-color: #22c55e;\n\t\tcolor: #22c55e;\n\t}\n"]))),dK=CC.div(mW||(mW=Rk(["\n\tfont-size: 32px;\n\tcolor: #6b7280;\n"]))),hK=CC.p(gW||(gW=Rk(["\n\tfont-size: 12px;\n\tfont-weight: 600;\n\tcolor: #6b7280;\n\tmargin: 0;\n\ttext-align: center;\n"]))),pK=CC.div(yW||(yW=Rk(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 1000;\n"]))),fK=CC.div(vW||(vW=Rk(["\n\tbackground-color: white;\n\tborder-radius: 12px;\n\tbox-shadow: 0 20px 25px rgba(0, 0, 0, 0.15);\n\twidth: 90%;\n\tmax-width: 800px;\n\tmax-height: 90vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 768px) {\n\t\twidth: 95%;\n\t\tmax-width: 600px;\n\t\tmax-height: 85vh;\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 98%;\n\t\tmax-width: 100%;\n\t\tmax-height: 95vh;\n\t\tborder-radius: 8px;\n\t}\n"]))),mK=CC.div(xW||(xW=Rk(["\n\tpadding: 24px;\n\tborder-bottom: 1px solid #e5e7eb;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tflex-shrink: 0;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 12px;\n\t}\n"]))),gK=CC.h2(bW||(bW=Rk(["\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tcolor: #1f2937;\n\tmargin: 0;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 18px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 16px;\n\t}\n"]))),yK=CC.button(wW||(wW=Rk(["\n\tbackground: none;\n\tborder: none;\n\tfont-size: 24px;\n\tcursor: pointer;\n\tcolor: #6b7280;\n\tpadding: 0;\n\twidth: 32px;\n\theight: 32px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&:hover {\n\t\tcolor: #1f2937;\n\t}\n"]))),vK=CC.div(SW||(SW=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgap: 30px;\n\tpadding: 24px;\n\toverflow-y: auto;\n\tflex: 1;\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 20px;\n\t\tpadding: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 15px;\n\t\tpadding: 12px;\n\t}\n"]))),xK=CC.div(kW||(kW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20px;\n\n\t@media (max-width: 480px) {\n\t\tgap: 15px;\n\t}\n"]))),bK=CC.div(EW||(EW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20px;\n\toverflow-y: auto;\n\tmax-height: calc(90vh - 200px);\n\n\t@media (max-width: 768px) {\n\t\tmax-height: calc(85vh - 200px);\n\t\tgap: 15px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tmax-height: calc(95vh - 200px);\n\t\tgap: 15px;\n\t}\n\n\t&::-webkit-scrollbar {\n\t\twidth: 6px;\n\t}\n\n\t&::-webkit-scrollbar-track {\n\t\tbackground: #f1f5f9;\n\t\tborder-radius: 3px;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground: #cbd5e1;\n\t\tborder-radius: 3px;\n\n\t\t&:hover {\n\t\t\tbackground: #94a3b8;\n\t\t}\n\t}\n"]))),wK=CC.div(_W||(_W=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 12px;\n"]))),SK=CC.img(CW||(CW=Rk(["\n\twidth: 120px;\n\theight: 120px;\n\tborder-radius: 50%;\n\tobject-fit: cover;\n\tbackground-color: #e5e7eb;\n"]))),kK=CC.input(TW||(TW=Rk(["\n\tdisplay: none;\n"]))),EK=CC.label(IW||(IW=Rk(["\n\tbackground-color: #10b981;\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 16px;\n\tborder-radius: 6px;\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #059669;\n\t}\n"]))),_K=CC.div(AW||(AW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n"]))),CK=CC.label(jW||(jW=Rk(["\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcolor: #374151;\n"]))),TK=CC.input(PW||(PW=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #d1d5db;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\ttransition: border-color 0.2s ease;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #3b82f6;\n\t\tbox-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n\t}\n\n\t&::placeholder {\n\t\tcolor: #9ca3af;\n\t}\n"]))),IK=CC.select(RW||(RW=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #d1d5db;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tbackground-color: white;\n\ttransition: border-color 0.2s ease;\n\tcursor: pointer;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #3b82f6;\n\t\tbox-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n\t}\n\n\toption {\n\t\tpadding: 8px;\n\t}\n"]))),AK=CC.textarea(NW||(NW=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #d1d5db;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tfont-family: inherit;\n\tresize: vertical;\n\tmin-height: 80px;\n\tmax-height: 120px;\n\ttransition: border-color 0.2s ease;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #3b82f6;\n\t\tbox-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n\t}\n\n\t&::placeholder {\n\t\tcolor: #9ca3af;\n\t}\n"]))),jK=CC.h3(OW||(OW=Rk(["\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcolor: #374151;\n\tmargin: 0;\n\tpadding-top: 8px;\n"]))),PK=CC.div(DW||(DW=Rk(["\n\tborder: 1px solid #d1d5db;\n\tborder-radius: 6px;\n\tpadding: 8px;\n\tmax-height: 120px;\n\toverflow-y: auto;\n\tbackground-color: white;\n\n\t&::-webkit-scrollbar {\n\t\twidth: 6px;\n\t}\n\n\t&::-webkit-scrollbar-track {\n\t\tbackground: #f1f5f9;\n\t\tborder-radius: 3px;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground: #cbd5e1;\n\t\tborder-radius: 3px;\n\n\t\t&:hover {\n\t\t\tbackground: #94a3b8;\n\t\t}\n\t}\n"]))),RK=CC.div(MW||(MW=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\tpadding: 8px 4px;\n\n\tinput[type='checkbox'] {\n\t\tcursor: pointer;\n\t\twidth: 16px;\n\t\theight: 16px;\n\t}\n\n\tlabel {\n\t\tcursor: pointer;\n\t\tfont-size: 13px;\n\t\tcolor: #374151;\n\t\tmargin: 0;\n\t\tflex: 1;\n\t}\n"]))),NK=CC.div(LW||(LW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n\tmax-height: 150px;\n\toverflow-y: auto;\n\n\t&::-webkit-scrollbar {\n\t\twidth: 6px;\n\t}\n\n\t&::-webkit-scrollbar-track {\n\t\tbackground: #f1f5f9;\n\t\tborder-radius: 3px;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground: #cbd5e1;\n\t\tborder-radius: 3px;\n\n\t\t&:hover {\n\t\t\tbackground: #94a3b8;\n\t\t}\n\t}\n"]))),OK=CC.div(FW||(FW=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: flex-start;\n\tgap: 8px;\n\tpadding: 8px;\n\tbackground-color: #f9fafb;\n\tborder-radius: 4px;\n\tfont-size: 12px;\n\n\tspan {\n\t\tcolor: #6b7280;\n\t}\n"]))),DK=CC.div(zW||(zW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n"]))),MK=CC.input(UW||(UW=Rk(["\n\tdisplay: none;\n"]))),LK=CC.label(VW||(VW=Rk(["\n\tbackground-color: #6b7280;\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 16px;\n\tborder-radius: 6px;\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #4b5563;\n\t}\n"]))),FK=CC.div(qW||(qW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 6px;\n\tmax-height: 100px;\n\toverflow-y: auto;\n"]))),zK=CC.div(BW||(BW=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 8px;\n\tbackground-color: #f9fafb;\n\tborder-radius: 4px;\n\tfont-size: 12px;\n\tcolor: #6b7280;\n\n\tbutton {\n\t\tbackground: none;\n\t\tborder: none;\n\t\tcolor: #ef4444;\n\t\tcursor: pointer;\n\t\tfont-size: 14px;\n\n\t\t&:hover {\n\t\t\tcolor: #dc2626;\n\t\t}\n\t}\n"]))),UK=CC.div(HW||(HW=Rk(["\n\tpadding: 20px 24px;\n\tborder-top: 1px solid #e5e7eb;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tgap: 12px;\n\tflex-shrink: 0;\n"]))),VK=CC.button(WW||(WW=Rk(["\n\tpadding: 10px 20px;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\tborder: none;\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n"]))),qK=CC(VK)(KW||(KW=Rk(["\n\tbackground-color: #e5e7eb;\n\tcolor: #374151;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #d1d5db;\n\t}\n"]))),BK=CC(VK)(GW||(GW=Rk(["\n\tbackground-color: #22c55e;\n\tcolor: white;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: #16a34a;\n\t}\n"]))),HK=(CC.div(QW||(QW=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 12px;\n\tpadding: 40px 20px;\n\tbackground-color: white;\n\tborder-radius: 8px;\n\tborder: 1px solid #e5e7eb;\n\tcolor: #6b7280;\n\ttext-align: center;\n\n\tp {\n\t\tmargin: 0;\n\t\tfont-size: 14px;\n\t}\n"]))),[{value:"property_manager",label:"Property Manager"},{value:"assistant_manager",label:"Assistant Manager"},{value:"maintenance",label:"Maintenance"},{value:"accounting",label:"Accounting"},{value:"leasing",label:"Leasing Agent"},{value:"admin",label:"Administrator"}]);function WK(){A();const e=b((t=>t.user.currentUser)),n=b((t=>t.team.groups)),r=b((t=>t.propertyData.groups.flatMap((t=>t.properties||[])))),[i]=gw(),[o]=yw(),[a]=vw(),[s]=bw(),[l]=ww(),[c]=Sw(),u=(0,t.useMemo)((()=>n.map((t=>({...t,members:t.members||[]})))),[n]),d=!!e&&wN(e.role),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[g,y]=(0,t.useState)(null),[v,x]=(0,t.useState)(null),[w,S]=(0,t.useState)(""),[k,E]=(0,t.useState)(null),[_,C]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",role:"property_manager",address:"",notes:"",linkedProperties:[]}),[T,I]=(0,t.useState)([]),j=u.map((t=>({...t,members:(t.members||[]).filter((t=>"tenant"!==t.role))}))),P=(t,e)=>{C((n=>({...n,[t]:e})))},R=async t=>{if(v===t){var e;if(w.trim()&&w!==(null===(e=n.find((e=>e.id===t)))||void 0===e?void 0:e.name))try{await o({id:t,updates:{name:w}}).unwrap()}catch(r){console.error("Failed to update team group name:",r),alert("Failed to update group name. Please try again.")}x(null),S("")}else{const e=n.find((e=>e.id===t));e&&(x(t),S(e.name))}};return(0,jk.jsxs)($W,{children:[(0,jk.jsxs)(yO,{children:[(0,jk.jsx)(vO,{children:"Team Management"}),d&&(0,jk.jsx)(YW,{onClick:async()=>{await i({userId:e.id,name:"New Team Group",linkedProperties:[]})},children:"+ Add Team Group"})]}),(0,jk.jsx)(JW,{children:j.map((t=>(0,jk.jsxs)("div",{children:[(0,jk.jsxs)(XW,{children:[v===t.id?(0,jk.jsx)(tK,{type:"text",value:w,onChange:t=>S(t.target.value),onBlur:()=>R(t.id),onKeyDown:e=>{"Enter"===e.key?R(t.id):"Escape"===e.key&&(x(null),S(""))},autoFocus:!0}):(0,jk.jsx)(ZW,{children:t.name}),d&&(0,jk.jsxs)(eK,{children:[(0,jk.jsx)(nK,{title:"Edit group",onClick:()=>R(t.id),children:"\u270e"}),(0,jk.jsx)(nK,{title:"Delete group",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this team group?"))try{await a(t).unwrap(),console.log("Team group deleted successfully")}catch(e){console.error("Failed to delete team group:",e),alert("Failed to delete team group. Please try again.")}})(t.id),children:"\ud83d\uddd1"})]})]}),(0,jk.jsxs)(rK,{children:[(t.members||[]).map((e=>(0,jk.jsxs)(iK,{onClick:()=>d&&((t,e)=>{m(e),y(t),C({firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,role:t.role,address:t.address,notes:t.notes,linkedProperties:t.linkedProperties}),E(t.image||null),I(t.files),p(!0)})(e,t.id),style:{cursor:d?"pointer":"default",opacity:d?1:.7},children:[d&&(0,jk.jsx)(oK,{children:(0,jk.jsx)(aK,{className:"delete",title:"Delete team member",onClick:t=>{t.stopPropagation(),window.confirm("Are you sure you want to delete ".concat(e.firstName," ").concat(e.lastName,"?"))&&(async t=>{await c(t)})(e.id)},children:"\ud83d\uddd1"})}),(0,jk.jsxs)(lK,{children:[e.firstName," ",e.lastName]}),(0,jk.jsx)(cK,{children:e.title})]},e.id))),d&&(0,jk.jsxs)(uK,{onClick:()=>{return e=t.id,m(e),y(null),C({firstName:"",lastName:"",email:"",phone:"",role:"property_manager",address:"",notes:"",linkedProperties:[]}),E(null),I([]),void p(!0);var e},children:[(0,jk.jsx)(dK,{children:"+"}),(0,jk.jsx)(hK,{children:"Add Team Member"})]})]})]},t.id)))}),h&&(0,jk.jsx)(pK,{onClick:()=>p(!1),children:(0,jk.jsxs)(fK,{onClick:t=>t.stopPropagation(),children:[(0,jk.jsxs)(mK,{children:[(0,jk.jsx)(gK,{children:g?"Edit Team Member":"Add Team Member"}),(0,jk.jsx)(yK,{onClick:()=>p(!1),children:"\u2715"})]}),(0,jk.jsxs)(vK,{children:[(0,jk.jsxs)(xK,{children:[(0,jk.jsxs)(wK,{children:[k?(0,jk.jsx)(SK,{src:k,alt:"Preview"}):(0,jk.jsxs)(sK,{children:[_.firstName.charAt(0),_.lastName.charAt(0)||"?"]}),(0,jk.jsx)(EK,{htmlFor:"image-upload",children:"Upload Photo"}),(0,jk.jsx)(kK,{id:"image-upload",type:"file",accept:"image/*",onChange:t=>{var e;const n=null===(e=t.target.files)||void 0===e?void 0:e[0];if(n){const t=new FileReader;t.onloadend=()=>{E(t.result)},t.readAsDataURL(n)}}})]}),(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(CK,{children:"First Name *"}),(0,jk.jsx)(TK,{type:"text",placeholder:"First name",value:_.firstName,onChange:t=>P("firstName",t.target.value)})]}),(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(CK,{children:"Last Name *"}),(0,jk.jsx)(TK,{type:"text",placeholder:"Last name",value:_.lastName,onChange:t=>P("lastName",t.target.value)})]}),(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(CK,{children:"Email *"}),(0,jk.jsx)(TK,{type:"email",placeholder:"Email address",value:_.email,onChange:t=>P("email",t.target.value)})]}),(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(CK,{children:"Phone Number"}),(0,jk.jsx)(TK,{type:"tel",placeholder:"Phone number",value:_.phone,onChange:t=>P("phone",t.target.value)})]}),(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(CK,{children:"Role *"}),(0,jk.jsx)(IK,{value:_.role,onChange:t=>P("role",t.target.value),children:HK.map((t=>(0,jk.jsx)("option",{value:t.value,children:t.label},t.value)))})]}),(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(CK,{children:"Address"}),(0,jk.jsx)(TK,{type:"text",placeholder:"Street address",value:_.address,onChange:t=>P("address",t.target.value)})]})]}),(0,jk.jsxs)(bK,{children:[(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(CK,{children:"Notes"}),(0,jk.jsx)(AK,{placeholder:"Add any notes about this team member...",value:_.notes,onChange:t=>P("notes",t.target.value)})]}),(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(jK,{children:"Assigned Properties"}),(0,jk.jsx)(PK,{children:r.map((t=>(0,jk.jsxs)(RK,{children:[(0,jk.jsx)("input",{type:"checkbox",id:"property-".concat(t.id),checked:_.linkedProperties.includes(t.id),onChange:()=>{return e=t.id,void C((t=>({...t,linkedProperties:t.linkedProperties.includes(e)?t.linkedProperties.filter((t=>t!==e)):[...t.linkedProperties,e]})));var e}}),(0,jk.jsx)("label",{htmlFor:"property-".concat(t.id),children:t.title})]},t.id)))})]}),(0,jk.jsxs)(DK,{children:[(0,jk.jsx)(jK,{children:"Documents & Files"}),(0,jk.jsx)(LK,{htmlFor:"file-upload",children:"+ Upload File"}),(0,jk.jsx)(MK,{id:"file-upload",type:"file",multiple:!0,onChange:t=>{const e=t.target.files;e&&Array.from(e).forEach((t=>{I((e=>[...e,{name:t.name,id:Math.random().toString()}]))}))}}),T.length>0&&(0,jk.jsx)(FK,{children:T.map((t=>(0,jk.jsxs)(zK,{children:[(0,jk.jsx)("span",{children:t.name}),(0,jk.jsx)("button",{onClick:()=>{return e=t.id,void I((t=>t.filter((t=>t.id!==e))));var e},children:"\u2715"})]},t.id)))})]}),g&&(0,jk.jsxs)(_K,{children:[(0,jk.jsx)(jK,{children:"Recent Task History"}),(0,jk.jsx)(NK,{children:g.taskHistory.map(((t,e)=>(0,jk.jsxs)(OK,{children:[(0,jk.jsx)("div",{children:(0,jk.jsx)("span",{children:t.task})}),(0,jk.jsx)("span",{children:t.date})]},e)))})]})]})]}),(0,jk.jsxs)(UK,{children:[(0,jk.jsx)(qK,{onClick:()=>p(!1),children:"Cancel"}),(0,jk.jsx)(BK,{onClick:async()=>{var t;if(!f)return;const e={groupId:f,firstName:_.firstName,lastName:_.lastName,title:"".concat((null===(t=HK.find((t=>t.value===_.role)))||void 0===t?void 0:t.label)||""),email:_.email,phone:_.phone,role:_.role,address:_.address,image:k||(null===g||void 0===g?void 0:g.image)||"",notes:_.notes,linkedProperties:_.linkedProperties,taskHistory:(null===g||void 0===g?void 0:g.taskHistory)||[],files:T};g?await l({id:g.id,updates:e}):await s(e),p(!1)},children:g?"Update Member":"Add Member"})]})]})})]})}var KK,GK,QK,$K,YK,JK,XK,ZK,tG,eG,nG,rG,iG,oG,aG,sG,lG,cG,uG,dG,hG,pG,fG,mG,gG,yG,vG,xG;const bG=CC.div(KK||(KK=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 24px;\n\tpadding: 20px;\n\tmin-height: 100%;\n\tbackground-color: #fafafa;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 15px;\n\t\tgap: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t\tgap: 12px;\n\t}\n"]))),wG=CC.div(GK||(GK=Rk(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 16px;\n\tflex-wrap: wrap;\n\n\t@media (max-width: 480px) {\n\t\tgap: 12px;\n\t}\n"]))),SG=CC.h1(QK||(QK=Rk(["\n\tfont-size: 32px;\n\tfont-weight: 800;\n\tcolor: #1f2937;\n\tmargin: 0;\n\tletter-spacing: 0.5px;\n\n\t@media (max-width: 768px) {\n\t\tfont-size: 28px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 24px;\n\t}\n"]))),kG=CC.p($K||($K=Rk(["\n\tfont-size: 14px;\n\tcolor: #6b7280;\n\tmargin: 8px 0 0 0;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t}\n"]))),EG=CC.div(YK||(YK=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgap: 20px;\n\n\t@media (max-width: 1024px) {\n\t\tgrid-template-columns: 1fr;\n\t}\n\n\t@media (max-width: 768px) {\n\t\tgap: 16px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgap: 12px;\n\t}\n"]))),_G=CC.div(JK||(JK=Rk(["\n\tbackground: white;\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 8px;\n\tpadding: 20px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 16px;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 16px;\n\t\tgap: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 12px;\n\t\tgap: 10px;\n\t}\n"]))),CG=CC.h2(XK||(XK=Rk(["\n\tfont-size: 18px;\n\tfont-weight: 700;\n\tcolor: #1f2937;\n\tmargin: 0;\n\tletter-spacing: 0.3px;\n\tmargin: 0;\n\tpadding-bottom: 12px;\n\tborder-bottom: 1px solid #e5e7eb;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t\tpadding-bottom: 10px;\n\t}\n"]))),TG=CC.div(ZK||(ZK=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n"]))),IG=CC.label(tG||(tG=Rk(["\n\tfont-size: 15px;\n\tfont-weight: 600;\n\tcolor: #374151;\n\tdisplay: block;\n\tmargin-bottom: 8px;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 14px;\n\t}\n"]))),AG=CC.select(eG||(eG=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #d1d5db;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tcolor: #1f2937;\n\tbackground-color: white;\n\tcursor: pointer;\n\ttransition:\n\t\tborder-color 0.2s ease,\n\t\tbox-shadow 0.2s ease;\n\n\t&:hover {\n\t\tborder-color: #9ca3af;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 13px;\n\t\tpadding: 8px 10px;\n\t}\n"]))),jG=(CC.input(nG||(nG=Rk(["\n\tpadding: 10px 12px;\n\tborder: 1px solid #d1d5db;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tcolor: #1f2937;\n\tbackground-color: white;\n\ttransition:\n\t\tborder-color 0.2s ease,\n\t\tbox-shadow 0.2s ease;\n\n\t&:hover {\n\t\tborder-color: #9ca3af;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: #22c55e;\n\t\tbox-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n\t}\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 13px;\n\t\tpadding: 8px 10px;\n\t}\n"]))),CC.div(rG||(rG=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n\tgap: 12px;\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n\t\tgap: 10px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\n\t\tgap: 8px;\n\t}\n"])))),PG=CC.div(iG||(iG=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\tpadding: 8px;\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\ttransition: background-color 0.2s ease;\n\n\t&:hover {\n\t\tbackground-color: #f9fafb;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 6px;\n\t\tgap: 6px;\n\t}\n"]))),RG=CC.input(oG||(oG=Rk(["\n\tcursor: pointer;\n\twidth: 16px;\n\theight: 16px;\n\taccent-color: #22c55e;\n\n\t@media (max-width: 480px) {\n\t\twidth: 14px;\n\t\theight: 14px;\n\t}\n"]))),NG=CC.label(aG||(aG=Rk(["\n\tfont-size: 13px;\n\tcolor: #4b5563;\n\tcursor: pointer;\n\tmargin: 0;\n\tflex: 1;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t}\n"]))),OG=CC.div(sG||(sG=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n\n\t@media (max-width: 480px) {\n\t\tgap: 10px;\n\t}\n"]))),DG=(CC.div(lG||(lG=Rk(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgap: 10px;\n\n\t@media (max-width: 480px) {\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 8px;\n\t}\n"]))),CC.div(cG||(cG=Rk(["\n\tdisplay: flex;\n\tgap: 12px;\n\tmargin-top: 8px;\n\n\t@media (max-width: 480px) {\n\t\tgap: 8px;\n\t\tmargin-top: 6px;\n\t}\n"]))),CC.button(uG||(uG=Rk(["\n\tpadding: 10px 16px;\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\twhite-space: nowrap;\n\n\tbackground-color: ",";\n\tcolor: ",";\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: ",";\n\t}\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 8px 12px;\n\t\tfont-size: 12px;\n\t\tflex: 1;\n\t}\n"])),(t=>"secondary"===t.variant?"#e5e7eb":"#22c55e"),(t=>"secondary"===t.variant?"#374151":"white"),(t=>"secondary"===t.variant?"#d1d5db":"#16a34a"))),MG=CC.div(dG||(dG=Rk(["\n\tbackground: white;\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 8px;\n\tpadding: 20px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 16px;\n\tgrid-column: 1 / -1;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 16px;\n\t\tgap: 12px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 12px;\n\t\tgap: 10px;\n\t}\n"]))),LG=(CC.div(hG||(hG=Rk(["\n\tpadding: 16px;\n\tbackground-color: #d1fae5;\n\tcolor: #065f46;\n\tborder-radius: 8px;\n\tborder-left: 4px solid #065f46;\n\tfont-size: 14px;\n\ttext-align: center;\n\tgrid-column: 1 / -1;\n"]))),CC.div(pG||(pG=Rk(["\n\toverflow-x: auto;\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 6px;\n"])))),FG=CC.table(fG||(fG=Rk(["\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tbackground: white;\n\n\tthead {\n\t\tbackground: #f9fafb;\n\t\tborder-bottom: 2px solid #e5e7eb;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t}\n\n\tth {\n\t\tpadding: 12px;\n\t\ttext-align: left;\n\t\tfont-weight: 600;\n\t\tcolor: #374151;\n\t\tfont-size: 12px;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.5px;\n\n\t\t@media (max-width: 768px) {\n\t\t\tpadding: 10px;\n\t\t\tfont-size: 11px;\n\t\t}\n\n\t\t@media (max-width: 480px) {\n\t\t\tpadding: 8px;\n\t\t\tfont-size: 10px;\n\t\t}\n\t}\n\n\ttd {\n\t\tpadding: 12px;\n\t\tborder-bottom: 1px solid #e5e7eb;\n\t\tcolor: #4b5563;\n\t\tfont-size: 13px;\n\n\t\t@media (max-width: 768px) {\n\t\t\tpadding: 10px;\n\t\t\tfont-size: 12px;\n\t\t}\n\n\t\t@media (max-width: 480px) {\n\t\t\tpadding: 8px;\n\t\t\tfont-size: 11px;\n\t\t}\n\t}\n\n\ttbody tr:hover {\n\t\tbackground: #f9fafb;\n\t}\n"]))),zG=CC.div(mG||(mG=Rk(["\n\ttext-align: center;\n\tpadding: 40px 20px;\n\tcolor: #9ca3af;\n\tfont-size: 14px;\n\n\t@media (max-width: 480px) {\n\t\tpadding: 30px 15px;\n\t\tfont-size: 12px;\n\t}\n"]))),UG=CC.div(gG||(gG=Rk(["\n\tdisplay: flex;\n\tgap: 12px;\n\tjustify-content: flex-end;\n\tpadding-top: 12px;\n\tborder-top: 1px solid #e5e7eb;\n\n\t@media (max-width: 768px) {\n\t\tgap: 10px;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tgap: 8px;\n\t\tflex-direction: column;\n\t}\n"]))),VG=CC.div(yG||(yG=Rk(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\tpadding: 8px;\n\tmargin-bottom: 8px;\n\tbackground: #f3f4f6;\n\tborder-radius: 6px;\n\tborder: 1px solid #e5e7eb;\n\n\t@media (max-width: 480px) {\n\t\tpadding: 6px;\n\t\tgap: 6px;\n\t\tmargin-bottom: 6px;\n\t}\n"]))),qG=CC.label(vG||(vG=Rk(["\n\tfont-size: 13px;\n\tfont-weight: 600;\n\tcolor: #374151;\n\tcursor: pointer;\n\tmargin: 0;\n\n\t@media (max-width: 480px) {\n\t\tfont-size: 12px;\n\t}\n"]))),BG=CC.div(xG||(xG=Rk(["\n\tbackground: #ecfdf3;\n\tborder: 1px solid #bbf7d0;\n\tborder-radius: 6px;\n\tpadding: 12px;\n\tfont-size: 13px;\n\tcolor: #16a34a;\n\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\t\tfont-size: 12px;\n\t}\n"]))),HG=(t,e)=>e.split(".").reduce(((t,e)=>null===t||void 0===t?void 0:t[e]),t),WG=t=>{const e=((t,e)=>0===t.length?e.join(","):[e.join(","),...t.map((t=>e.map((e=>{const n=HG(t,e),r=String(n||"");return r.includes(",")?'"'.concat(r.replace(/"/g,'""'),'"'):r})).join(",")))].join("\n"))(t.data,t.columns);((t,e)=>{const n=document.createElement("a"),r=new Blob([t],{type:"text/csv;charset=utf-8;"});n.href=URL.createObjectURL(r),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)})(e,t.filename)},KG={title:"Task Title",dueDate:"Due Date",status:"Status",property:"Property",unit:"Unit",suite:"Suite",assignee:"Assignee",notes:"Notes",completionDate:"Completion Date",completedBy:"Completed By",approvedBy:"Approved By"},GG={title:"Request Title",description:"Description",priority:"Priority",category:"Category",status:"Status",propertyTitle:"Property",unit:"Unit",suite:"Suite",submittedByName:"Submitted By",submittedAt:"Submitted At",reviewedBy:"Reviewed By",reviewedAt:"Reviewed At",notes:"Notes"},QG={firstName:"First Name",lastName:"Last Name",title:"Title",email:"Email",phone:"Phone",role:"Role",address:"Address",notes:"Notes"},$G={firstName:"First Name",lastName:"Last Name",email:"Email",title:"Title",totalTasksAssigned:"Total Tasks",tasksCompleted:"Completed",tasksInProgress:"In Progress",tasksPending:"Pending",completionRate:"Completion Rate (%)",averageCompletionDays:"Avg Days to Complete",lastTaskCompletionDate:"Last Completion Date"},YG={propertyTitle:"Property Name",address:"Address",totalUnits:"Total Units",occupiedUnits:"Occupied Units",totalTenants:"Total Tenants",totalTasks:"Total Tasks",completedTasks:"Completed Tasks",maintenanceHistoryCount:"Maintenance Records",pendingMaintenanceRequests:"Pending Requests",approvedMaintenanceRequests:"Approved Requests"},JG=()=>{b((t=>t.user.currentUser));const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)({status:"",priority:"",propertyId:"",dateFrom:"",dateTo:""}),{data:s=[],isLoading:l}=aw(),{data:c=[],isLoading:u}=ew(),{data:d=[],isLoading:h}=Yb(),{data:p=[],isLoading:f}=xw(),m=s.filter((t=>{var e;return"maintenance"===t.type||(null===(e=t.title)||void 0===e?void 0:e.toLowerCase().includes("maintenance"))})),g=((0,t.useMemo)((()=>c.map((t=>({id:t.id,title:t.title})))),[c]),(0,t.useMemo)((()=>({tasks:KG,"maintenance-requests":GG,team:QG,"employee-efficiency":$G,"property-summary":YG,"":{}}[e])),[e])),y=(0,t.useMemo)((()=>{let t=[];return"tasks"===e?t=s:"maintenance-requests"===e?t=m:"team"===e?t=p:"employee-efficiency"===e?t=p.map((t=>{const e=s.filter((e=>e.assignedTo===t.id)),n=e.filter((t=>"Completed"===t.status)),r=e.length>0?e.filter((t=>t.completionDate&&t.dueDate)).reduce(((t,e)=>{const n=new Date(e.dueDate).getTime();return t+(new Date(e.completionDate).getTime()-n)/864e5}),0)/e.length:0;return{employeeId:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,title:t.title,totalTasksAssigned:e.length,tasksCompleted:n.length,tasksInProgress:e.filter((t=>"In Progress"===t.status)).length,tasksPending:e.filter((t=>"Pending"===t.status)).length,completionRate:e.length>0?Math.round(n.length/e.length*100):0,averageCompletionDays:Math.round(r),lastTaskCompletionDate:n.length>0?new Date(n[n.length-1].completionDate).toLocaleDateString():"N/A"}})):"property-summary"===e&&(t=c.map((t=>{const e=s.filter((e=>e.propertyId===t.id)),n=m.filter((e=>e.propertyId===t.id));let r=0,i=0,o=0;return t.units&&(r=t.units.length,i=t.units.filter((t=>(t.occupants||[]).length>0)).length,o=t.units.reduce(((t,e)=>t+(e.occupants||[]).length),0)),{propertyId:t.id,propertyTitle:t.title,address:t.address||"N/A",owner:t.owner||"N/A",propertyType:t.propertyType||"Unknown",totalUnits:r,occupiedUnits:i,totalTenants:o,totalTasks:e.length,completedTasks:e.filter((t=>"Completed"===t.status)).length,maintenanceHistoryCount:(t.taskHistory||[]).length,pendingMaintenanceRequests:n.filter((t=>"Pending"===t.status)).length,approvedMaintenanceRequests:n.filter((t=>"Approved"===t.status)).length}}))),"maintenance-requests"===e&&(o.status&&(t=t.filter((t=>t.status===o.status))),o.priority&&(t=t.filter((t=>t.priority===o.priority))),o.propertyId&&(t=t.filter((t=>t.propertyId===o.propertyId)))),t}),[e,s,m,p,c,o]),v=t=>{i((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]))},x=l||u||h||f;return(0,jk.jsxs)(bG,{children:[(0,jk.jsx)(wG,{children:(0,jk.jsxs)("div",{children:[(0,jk.jsx)(SG,{children:"Reports & Analytics"}),(0,jk.jsx)(kG,{children:"Build custom reports and download CSV data for analysis"})]})}),x&&(0,jk.jsx)(BG,{children:"Loading data..."}),(0,jk.jsxs)(EG,{children:[(0,jk.jsxs)(_G,{children:[" ",(0,jk.jsx)(CG,{children:"Report Type"}),(0,jk.jsxs)(TG,{children:[(0,jk.jsx)(IG,{children:"Select Report"}),(0,jk.jsxs)(AG,{value:e,onChange:t=>{n(t.target.value),i([]),a({status:"",priority:"",propertyId:"",dateFrom:"",dateTo:""})},children:[(0,jk.jsx)("option",{value:"",children:"-- Choose a report type --"}),(0,jk.jsx)("option",{value:"tasks",children:"Task Report"}),(0,jk.jsx)("option",{value:"maintenance-requests",children:"Maintenance Requests"}),(0,jk.jsx)("option",{value:"team",children:"Team Members"}),(0,jk.jsx)("option",{value:"employee-efficiency",children:"Employee Efficiency"}),(0,jk.jsx)("option",{value:"property-summary",children:"Property Summary"})]})]}),"maintenance-requests"===e&&(0,jk.jsxs)(OG,{children:[(0,jk.jsx)(IG,{style:{marginTop:"12px"},children:"Filters"}),(0,jk.jsxs)(TG,{children:[(0,jk.jsx)(IG,{children:"Status"}),(0,jk.jsxs)(AG,{value:o.status,onChange:t=>a({...o,status:t.target.value}),children:[(0,jk.jsx)("option",{value:"",children:"All Statuses"}),(0,jk.jsx)("option",{value:"Pending",children:"Pending"}),(0,jk.jsx)("option",{value:"Under Review",children:"Under Review"}),(0,jk.jsx)("option",{value:"Approved",children:"Approved"}),(0,jk.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),(0,jk.jsxs)(TG,{children:[(0,jk.jsx)(IG,{children:"Priority"}),(0,jk.jsxs)(AG,{value:o.priority,onChange:t=>a({...o,priority:t.target.value}),children:[(0,jk.jsx)("option",{value:"",children:"All Priorities"}),(0,jk.jsx)("option",{value:"Low",children:"Low"}),(0,jk.jsx)("option",{value:"Medium",children:"Medium"}),(0,jk.jsx)("option",{value:"High",children:"High"}),(0,jk.jsx)("option",{value:"Urgent",children:"Urgent"})]})]}),(0,jk.jsxs)(TG,{children:[(0,jk.jsx)(IG,{children:"Property"}),(0,jk.jsxs)(AG,{value:o.propertyId,onChange:t=>a({...o,propertyId:t.target.value}),children:[(0,jk.jsx)("option",{value:"",children:"All Properties"}),c.map((t=>(0,jk.jsx)("option",{value:t.id,children:t.title},t.id)))]})]})]}),e&&(0,jk.jsxs)(BG,{children:["Found ",y.length," record(s) for this report type"]})]}),e&&(0,jk.jsxs)(_G,{children:[(0,jk.jsx)(CG,{children:"Select Columns"}),(0,jk.jsxs)(VG,{children:[(0,jk.jsx)(RG,{type:"checkbox",id:"select-all",checked:r.length===Object.keys(g).length&&Object.keys(g).length>0,onChange:t=>{t.target.checked?i(Object.keys(g)):i([])}}),(0,jk.jsx)(qG,{htmlFor:"select-all",children:"Select All"})]}),(0,jk.jsx)(jG,{children:Object.entries(g).map((t=>{let[e,n]=t;return(0,jk.jsxs)(PG,{onClick:()=>v(e),children:[(0,jk.jsx)(RG,{type:"checkbox",id:"col-".concat(e),checked:r.includes(e),onChange:()=>v(e)}),(0,jk.jsx)(NG,{htmlFor:"col-".concat(e),children:n})]},e)}))})]})]}),e&&y.length>0&&(0,jk.jsxs)(MG,{children:[(0,jk.jsxs)(CG,{children:["Preview (",y.length," records)"]}),(0,jk.jsx)(LG,{children:(0,jk.jsxs)(FG,{children:[(0,jk.jsx)("thead",{children:(0,jk.jsx)("tr",{children:r.map((t=>(0,jk.jsx)("th",{children:g[t]},t)))})}),(0,jk.jsx)("tbody",{children:y.slice(0,10).map(((t,e)=>(0,jk.jsx)("tr",{children:r.map((e=>(0,jk.jsx)("td",{children:"object"===typeof t[e]?JSON.stringify(t[e]):String(t[e]||"-")},e)))},e)))})]})}),y.length>10&&(0,jk.jsxs)(BG,{children:["Showing first 10 of ",y.length," records. Download to see all data."]}),(0,jk.jsxs)(UG,{children:[(0,jk.jsx)(DG,{variant:"secondary",onClick:()=>n(""),children:"Clear"}),(0,jk.jsx)(DG,{onClick:()=>{if(e&&0!==r.length)switch(e){case"tasks":((t,e)=>{const n="task-report-".concat((new Date).toISOString().split("T")[0],".csv");WG({filename:n,data:t,columns:e})})(y,r);break;case"maintenance-requests":((t,e,n)=>{let r=[...t];null!==n&&void 0!==n&&n.status&&(r=r.filter((t=>t.status===n.status))),null!==n&&void 0!==n&&n.priority&&(r=r.filter((t=>t.priority===n.priority))),null!==n&&void 0!==n&&n.propertyId&&(r=r.filter((t=>t.propertyId===n.propertyId))),null!==n&&void 0!==n&&n.dateFrom&&(r=r.filter((t=>new Date(t.submittedAt)>=new Date(n.dateFrom)))),null!==n&&void 0!==n&&n.dateTo&&(r=r.filter((t=>new Date(t.submittedAt)<=new Date(n.dateTo))));const i="maintenance-requests-".concat((new Date).toISOString().split("T")[0],".csv");WG({filename:i,data:r,columns:e})})(m,r,o.status||o.priority||o.propertyId?o:void 0);break;case"team":((t,e)=>{const n="team-report-".concat((new Date).toISOString().split("T")[0],".csv");WG({filename:n,data:t,columns:e})})(y,r);break;case"employee-efficiency":((t,e)=>{const n="employee-efficiency-".concat((new Date).toISOString().split("T")[0],".csv");WG({filename:n,data:t,columns:e})})(y,r);break;case"property-summary":((t,e)=>{const n="property-summary-".concat((new Date).toISOString().split("T")[0],".csv");WG({filename:n,data:t,columns:e})})(y,r)}else alert("Please select a report type and at least one column")},disabled:0===r.length,children:"Download CSV"})]})]}),e&&0===y.length&&(0,jk.jsx)(MG,{children:(0,jk.jsx)(zG,{children:"No data available for this report type"})})]})},XG=()=>(0,jk.jsx)(JG,{});var ZG,tQ,eQ,nQ,rQ,iQ,oQ,aQ,sQ,lQ,cQ,uQ,dQ,hQ,pQ,fQ,mQ,gQ,yQ,vQ;const xQ=CC.div(ZG||(ZG=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 100vh;\n\tbackground-color: ",";\n"])),zC.bgLight),bQ=CC.div(tQ||(tQ=Rk(["\n\tbackground: ",";\n\tmargin: 0;\n\tpadding: 2rem;\n\twidth: 100%;\n\tmax-width: 100%;\n\tposition: relative;\n\tz-index: 1;\n\tbox-shadow: none;\n\tborder-radius: 0;\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\n\t@media (max-width: 768px) {\n\t\tpadding: 1.5rem;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 1rem;\n\t}\n"])),zC.bgWhite),wQ=CC.div(eQ||(eQ=Rk(["\n\twidth: 100%;\n\tmax-width: 800px;\n"]))),SQ=(CC.div(nQ||(nQ=Rk(["\n\tmargin-bottom: 2rem;\n\tborder-bottom: 2px solid ",";\n\tpadding-bottom: 1rem;\n"])),zC.gray100),CC.h1(rQ||(rQ=Rk(["\n\tfont-size: 1.75rem;\n\tcolor: ",";\n\tmargin: 0;\n\tfont-weight: 600;\n"])),zC.textPrimary),CC.div(iQ||(iQ=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 1.5rem;\n\tmargin-bottom: 2rem;\n"])))),kQ=CC.div(oQ||(oQ=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.5rem;\n"]))),EQ=CC.label(aQ||(aQ=Rk(["\n\tfont-weight: 600;\n\tcolor: ",";\n\tfont-size: 0.95rem;\n"])),zC.textPrimary),_Q=CC.input(sQ||(sQ=Rk(["\n\tpadding: 0.75rem;\n\tborder: 1px solid ",";\n\tborder-radius: 6px;\n\tfont-size: 1rem;\n\tfont-family: inherit;\n\tbackground-color: ",";\n\ttransition:\n\t\tborder-color 0.2s,\n\t\tbox-shadow 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: ",";\n\t\tbox-shadow: 0 0 0 3px ",";\n\t\tbackground-color: ",";\n\t}\n\n\t&:disabled {\n\t\tbackground-color: ",";\n\t\tcursor: not-allowed;\n\t\tcolor: ",";\n\t}\n"])),zC.border,zC.gray50,zC.primary,zC.primaryLight,zC.bgWhite,zC.gray100,zC.textMuted),CQ=(CC.textarea(lQ||(lQ=Rk(["\n\tpadding: 0.75rem;\n\tborder: 1px solid ",";\n\tborder-radius: 6px;\n\tfont-size: 1rem;\n\tfont-family: inherit;\n\tbackground-color: ",";\n\tresize: vertical;\n\tmin-height: 100px;\n\ttransition:\n\t\tborder-color 0.2s,\n\t\tbox-shadow 0.2s;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: ",";\n\t\tbox-shadow: 0 0 0 3px ",";\n\t\tbackground-color: ",";\n\t}\n\n\t&:disabled {\n\t\tbackground-color: ",";\n\t\tcursor: not-allowed;\n\t\tcolor: ",";\n\t}\n"])),zC.border,zC.gray50,zC.primary,zC.primaryLight,zC.bgWhite,zC.gray100,zC.textMuted),CC.div(cQ||(cQ=Rk(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.75rem;\n\talign-items: center;\n\tpadding: 2rem 0;\n"])))),TQ=CC.img(uQ||(uQ=Rk(["\n\twidth: 120px;\n\theight: 120px;\n\tborder-radius: 50%;\n\tobject-fit: cover;\n\tborder: 3px solid ",";\n\tbox-shadow: 0 0 0 4px ",";\n"])),zC.primary,zC.primaryLight),IQ=CC.input(dQ||(dQ=Rk(["\n\tdisplay: none;\n"]))),AQ=CC.button(hQ||(hQ=Rk(["\n\tpadding: 0.75rem 1.25rem;\n\tbackground: ",";\n\tcolor: ",";\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\twidth: fit-content;\n\tbox-shadow: ",";\n\n\t&:hover:not(:disabled) {\n\t\tbackground: linear-gradient(\n\t\t\t135deg,\n\t\t\t"," 0%,\n\t\t\t"," 100%\n\t\t);\n\t\tbox-shadow: ",";\n\t}\n\n\t&:disabled {\n\t\tbackground: ",";\n\t\tcursor: not-allowed;\n\t}\n"])),zC.gradientPrimary,zC.bgWhite,zC.shadowMd,zC.primaryDark,zC.primaryDarker,zC.shadowLg,zC.gray300),jQ=CC.div(pQ||(pQ=Rk(["\n\tdisplay: flex;\n\tgap: 0.75rem;\n\talign-items: center;\n\n\t@media (max-width: 480px) {\n\t\tflex-direction: row;\n\t\tjustify-content: flex-end;\n\t}\n"]))),PQ=CC.button(fQ||(fQ=Rk(["\n\tpadding: 0.625rem 1.25rem;\n\tbackground-color: ",";\n\tcolor: ",";\n\tborder: 1px solid ",";\n\tborder-radius: 6px;\n\tfont-weight: 600;\n\tfont-size: 14px;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\n\t&:hover:not(:disabled) {\n\t\tbackground-color: ",";\n\t\tborder-color: ",";\n\t}\n\n\t&:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 0.5rem 1rem;\n\t\tfont-size: 13px;\n\t}\n"])),zC.bgWhite,zC.textPrimary,zC.border,zC.gray100,zC.gray300),RQ=CC.button(mQ||(mQ=Rk(["\n\tpadding: 0.625rem 1.5rem;\n\tbackground: ",";\n\tcolor: ",";\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-weight: 600;\n\tfont-size: 14px;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\tbox-shadow: ",";\n\n\t&:hover:not(:disabled) {\n\t\tbackground: linear-gradient(\n\t\t\t135deg,\n\t\t\t"," 0%,\n\t\t\t"," 100%\n\t\t);\n\t\tbox-shadow: ",";\n\t}\n\n\t&:disabled {\n\t\tbackground: ",";\n\t\tcursor: not-allowed;\n\t}\n\n\t@media (max-width: 480px) {\n\t\tpadding: 0.5rem 1.25rem;\n\t\tfont-size: 13px;\n\t}\n"])),zC.gradientPrimary,zC.bgWhite,zC.shadowMd,zC.primaryDark,zC.primaryDarker,zC.shadowLg,zC.gray300),NQ=CC.div(gQ||(gQ=Rk(["\n\tbackground-color: #fef2f2;\n\tcolor: ",";\n\tpadding: 1rem;\n\tborder-radius: 6px;\n\tborder-left: 4px solid ",";\n\tfont-size: 0.95rem;\n"])),zC.error,zC.error),OQ=CC.div(yQ||(yQ=Rk(["\n\tbackground-color: #f0fdf4;\n\tcolor: ",";\n\tpadding: 1rem;\n\tborder-radius: 6px;\n\tborder-left: 4px solid ",";\n\tfont-size: 0.95rem;\n"])),zC.success,zC.success),DQ=CC.div(vQ||(vQ=Rk(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(255, 255, 255, 0.7);\n\tborder-radius: 12px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 10;\n\n\t&::after {\n\t\tcontent: '';\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tborder: 4px solid ",";\n\t\tborder-top-color: ",";\n\t\tborder-radius: 50%;\n\t\tanimation: spin 0.6s linear infinite;\n\t}\n\n\t@keyframes spin {\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n"])),zC.primaryLight,zC.primary),MQ=()=>{const e=A(),n=YS(),r=b((t=>t.user.currentUser)),[i]=fw(),[o,a]=(0,t.useState)({firstName:"",lastName:"",title:"",image:""}),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1);(0,t.useEffect)((()=>{r?a({firstName:r.firstName||"",lastName:r.lastName||"",title:r.title||"",image:r.image||""}):n("/login")}),[r,n]);const y=t=>{const{name:e,value:n}=t.target;a((t=>({...t,[e]:n}))),h(null)};return(0,jk.jsxs)(xQ,{children:[(0,jk.jsxs)(yO,{children:[(0,jk.jsx)(vO,{children:"Edit Profile"}),(0,jk.jsxs)(jQ,{children:[(0,jk.jsx)(PQ,{onClick:()=>{n(-1)},disabled:m,children:"Cancel"}),(0,jk.jsx)(RQ,{onClick:async()=>{if(o.firstName.trim()&&o.lastName.trim()){g(!0),h(null),f(null);try{const t=await i({id:r.id,updates:{firstName:o.firstName,lastName:o.lastName,title:o.title,image:o.image}}).unwrap();e(We({...r,...t})),f("Profile updated successfully!"),setTimeout((()=>f(null)),3e3)}catch(t){const e=(null===t||void 0===t?void 0:t.message)||"Failed to update profile. Please try again.";h(e),console.error("Profile update error:",t)}finally{g(!1)}}else h("First name and last name are required.")},disabled:m,children:m?"Saving...":"Save Changes"})]})]}),(0,jk.jsxs)(bQ,{children:[m&&(0,jk.jsx)(DQ,{}),(0,jk.jsxs)(wQ,{children:[d&&(0,jk.jsx)(NQ,{children:d}),p&&(0,jk.jsx)(OQ,{children:p}),(0,jk.jsxs)(SQ,{children:[(0,jk.jsxs)(CQ,{children:[(0,jk.jsx)(EQ,{children:"Profile Picture"}),o.image&&(0,jk.jsx)(TQ,{src:o.image,alt:"Profile"}),(0,jk.jsxs)("label",{children:[(0,jk.jsx)(IQ,{type:"file",accept:"image/*",onChange:async t=>{var e;const n=null===(e=t.target.files)||void 0===e?void 0:e[0];if(n)if(u(null),PL(n)){l(!0);try{const t=await jL(n);a((e=>({...e,image:t})))}catch(r){u("Failed to upload image. Please try again."),console.error("Image upload error:",r)}finally{l(!1)}}else u("Invalid image. Please use an image file under 700KB.")},disabled:s||m}),(0,jk.jsx)(AQ,{as:"span",children:s?"Uploading...":"Choose Photo"})]}),c&&(0,jk.jsx)(NQ,{children:c})]}),(0,jk.jsxs)(kQ,{children:[(0,jk.jsx)(EQ,{htmlFor:"firstName",children:"First Name *"}),(0,jk.jsx)(_Q,{id:"firstName",name:"firstName",type:"text",value:o.firstName,onChange:y,placeholder:"Enter first name",disabled:m})]}),(0,jk.jsxs)(kQ,{children:[(0,jk.jsx)(EQ,{htmlFor:"lastName",children:"Last Name *"}),(0,jk.jsx)(_Q,{id:"lastName",name:"lastName",type:"text",value:o.lastName,onChange:y,placeholder:"Enter last name",disabled:m})]}),(0,jk.jsxs)(kQ,{children:[(0,jk.jsx)(EQ,{htmlFor:"title",children:"Job Title"}),(0,jk.jsx)(_Q,{id:"title",name:"title",type:"text",value:o.title,onChange:y,placeholder:"e.g., Property Manager, Administrator",disabled:m})]}),(0,jk.jsxs)(kQ,{children:[(0,jk.jsx)(EQ,{htmlFor:"email",children:"Email"}),(0,jk.jsx)(_Q,{id:"email",type:"email",value:r.email,disabled:!0,placeholder:"Your email address"}),(0,jk.jsx)("small",{style:{color:"#666",marginTop:"0.25rem"},children:"Email cannot be changed"})]}),(0,jk.jsxs)(kQ,{children:[(0,jk.jsx)(EQ,{htmlFor:"role",children:"Role"}),(0,jk.jsx)(_Q,{id:"role",type:"text",value:r.role,disabled:!0,placeholder:"Your role"}),(0,jk.jsx)("small",{style:{color:"#666",marginTop:"0.25rem"},children:"Role cannot be changed"})]})]})]})]})]})},LQ=()=>(0,jk.jsx)(Ek,{children:(0,jk.jsxs)(vk,{children:[(0,jk.jsx)(gk,{path:"/",element:(0,jk.jsx)(fk,{to:"/login",replace:!0}),errorElement:(0,jk.jsx)(Pk,{})}),(0,jk.jsx)(gk,{path:"login",element:(0,jk.jsx)(SP,{})}),(0,jk.jsx)(gk,{path:"registration",element:(0,jk.jsx)(oR,{})}),(0,jk.jsx)(gk,{path:"unauthorized",element:(0,jk.jsx)(FC,{})}),(0,jk.jsxs)(gk,{element:(0,jk.jsx)(sR,{children:(0,jk.jsx)(aO,{})}),children:[(0,jk.jsx)(gk,{path:"dashboard",element:(0,jk.jsx)(yM,{})}),(0,jk.jsx)(gk,{path:"properties",element:(0,jk.jsx)(sR,{requiredRoles:lP,children:(0,jk.jsx)(EF,{})})}),(0,jk.jsx)(gk,{path:"property/:slug",element:(0,jk.jsx)(sR,{requiredRoles:lP,children:(0,jk.jsx)(aB,{})})}),(0,jk.jsx)(gk,{path:"property/:slug/unit/:unitName",element:(0,jk.jsx)(sR,{requiredRoles:lP,children:(0,jk.jsx)(aH,{})})}),(0,jk.jsx)(gk,{path:"property/:slug/suite/:suiteName",element:(0,jk.jsx)(sR,{requiredRoles:lP,children:(0,jk.jsx)($H,{})})}),(0,jk.jsx)(gk,{path:"team",element:(0,jk.jsx)(sR,{requiredRoles:sP,children:(0,jk.jsx)(WK,{})})}),(0,jk.jsx)(gk,{path:"report",element:(0,jk.jsx)(sR,{requiredRoles:lP,children:(0,jk.jsx)(XG,{})})}),(0,jk.jsx)(gk,{path:"settings",element:(0,jk.jsx)(NR,{})}),(0,jk.jsx)(gk,{path:"profile",element:(0,jk.jsx)(sR,{children:(0,jk.jsx)(MQ,{})})})]}),(0,jk.jsx)(gk,{path:"*",element:(0,jk.jsx)(fk,{to:"dashboard",replace:!0})})]})});var FQ,zQ,UQ,VQ,qQ,BQ;CC.div(FQ||(FQ=Rk(["\n\tposition: fixed;\n\ttop: 20px;\n\tright: 20px;\n\tbackground: white;\n\tpadding: 20px;\n\tborder-radius: 8px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tmax-width: 400px;\n\tz-index: 10000;\n"]))),CC.button(zQ||(zQ=Rk(["\n\tbackground: #4caf50;\n\tcolor: white;\n\tborder: none;\n\tpadding: 10px 20px;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\tmargin-bottom: 15px;\n\twidth: 100%;\n\tfont-size: 14px;\n\n\t&:hover {\n\t\tbackground: #45a049;\n\t}\n\n\t&:disabled {\n\t\tbackground: #ccc;\n\t\tcursor: not-allowed;\n\t}\n"]))),CC.button(UQ||(UQ=Rk(["\n\tposition: absolute;\n\ttop: 10px;\n\tright: 10px;\n\tbackground: #f44336;\n\tcolor: white;\n\tborder: none;\n\tpadding: 5px 10px;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\tfont-size: 12px;\n\n\t&:hover {\n\t\tbackground: #da190b;\n\t}\n"]))),CC.div(VQ||(VQ=Rk(["\n\tpadding: 8px;\n\tmargin: 5px 0;\n\tborder-radius: 4px;\n\tbackground: ",";\n\tcolor: ",";\n\tfont-size: 13px;\n\tborder: 1px solid ",";\n"])),(t=>t.$success?"#d4edda":"#f8d7da"),(t=>t.$success?"#155724":"#721c24"),(t=>t.$success?"#c3e6cb":"#f5c6cb")),CC.h3(qQ||(qQ=Rk(["\n\tmargin: 0 0 15px 0;\n\tcolor: #333;\n\tfont-size: 18px;\n"]))),CC.p(BQ||(BQ=Rk(["\n\tcolor: #666;\n\tfont-size: 14px;\n\ttext-align: center;\n"])));const HQ=(0,t.createContext)({isInitialLoadComplete:!1,isLoading:!0,error:null}),WQ=e=>{let{children:n}=e;const r=A(),i=b((t=>t.user.currentUser)),[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),{data:c=[],isLoading:u}=Yb(void 0,{skip:!i}),{isLoading:d}=ew(void 0,{skip:!i}),{data:h=[],isLoading:p}=aw(void 0,{skip:!i}),{data:f=[],isLoading:m}=mw(void 0,{skip:!i}),{isLoading:g}=xw(void 0,{skip:!i});(0,t.useEffect)((()=>{if(!i)return void a(!1);u||d||p||m||g||o||(r(nn(c.map((t=>({...t,properties:t.properties||[]}))))),r(sn(h)),r(gn(f.map((t=>({...t,members:t.members||[]}))))),a(!0),l(null))}),[i,u,d,p,m,g,c,h,f,r,o]);const y=u||d||p||m||g;return(0,jk.jsx)(HQ.Provider,{value:{isInitialLoadComplete:o,isLoading:y,error:s},children:n})},KQ=()=>{const e=A();return(0,t.useEffect)((()=>{const t=gP((async t=>{t?(console.log("App.tsx: User authenticated:",t),e(We(t)),localStorage.setItem("loggedUser",JSON.stringify({token:"firebase-token-".concat(t.id),user:t}))):(console.log("App.tsx: No user authenticated"),e(We(null)),localStorage.removeItem("loggedUser")),e(Ge(!1))}));return()=>t()}),[e]),(0,jk.jsxs)(jk.Fragment,{children:[!1,(0,jk.jsx)(WQ,{children:(0,jk.jsx)(LQ,{})})]})};r.createRoot(document.getElementById("root")).render((0,jk.jsx)(t.StrictMode,{children:(0,jk.jsxs)(_,{store:Xw,children:[(0,jk.jsx)(pR,{}),(0,jk.jsx)(KQ,{})]})})),i(console.log)})()})();
//# sourceMappingURL=main.830a4fc3.js.map